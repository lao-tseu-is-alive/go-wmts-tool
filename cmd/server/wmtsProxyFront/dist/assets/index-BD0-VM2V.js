var uS=Object.defineProperty;var hS=(t,e,n)=>e in t?uS(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var dS=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Rl=(t,e,n)=>hS(t,typeof e!="symbol"?e+"":e,n);var F4=dS(we=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function nf(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const tt={},ea=[],Si=()=>{},fS=()=>!1,ou=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),sf=t=>t.startsWith("onUpdate:"),Et=Object.assign,rf=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},gS=Object.prototype.hasOwnProperty,qe=(t,e)=>gS.call(t,e),Ce=Array.isArray,ta=t=>lu(t)==="[object Map]",Sy=t=>lu(t)==="[object Set]",Te=t=>typeof t=="function",gt=t=>typeof t=="string",Ps=t=>typeof t=="symbol",at=t=>t!==null&&typeof t=="object",Ey=t=>(at(t)||Te(t))&&Te(t.then)&&Te(t.catch),Cy=Object.prototype.toString,lu=t=>Cy.call(t),mS=t=>lu(t).slice(8,-1),wy=t=>lu(t)==="[object Object]",af=t=>gt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,ao=nf(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cu=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},vS=/-(\w)/g,xn=cu(t=>t.replace(vS,(e,n)=>n?n.toUpperCase():"")),yS=/\B([A-Z])/g,Er=cu(t=>t.replace(yS,"-$1").toLowerCase()),Qi=cu(t=>t.charAt(0).toUpperCase()+t.slice(1)),Ju=cu(t=>t?`on${Qi(t)}`:""),Es=(t,e)=>!Object.is(t,e),Qu=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},My=(t,e,n,i=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:i,value:n})},_S=t=>{const e=parseFloat(t);return isNaN(e)?t:e},pS=t=>{const e=gt(t)?Number(t):NaN;return isNaN(e)?t:e};let Kg;const uu=()=>Kg||(Kg=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function of(t){if(Ce(t)){const e={};for(let n=0;n<t.length;n++){const i=t[n],s=gt(i)?ES(i):of(i);if(s)for(const r in s)e[r]=s[r]}return e}else if(gt(t)||at(t))return t}const xS=/;(?![^(]*\))/g,bS=/:([^]+)/,SS=/\/\*[^]*?\*\//g;function ES(t){const e={};return t.replace(SS,"").split(xS).forEach(n=>{if(n){const i=n.split(bS);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function lf(t){let e="";if(gt(t))e=t;else if(Ce(t))for(let n=0;n<t.length;n++){const i=lf(t[n]);i&&(e+=i+" ")}else if(at(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const CS="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",wS=nf(CS);function Ty(t){return!!t||t===""}const Ry=t=>!!(t&&t.__v_isRef===!0),dn=t=>gt(t)?t:t==null?"":Ce(t)||at(t)&&(t.toString===Cy||!Te(t.toString))?Ry(t)?dn(t.value):JSON.stringify(t,Iy,2):String(t),Iy=(t,e)=>Ry(e)?Iy(t,e.value):ta(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[i,s],r)=>(n[eh(i,r)+" =>"]=s,n),{})}:Sy(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>eh(n))}:Ps(e)?eh(e):at(e)&&!Ce(e)&&!wy(e)?String(e):e,eh=(t,e="")=>{var n;return Ps(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Xt;class Ay{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Xt,!e&&Xt&&(this.index=(Xt.scopes||(Xt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=Xt;try{return Xt=this,e()}finally{Xt=n}}}on(){Xt=this}off(){Xt=this.parent}stop(e){if(this._active){this._active=!1;let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(this.effects.length=0,n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function Co(t){return new Ay(t)}function MS(){return Xt}function tn(t,e=!1){Xt&&Xt.cleanups.push(t)}let nt;const th=new WeakSet;class Py{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Xt&&Xt.active&&Xt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,th.has(this)&&(th.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Oy(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Yg(this),ky(this);const e=nt,n=Yn;nt=this,Yn=!0;try{return this.fn()}finally{Dy(this),nt=e,Yn=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)hf(e);this.deps=this.depsTail=void 0,Yg(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?th.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){ed(this)&&this.run()}get dirty(){return ed(this)}}let Ly=0,oo,lo;function Oy(t,e=!1){if(t.flags|=8,e){t.next=lo,lo=t;return}t.next=oo,oo=t}function cf(){Ly++}function uf(){if(--Ly>0)return;if(lo){let e=lo;for(lo=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;oo;){let e=oo;for(oo=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(i){t||(t=i)}e=n}}if(t)throw t}function ky(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Dy(t){let e,n=t.depsTail,i=n;for(;i;){const s=i.prevDep;i.version===-1?(i===n&&(n=s),hf(i),TS(i)):e=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=s}t.deps=e,t.depsTail=n}function ed(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Ny(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Ny(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===wo))return;t.globalVersion=wo;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!ed(t)){t.flags&=-3;return}const n=nt,i=Yn;nt=t,Yn=!0;try{ky(t);const s=t.fn(t._value);(e.version===0||Es(s,t._value))&&(t._value=s,e.version++)}catch(s){throw e.version++,s}finally{nt=n,Yn=i,Dy(t),t.flags&=-3}}function hf(t,e=!1){const{dep:n,prevSub:i,nextSub:s}=t;if(i&&(i.nextSub=s,t.prevSub=void 0),s&&(s.prevSub=i,t.nextSub=void 0),n.subs===t&&(n.subs=i,!i&&n.computed)){n.computed.flags&=-5;for(let r=n.computed.deps;r;r=r.nextDep)hf(r,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function TS(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let Yn=!0;const Fy=[];function Ls(){Fy.push(Yn),Yn=!1}function Os(){const t=Fy.pop();Yn=t===void 0?!0:t}function Yg(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=nt;nt=void 0;try{e()}finally{nt=n}}}let wo=0;class RS{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class df{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!nt||!Yn||nt===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==nt)n=this.activeLink=new RS(nt,this),nt.deps?(n.prevDep=nt.depsTail,nt.depsTail.nextDep=n,nt.depsTail=n):nt.deps=nt.depsTail=n,By(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const i=n.nextDep;i.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=i),n.prevDep=nt.depsTail,n.nextDep=void 0,nt.depsTail.nextDep=n,nt.depsTail=n,nt.deps===n&&(nt.deps=i)}return n}trigger(e){this.version++,wo++,this.notify(e)}notify(e){cf();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{uf()}}}function By(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let i=e.deps;i;i=i.nextDep)By(i)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const yc=new WeakMap,sr=Symbol(""),td=Symbol(""),Mo=Symbol("");function Vt(t,e,n){if(Yn&&nt){let i=yc.get(t);i||yc.set(t,i=new Map);let s=i.get(n);s||(i.set(n,s=new df),s.map=i,s.key=n),s.track()}}function Wi(t,e,n,i,s,r){const a=yc.get(t);if(!a){wo++;return}const o=l=>{l&&l.trigger()};if(cf(),e==="clear")a.forEach(o);else{const l=Ce(t),c=l&&af(n);if(l&&n==="length"){const u=Number(i);a.forEach((h,d)=>{(d==="length"||d===Mo||!Ps(d)&&d>=u)&&o(h)})}else switch((n!==void 0||a.has(void 0))&&o(a.get(n)),c&&o(a.get(Mo)),e){case"add":l?c&&o(a.get("length")):(o(a.get(sr)),ta(t)&&o(a.get(td)));break;case"delete":l||(o(a.get(sr)),ta(t)&&o(a.get(td)));break;case"set":ta(t)&&o(a.get(sr));break}}uf()}function IS(t,e){const n=yc.get(t);return n&&n.get(e)}function Ir(t){const e=ve(t);return e===t?e:(Vt(e,"iterate",Mo),Zn(t)?e:e.map(qt))}function ff(t){return Vt(t=ve(t),"iterate",Mo),t}const AS={__proto__:null,[Symbol.iterator](){return nh(this,Symbol.iterator,qt)},concat(...t){return Ir(this).concat(...t.map(e=>Ce(e)?Ir(e):e))},entries(){return nh(this,"entries",t=>(t[1]=qt(t[1]),t))},every(t,e){return Di(this,"every",t,e,void 0,arguments)},filter(t,e){return Di(this,"filter",t,e,n=>n.map(qt),arguments)},find(t,e){return Di(this,"find",t,e,qt,arguments)},findIndex(t,e){return Di(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Di(this,"findLast",t,e,qt,arguments)},findLastIndex(t,e){return Di(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Di(this,"forEach",t,e,void 0,arguments)},includes(...t){return ih(this,"includes",t)},indexOf(...t){return ih(this,"indexOf",t)},join(t){return Ir(this).join(t)},lastIndexOf(...t){return ih(this,"lastIndexOf",t)},map(t,e){return Di(this,"map",t,e,void 0,arguments)},pop(){return Va(this,"pop")},push(...t){return Va(this,"push",t)},reduce(t,...e){return Zg(this,"reduce",t,e)},reduceRight(t,...e){return Zg(this,"reduceRight",t,e)},shift(){return Va(this,"shift")},some(t,e){return Di(this,"some",t,e,void 0,arguments)},splice(...t){return Va(this,"splice",t)},toReversed(){return Ir(this).toReversed()},toSorted(t){return Ir(this).toSorted(t)},toSpliced(...t){return Ir(this).toSpliced(...t)},unshift(...t){return Va(this,"unshift",t)},values(){return nh(this,"values",qt)}};function nh(t,e,n){const i=ff(t),s=i[e]();return i!==t&&!Zn(t)&&(s._next=s.next,s.next=()=>{const r=s._next();return r.value&&(r.value=n(r.value)),r}),s}const PS=Array.prototype;function Di(t,e,n,i,s,r){const a=ff(t),o=a!==t&&!Zn(t),l=a[e];if(l!==PS[e]){const h=l.apply(t,r);return o?qt(h):h}let c=n;a!==t&&(o?c=function(h,d){return n.call(this,qt(h),d,t)}:n.length>2&&(c=function(h,d){return n.call(this,h,d,t)}));const u=l.call(a,c,i);return o&&s?s(u):u}function Zg(t,e,n,i){const s=ff(t);let r=n;return s!==t&&(Zn(t)?n.length>3&&(r=function(a,o,l){return n.call(this,a,o,l,t)}):r=function(a,o,l){return n.call(this,a,qt(o),l,t)}),s[e](r,...i)}function ih(t,e,n){const i=ve(t);Vt(i,"iterate",Mo);const s=i[e](...n);return(s===-1||s===!1)&&vf(n[0])?(n[0]=ve(n[0]),i[e](...n)):s}function Va(t,e,n=[]){Ls(),cf();const i=ve(t)[e].apply(t,n);return uf(),Os(),i}const LS=nf("__proto__,__v_isRef,__isVue"),Vy=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Ps));function OS(t){Ps(t)||(t=String(t));const e=ve(this);return Vt(e,"has",t),e.hasOwnProperty(t)}class $y{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,i){if(n==="__v_skip")return e.__v_skip;const s=this._isReadonly,r=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return r;if(n==="__v_raw")return i===(s?r?WS:Uy:r?Wy:zy).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(i)?e:void 0;const a=Ce(e);if(!s){let l;if(a&&(l=AS[n]))return l;if(n==="hasOwnProperty")return OS}const o=Reflect.get(e,n,ct(e)?e:i);return(Ps(n)?Vy.has(n):LS(n))||(s||Vt(e,"get",n),r)?o:ct(o)?a&&af(n)?o:o.value:at(o)?s?el(o):Mt(o):o}}class Gy extends $y{constructor(e=!1){super(!1,e)}set(e,n,i,s){let r=e[n];if(!this._isShallow){const l=hr(r);if(!Zn(i)&&!hr(i)&&(r=ve(r),i=ve(i)),!Ce(e)&&ct(r)&&!ct(i))return l?!1:(r.value=i,!0)}const a=Ce(e)&&af(n)?Number(n)<e.length:qe(e,n),o=Reflect.set(e,n,i,ct(e)?e:s);return e===ve(s)&&(a?Es(i,r)&&Wi(e,"set",n,i):Wi(e,"add",n,i)),o}deleteProperty(e,n){const i=qe(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&i&&Wi(e,"delete",n,void 0),s}has(e,n){const i=Reflect.has(e,n);return(!Ps(n)||!Vy.has(n))&&Vt(e,"has",n),i}ownKeys(e){return Vt(e,"iterate",Ce(e)?"length":sr),Reflect.ownKeys(e)}}class kS extends $y{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const DS=new Gy,NS=new kS,FS=new Gy(!0),nd=t=>t,Il=t=>Reflect.getPrototypeOf(t);function BS(t,e,n){return function(...i){const s=this.__v_raw,r=ve(s),a=ta(r),o=t==="entries"||t===Symbol.iterator&&a,l=t==="keys"&&a,c=s[t](...i),u=n?nd:e?id:qt;return!e&&Vt(r,"iterate",l?td:sr),{next(){const{value:h,done:d}=c.next();return d?{value:h,done:d}:{value:o?[u(h[0]),u(h[1])]:u(h),done:d}},[Symbol.iterator](){return this}}}}function Al(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function VS(t,e){const n={get(s){const r=this.__v_raw,a=ve(r),o=ve(s);t||(Es(s,o)&&Vt(a,"get",s),Vt(a,"get",o));const{has:l}=Il(a),c=e?nd:t?id:qt;if(l.call(a,s))return c(r.get(s));if(l.call(a,o))return c(r.get(o));r!==a&&r.get(s)},get size(){const s=this.__v_raw;return!t&&Vt(ve(s),"iterate",sr),Reflect.get(s,"size",s)},has(s){const r=this.__v_raw,a=ve(r),o=ve(s);return t||(Es(s,o)&&Vt(a,"has",s),Vt(a,"has",o)),s===o?r.has(s):r.has(s)||r.has(o)},forEach(s,r){const a=this,o=a.__v_raw,l=ve(o),c=e?nd:t?id:qt;return!t&&Vt(l,"iterate",sr),o.forEach((u,h)=>s.call(r,c(u),c(h),a))}};return Et(n,t?{add:Al("add"),set:Al("set"),delete:Al("delete"),clear:Al("clear")}:{add(s){!e&&!Zn(s)&&!hr(s)&&(s=ve(s));const r=ve(this);return Il(r).has.call(r,s)||(r.add(s),Wi(r,"add",s,s)),this},set(s,r){!e&&!Zn(r)&&!hr(r)&&(r=ve(r));const a=ve(this),{has:o,get:l}=Il(a);let c=o.call(a,s);c||(s=ve(s),c=o.call(a,s));const u=l.call(a,s);return a.set(s,r),c?Es(r,u)&&Wi(a,"set",s,r):Wi(a,"add",s,r),this},delete(s){const r=ve(this),{has:a,get:o}=Il(r);let l=a.call(r,s);l||(s=ve(s),l=a.call(r,s)),o&&o.call(r,s);const c=r.delete(s);return l&&Wi(r,"delete",s,void 0),c},clear(){const s=ve(this),r=s.size!==0,a=s.clear();return r&&Wi(s,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=BS(s,t,e)}),n}function gf(t,e){const n=VS(t,e);return(i,s,r)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?i:Reflect.get(qe(n,s)&&s in i?n:i,s,r)}const $S={get:gf(!1,!1)},GS={get:gf(!1,!0)},zS={get:gf(!0,!1)},zy=new WeakMap,Wy=new WeakMap,Uy=new WeakMap,WS=new WeakMap;function US(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function jS(t){return t.__v_skip||!Object.isExtensible(t)?0:US(mS(t))}function Mt(t){return hr(t)?t:mf(t,!1,DS,$S,zy)}function HS(t){return mf(t,!1,FS,GS,Wy)}function el(t){return mf(t,!0,NS,zS,Uy)}function mf(t,e,n,i,s){if(!at(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const r=s.get(t);if(r)return r;const a=jS(t);if(a===0)return t;const o=new Proxy(t,a===2?i:n);return s.set(t,o),o}function co(t){return hr(t)?co(t.__v_raw):!!(t&&t.__v_isReactive)}function hr(t){return!!(t&&t.__v_isReadonly)}function Zn(t){return!!(t&&t.__v_isShallow)}function vf(t){return t?!!t.__v_raw:!1}function ve(t){const e=t&&t.__v_raw;return e?ve(e):t}function XS(t){return!qe(t,"__v_skip")&&Object.isExtensible(t)&&My(t,"__v_skip",!0),t}const qt=t=>at(t)?Mt(t):t,id=t=>at(t)?el(t):t;function ct(t){return t?t.__v_isRef===!0:!1}function le(t){return jy(t,!1)}function ge(t){return jy(t,!0)}function jy(t,e){return ct(t)?t:new qS(t,e)}class qS{constructor(e,n){this.dep=new df,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:ve(e),this._value=n?e:qt(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,i=this.__v_isShallow||Zn(e)||hr(e);e=i?e:ve(e),Es(e,n)&&(this._rawValue=e,this._value=i?e:qt(e),this.dep.trigger())}}function Mn(t){return ct(t)?t.value:t}const KS={get:(t,e,n)=>e==="__v_raw"?t:Mn(Reflect.get(t,e,n)),set:(t,e,n,i)=>{const s=t[e];return ct(s)&&!ct(n)?(s.value=n,!0):Reflect.set(t,e,n,i)}};function Hy(t){return co(t)?t:new Proxy(t,KS)}function yf(t){const e=Ce(t)?new Array(t.length):{};for(const n in t)e[n]=Xy(t,n);return e}class YS{constructor(e,n,i){this._object=e,this._key=n,this._defaultValue=i,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return IS(ve(this._object),this._key)}}class ZS{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function ye(t,e,n){return ct(t)?t:Te(t)?new ZS(t):at(t)&&arguments.length>1?Xy(t,e,n):le(t)}function Xy(t,e,n){const i=t[e];return ct(i)?i:new YS(t,e,n)}class JS{constructor(e,n,i){this.fn=e,this.setter=n,this._value=void 0,this.dep=new df(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=wo-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&nt!==this)return Oy(this,!0),!0}get value(){const e=this.dep.track();return Ny(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function QS(t,e,n=!1){let i,s;return Te(t)?i=t:(i=t.get,s=t.set),new JS(i,s,n)}const Pl={},_c=new WeakMap;let Ks;function eE(t,e=!1,n=Ks){if(n){let i=_c.get(n);i||_c.set(n,i=[]),i.push(t)}}function tE(t,e,n=tt){const{immediate:i,deep:s,once:r,scheduler:a,augmentJob:o,call:l}=n,c=x=>s?x:Zn(x)||s===!1||s===0?Ui(x,1):Ui(x);let u,h,d,f,g=!1,m=!1;if(ct(t)?(h=()=>t.value,g=Zn(t)):co(t)?(h=()=>c(t),g=!0):Ce(t)?(m=!0,g=t.some(x=>co(x)||Zn(x)),h=()=>t.map(x=>{if(ct(x))return x.value;if(co(x))return c(x);if(Te(x))return l?l(x,2):x()})):Te(t)?e?h=l?()=>l(t,2):t:h=()=>{if(d){Ls();try{d()}finally{Os()}}const x=Ks;Ks=u;try{return l?l(t,3,[f]):t(f)}finally{Ks=x}}:h=Si,e&&s){const x=h,b=s===!0?1/0:s;h=()=>Ui(x(),b)}const v=MS(),y=()=>{u.stop(),v&&v.active&&rf(v.effects,u)};if(r&&e){const x=e;e=(...b)=>{x(...b),y()}}let _=m?new Array(t.length).fill(Pl):Pl;const p=x=>{if(!(!(u.flags&1)||!u.dirty&&!x))if(e){const b=u.run();if(s||g||(m?b.some((C,M)=>Es(C,_[M])):Es(b,_))){d&&d();const C=Ks;Ks=u;try{const M=[b,_===Pl?void 0:m&&_[0]===Pl?[]:_,f];l?l(e,3,M):e(...M),_=b}finally{Ks=C}}}else u.run()};return o&&o(p),u=new Py(h),u.scheduler=a?()=>a(p,!1):p,f=x=>eE(x,!1,u),d=u.onStop=()=>{const x=_c.get(u);if(x){if(l)l(x,4);else for(const b of x)b();_c.delete(u)}},e?i?p(!0):_=u.run():a?a(p.bind(null,!0),!0):u.run(),y.pause=u.pause.bind(u),y.resume=u.resume.bind(u),y.stop=y,y}function Ui(t,e=1/0,n){if(e<=0||!at(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,ct(t))Ui(t.value,e,n);else if(Ce(t))for(let i=0;i<t.length;i++)Ui(t[i],e,n);else if(Sy(t)||ta(t))t.forEach(i=>{Ui(i,e,n)});else if(wy(t)){for(const i in t)Ui(t[i],e,n);for(const i of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,i)&&Ui(t[i],e,n)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function tl(t,e,n,i){try{return i?t(...i):t()}catch(s){hu(s,e,n)}}function ti(t,e,n,i){if(Te(t)){const s=tl(t,e,n,i);return s&&Ey(s)&&s.catch(r=>{hu(r,e,n)}),s}if(Ce(t)){const s=[];for(let r=0;r<t.length;r++)s.push(ti(t[r],e,n,i));return s}}function hu(t,e,n,i=!0){const s=e?e.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:a}=e&&e.appContext.config||tt;if(e){let o=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;o;){const u=o.ec;if(u){for(let h=0;h<u.length;h++)if(u[h](t,l,c)===!1)return}o=o.parent}if(r){Ls(),tl(r,null,10,[t,l,c]),Os();return}}nE(t,n,s,i,a)}function nE(t,e,n,i=!0,s=!1){if(s)throw t;console.error(t)}const Kt=[];let fi=-1;const na=[];let vs=null,Vr=0;const qy=Promise.resolve();let pc=null;function Qt(t){const e=pc||qy;return t?e.then(this?t.bind(this):t):e}function iE(t){let e=fi+1,n=Kt.length;for(;e<n;){const i=e+n>>>1,s=Kt[i],r=To(s);r<t||r===t&&s.flags&2?e=i+1:n=i}return e}function _f(t){if(!(t.flags&1)){const e=To(t),n=Kt[Kt.length-1];!n||!(t.flags&2)&&e>=To(n)?Kt.push(t):Kt.splice(iE(e),0,t),t.flags|=1,Ky()}}function Ky(){pc||(pc=qy.then(Zy))}function sE(t){Ce(t)?na.push(...t):vs&&t.id===-1?vs.splice(Vr+1,0,t):t.flags&1||(na.push(t),t.flags|=1),Ky()}function Jg(t,e,n=fi+1){for(;n<Kt.length;n++){const i=Kt[n];if(i&&i.flags&2){if(t&&i.id!==t.uid)continue;Kt.splice(n,1),n--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function Yy(t){if(na.length){const e=[...new Set(na)].sort((n,i)=>To(n)-To(i));if(na.length=0,vs){vs.push(...e);return}for(vs=e,Vr=0;Vr<vs.length;Vr++){const n=vs[Vr];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}vs=null,Vr=0}}const To=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Zy(t){try{for(fi=0;fi<Kt.length;fi++){const e=Kt[fi];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),tl(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;fi<Kt.length;fi++){const e=Kt[fi];e&&(e.flags&=-2)}fi=-1,Kt.length=0,Yy(),pc=null,(Kt.length||na.length)&&Zy()}}let vn=null,Jy=null;function xc(t){const e=vn;return vn=t,Jy=t&&t.type.__scopeId||null,e}function ot(t,e=vn,n){if(!e||t._n)return t;const i=(...s)=>{i._d&&dm(-1);const r=xc(e);let a;try{a=t(...s)}finally{xc(r),i._d&&dm(1)}return a};return i._n=!0,i._c=!0,i._d=!0,i}function In(t,e){if(vn===null)return t;const n=vu(vn),i=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[r,a,o,l=tt]=e[s];r&&(Te(r)&&(r={mounted:r,updated:r}),r.deep&&Ui(a),i.push({dir:r,instance:n,value:a,oldValue:void 0,arg:o,modifiers:l}))}return t}function Ws(t,e,n,i){const s=t.dirs,r=e&&e.dirs;for(let a=0;a<s.length;a++){const o=s[a];r&&(o.oldValue=r[a].value);let l=o.dir[i];l&&(Ls(),ti(l,n,8,[t.el,o,t,e]),Os())}}const Qy=Symbol("_vte"),e_=t=>t.__isTeleport,uo=t=>t&&(t.disabled||t.disabled===""),Qg=t=>t&&(t.defer||t.defer===""),em=t=>typeof SVGElement<"u"&&t instanceof SVGElement,tm=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,sd=(t,e)=>{const n=t&&t.to;return gt(n)?e?e(n):null:n},t_={name:"Teleport",__isTeleport:!0,process(t,e,n,i,s,r,a,o,l,c){const{mc:u,pc:h,pbc:d,o:{insert:f,querySelector:g,createText:m,createComment:v}}=c,y=uo(e.props);let{shapeFlag:_,children:p,dynamicChildren:x}=e;if(t==null){const b=e.el=m(""),C=e.anchor=m("");f(b,n,i),f(C,n,i);const M=(R,O)=>{_&16&&(s&&s.isCE&&(s.ce._teleportTarget=R),u(p,R,O,s,r,a,o,l))},E=()=>{const R=e.target=sd(e.props,g),O=n_(R,e,m,f);R&&(a!=="svg"&&em(R)?a="svg":a!=="mathml"&&tm(R)&&(a="mathml"),y||(M(R,O),nc(e,!1)))};y&&(M(n,C),nc(e,!0)),Qg(e.props)?jt(()=>{E(),e.el.__isMounted=!0},r):E()}else{if(Qg(e.props)&&!t.el.__isMounted){jt(()=>{t_.process(t,e,n,i,s,r,a,o,l,c),delete t.el.__isMounted},r);return}e.el=t.el,e.targetStart=t.targetStart;const b=e.anchor=t.anchor,C=e.target=t.target,M=e.targetAnchor=t.targetAnchor,E=uo(t.props),R=E?n:C,O=E?b:M;if(a==="svg"||em(C)?a="svg":(a==="mathml"||tm(C))&&(a="mathml"),x?(d(t.dynamicChildren,x,R,s,r,a,o),Cf(t,e,!0)):l||h(t,e,R,O,s,r,a,o,!1),y)E?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):Ll(e,n,b,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const k=e.target=sd(e.props,g);k&&Ll(e,k,null,c,0)}else E&&Ll(e,C,M,c,1);nc(e,y)}},remove(t,e,n,{um:i,o:{remove:s}},r){const{shapeFlag:a,children:o,anchor:l,targetStart:c,targetAnchor:u,target:h,props:d}=t;if(h&&(s(c),s(u)),r&&s(l),a&16){const f=r||!uo(d);for(let g=0;g<o.length;g++){const m=o[g];i(m,e,n,f,!!m.dynamicChildren)}}},move:Ll,hydrate:rE};function Ll(t,e,n,{o:{insert:i},m:s},r=2){r===0&&i(t.targetAnchor,e,n);const{el:a,anchor:o,shapeFlag:l,children:c,props:u}=t,h=r===2;if(h&&i(a,e,n),(!h||uo(u))&&l&16)for(let d=0;d<c.length;d++)s(c[d],e,n,2);h&&i(o,e,n)}function rE(t,e,n,i,s,r,{o:{nextSibling:a,parentNode:o,querySelector:l,insert:c,createText:u}},h){const d=e.target=sd(e.props,l);if(d){const f=uo(e.props),g=d._lpa||d.firstChild;if(e.shapeFlag&16)if(f)e.anchor=h(a(t),e,o(t),n,i,s,r),e.targetStart=g,e.targetAnchor=g&&a(g);else{e.anchor=a(t);let m=g;for(;m;){if(m&&m.nodeType===8){if(m.data==="teleport start anchor")e.targetStart=m;else if(m.data==="teleport anchor"){e.targetAnchor=m,d._lpa=e.targetAnchor&&a(e.targetAnchor);break}}m=a(m)}e.targetAnchor||n_(d,e,u,c),h(g&&a(g),e,d,n,i,s,r)}nc(e,f)}return e.anchor&&a(e.anchor)}const aE=t_;function nc(t,e){const n=t.ctx;if(n&&n.ut){let i,s;for(e?(i=t.el,s=t.anchor):(i=t.targetStart,s=t.targetAnchor);i&&i!==s;)i.nodeType===1&&i.setAttribute("data-v-owner",n.uid),i=i.nextSibling;n.ut()}}function n_(t,e,n,i){const s=e.targetStart=n(""),r=e.targetAnchor=n("");return s[Qy]=r,t&&(i(s,t),i(r,t)),r}const ys=Symbol("_leaveCb"),Ol=Symbol("_enterCb");function i_(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return ii(()=>{t.isMounted=!0}),bn(()=>{t.isUnmounting=!0}),t}const Dn=[Function,Array],s_={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Dn,onEnter:Dn,onAfterEnter:Dn,onEnterCancelled:Dn,onBeforeLeave:Dn,onLeave:Dn,onAfterLeave:Dn,onLeaveCancelled:Dn,onBeforeAppear:Dn,onAppear:Dn,onAfterAppear:Dn,onAppearCancelled:Dn},r_=t=>{const e=t.subTree;return e.component?r_(e.component):e},oE={name:"BaseTransition",props:s_,setup(t,{slots:e}){const n=mu(),i=i_();return()=>{const s=e.default&&pf(e.default(),!0);if(!s||!s.length)return;const r=a_(s),a=ve(t),{mode:o}=a;if(i.isLeaving)return sh(r);const l=nm(r);if(!l)return sh(r);let c=Ro(l,a,i,n,h=>c=h);l.type!==Cn&&dr(l,c);let u=n.subTree&&nm(n.subTree);if(u&&u.type!==Cn&&!Zs(l,u)&&r_(n).type!==Cn){let h=Ro(u,a,i,n);if(dr(u,h),o==="out-in"&&l.type!==Cn)return i.isLeaving=!0,h.afterLeave=()=>{i.isLeaving=!1,n.job.flags&8||n.update(),delete h.afterLeave,u=void 0},sh(r);o==="in-out"&&l.type!==Cn?h.delayLeave=(d,f,g)=>{const m=o_(i,u);m[String(u.key)]=u,d[ys]=()=>{f(),d[ys]=void 0,delete c.delayedLeave,u=void 0},c.delayedLeave=()=>{g(),delete c.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return r}}};function a_(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==Cn){e=n;break}}return e}const lE=oE;function o_(t,e){const{leavingVNodes:n}=t;let i=n.get(e.type);return i||(i=Object.create(null),n.set(e.type,i)),i}function Ro(t,e,n,i,s){const{appear:r,mode:a,persisted:o=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:u,onEnterCancelled:h,onBeforeLeave:d,onLeave:f,onAfterLeave:g,onLeaveCancelled:m,onBeforeAppear:v,onAppear:y,onAfterAppear:_,onAppearCancelled:p}=e,x=String(t.key),b=o_(n,t),C=(R,O)=>{R&&ti(R,i,9,O)},M=(R,O)=>{const k=O[1];C(R,O),Ce(R)?R.every(w=>w.length<=1)&&k():R.length<=1&&k()},E={mode:a,persisted:o,beforeEnter(R){let O=l;if(!n.isMounted)if(r)O=v||l;else return;R[ys]&&R[ys](!0);const k=b[x];k&&Zs(t,k)&&k.el[ys]&&k.el[ys](),C(O,[R])},enter(R){let O=c,k=u,w=h;if(!n.isMounted)if(r)O=y||c,k=_||u,w=p||h;else return;let A=!1;const D=R[Ol]=X=>{A||(A=!0,X?C(w,[R]):C(k,[R]),E.delayedLeave&&E.delayedLeave(),R[Ol]=void 0)};O?M(O,[R,D]):D()},leave(R,O){const k=String(t.key);if(R[Ol]&&R[Ol](!0),n.isUnmounting)return O();C(d,[R]);let w=!1;const A=R[ys]=D=>{w||(w=!0,O(),D?C(m,[R]):C(g,[R]),R[ys]=void 0,b[k]===t&&delete b[k])};b[k]=t,f?M(f,[R,A]):A()},clone(R){const O=Ro(R,e,n,i,s);return s&&s(O),O}};return E}function sh(t){if(du(t))return t=Ki(t),t.children=null,t}function nm(t){if(!du(t))return e_(t.type)&&t.children?a_(t.children):t;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&Te(n.default))return n.default()}}function dr(t,e){t.shapeFlag&6&&t.component?(t.transition=e,dr(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function pf(t,e=!1,n){let i=[],s=0;for(let r=0;r<t.length;r++){let a=t[r];const o=n==null?a.key:String(n)+String(a.key!=null?a.key:r);a.type===Ge?(a.patchFlag&128&&s++,i=i.concat(pf(a.children,e,o))):(e||a.type!==Cn)&&i.push(o!=null?Ki(a,{key:o}):a)}if(s>1)for(let r=0;r<i.length;r++)i[r].patchFlag=-2;return i}/*! #__NO_SIDE_EFFECTS__ */function xf(t,e){return Te(t)?Et({name:t.name},e,{setup:t}):t}function ks(){const t=mu();return t?(t.appContext.config.idPrefix||"v")+"-"+t.ids[0]+t.ids[1]++:""}function l_(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function bc(t,e,n,i,s=!1){if(Ce(t)){t.forEach((g,m)=>bc(g,e&&(Ce(e)?e[m]:e),n,i,s));return}if(ho(i)&&!s){i.shapeFlag&512&&i.type.__asyncResolved&&i.component.subTree.component&&bc(t,e,n,i.component.subTree);return}const r=i.shapeFlag&4?vu(i.component):i.el,a=s?null:r,{i:o,r:l}=t,c=e&&e.r,u=o.refs===tt?o.refs={}:o.refs,h=o.setupState,d=ve(h),f=h===tt?()=>!1:g=>qe(d,g);if(c!=null&&c!==l&&(gt(c)?(u[c]=null,f(c)&&(h[c]=null)):ct(c)&&(c.value=null)),Te(l))tl(l,o,12,[a,u]);else{const g=gt(l),m=ct(l);if(g||m){const v=()=>{if(t.f){const y=g?f(l)?h[l]:u[l]:l.value;s?Ce(y)&&rf(y,r):Ce(y)?y.includes(r)||y.push(r):g?(u[l]=[r],f(l)&&(h[l]=u[l])):(l.value=[r],t.k&&(u[t.k]=l.value))}else g?(u[l]=a,f(l)&&(h[l]=a)):m&&(l.value=a,t.k&&(u[t.k]=a))};a?(v.id=-1,jt(v,n)):v()}}}uu().requestIdleCallback;uu().cancelIdleCallback;const ho=t=>!!t.type.__asyncLoader,du=t=>t.type.__isKeepAlive;function c_(t,e){u_(t,"a",e)}function bf(t,e){u_(t,"da",e)}function u_(t,e,n=Pt){const i=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(fu(e,i,n),n){let s=n.parent;for(;s&&s.parent;)du(s.parent.vnode)&&cE(i,e,n,s),s=s.parent}}function cE(t,e,n,i){const s=fu(e,t,i,!0);h_(()=>{rf(i[e],s)},n)}function fu(t,e,n=Pt,i=!1){if(n){const s=n[t]||(n[t]=[]),r=e.__weh||(e.__weh=(...a)=>{Ls();const o=sl(n),l=ti(e,n,t,a);return o(),Os(),l});return i?s.unshift(r):s.push(r),r}}const es=t=>(e,n=Pt)=>{(!Po||t==="sp")&&fu(t,(...i)=>e(...i),n)},nl=es("bm"),ii=es("m"),uE=es("bu"),Sf=es("u"),bn=es("bum"),h_=es("um"),hE=es("sp"),dE=es("rtg"),fE=es("rtc");function gE(t,e=Pt){fu("ec",t,e)}const d_="components",mE="directives",vE=Symbol.for("v-ndc");function yE(t){return gt(t)&&f_(d_,t,!1)||t}function Cr(t){return f_(mE,t)}function f_(t,e,n=!0,i=!1){const s=vn||Pt;if(s){const r=s.type;if(t===d_){const o=iC(r,!1);if(o&&(o===e||o===xn(e)||o===Qi(xn(e))))return r}const a=im(s[t]||r[t],e)||im(s.appContext[t],e);return!a&&i?r:a}}function im(t,e){return t&&(t[e]||t[xn(e)]||t[Qi(xn(e))])}const rd=t=>t?O_(t)?vu(t):rd(t.parent):null,fo=Et(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>rd(t.parent),$root:t=>rd(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>m_(t),$forceUpdate:t=>t.f||(t.f=()=>{_f(t.update)}),$nextTick:t=>t.n||(t.n=Qt.bind(t.proxy)),$watch:t=>BE.bind(t)}),rh=(t,e)=>t!==tt&&!t.__isScriptSetup&&qe(t,e),_E={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:i,data:s,props:r,accessCache:a,type:o,appContext:l}=t;let c;if(e[0]!=="$"){const f=a[e];if(f!==void 0)switch(f){case 1:return i[e];case 2:return s[e];case 4:return n[e];case 3:return r[e]}else{if(rh(i,e))return a[e]=1,i[e];if(s!==tt&&qe(s,e))return a[e]=2,s[e];if((c=t.propsOptions[0])&&qe(c,e))return a[e]=3,r[e];if(n!==tt&&qe(n,e))return a[e]=4,n[e];ad&&(a[e]=0)}}const u=fo[e];let h,d;if(u)return e==="$attrs"&&Vt(t.attrs,"get",""),u(t);if((h=o.__cssModules)&&(h=h[e]))return h;if(n!==tt&&qe(n,e))return a[e]=4,n[e];if(d=l.config.globalProperties,qe(d,e))return d[e]},set({_:t},e,n){const{data:i,setupState:s,ctx:r}=t;return rh(s,e)?(s[e]=n,!0):i!==tt&&qe(i,e)?(i[e]=n,!0):qe(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(r[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:i,appContext:s,propsOptions:r}},a){let o;return!!n[a]||t!==tt&&qe(t,a)||rh(e,a)||(o=r[0])&&qe(o,a)||qe(i,a)||qe(fo,a)||qe(s.config.globalProperties,a)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:qe(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function sm(t){return Ce(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let ad=!0;function pE(t){const e=m_(t),n=t.proxy,i=t.ctx;ad=!1,e.beforeCreate&&rm(e.beforeCreate,t,"bc");const{data:s,computed:r,methods:a,watch:o,provide:l,inject:c,created:u,beforeMount:h,mounted:d,beforeUpdate:f,updated:g,activated:m,deactivated:v,beforeDestroy:y,beforeUnmount:_,destroyed:p,unmounted:x,render:b,renderTracked:C,renderTriggered:M,errorCaptured:E,serverPrefetch:R,expose:O,inheritAttrs:k,components:w,directives:A,filters:D}=e;if(c&&xE(c,i,null),a)for(const H in a){const z=a[H];Te(z)&&(i[H]=z.bind(n))}if(s){const H=s.call(n,n);at(H)&&(t.data=Mt(H))}if(ad=!0,r)for(const H in r){const z=r[H],F=Te(z)?z.bind(n,n):Te(z.get)?z.get.bind(n,n):Si,$=!Te(z)&&Te(z.set)?z.set.bind(n):Si,N=I({get:F,set:$});Object.defineProperty(i,H,{enumerable:!0,configurable:!0,get:()=>N.value,set:L=>N.value=L})}if(o)for(const H in o)g_(o[H],i,n,H);if(l){const H=Te(l)?l.call(n):l;Reflect.ownKeys(H).forEach(z=>{nn(z,H[z])})}u&&rm(u,t,"c");function G(H,z){Ce(z)?z.forEach(F=>H(F.bind(n))):z&&H(z.bind(n))}if(G(nl,h),G(ii,d),G(uE,f),G(Sf,g),G(c_,m),G(bf,v),G(gE,E),G(fE,C),G(dE,M),G(bn,_),G(h_,x),G(hE,R),Ce(O))if(O.length){const H=t.exposed||(t.exposed={});O.forEach(z=>{Object.defineProperty(H,z,{get:()=>n[z],set:F=>n[z]=F})})}else t.exposed||(t.exposed={});b&&t.render===Si&&(t.render=b),k!=null&&(t.inheritAttrs=k),w&&(t.components=w),A&&(t.directives=A),R&&l_(t)}function xE(t,e,n=Si){Ce(t)&&(t=od(t));for(const i in t){const s=t[i];let r;at(s)?"default"in s?r=rt(s.from||i,s.default,!0):r=rt(s.from||i):r=rt(s),ct(r)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>r.value,set:a=>r.value=a}):e[i]=r}}function rm(t,e,n){ti(Ce(t)?t.map(i=>i.bind(e.proxy)):t.bind(e.proxy),e,n)}function g_(t,e,n,i){let s=i.includes(".")?T_(n,i):()=>n[i];if(gt(t)){const r=e[t];Te(r)&&be(s,r)}else if(Te(t))be(s,t.bind(n));else if(at(t))if(Ce(t))t.forEach(r=>g_(r,e,n,i));else{const r=Te(t.handler)?t.handler.bind(n):e[t.handler];Te(r)&&be(s,r,t)}}function m_(t){const e=t.type,{mixins:n,extends:i}=e,{mixins:s,optionsCache:r,config:{optionMergeStrategies:a}}=t.appContext,o=r.get(e);let l;return o?l=o:!s.length&&!n&&!i?l=e:(l={},s.length&&s.forEach(c=>Sc(l,c,a,!0)),Sc(l,e,a)),at(e)&&r.set(e,l),l}function Sc(t,e,n,i=!1){const{mixins:s,extends:r}=e;r&&Sc(t,r,n,!0),s&&s.forEach(a=>Sc(t,a,n,!0));for(const a in e)if(!(i&&a==="expose")){const o=bE[a]||n&&n[a];t[a]=o?o(t[a],e[a]):e[a]}return t}const bE={data:am,props:om,emits:om,methods:Ya,computed:Ya,beforeCreate:Ut,created:Ut,beforeMount:Ut,mounted:Ut,beforeUpdate:Ut,updated:Ut,beforeDestroy:Ut,beforeUnmount:Ut,destroyed:Ut,unmounted:Ut,activated:Ut,deactivated:Ut,errorCaptured:Ut,serverPrefetch:Ut,components:Ya,directives:Ya,watch:EE,provide:am,inject:SE};function am(t,e){return e?t?function(){return Et(Te(t)?t.call(this,this):t,Te(e)?e.call(this,this):e)}:e:t}function SE(t,e){return Ya(od(t),od(e))}function od(t){if(Ce(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Ut(t,e){return t?[...new Set([].concat(t,e))]:e}function Ya(t,e){return t?Et(Object.create(null),t,e):e}function om(t,e){return t?Ce(t)&&Ce(e)?[...new Set([...t,...e])]:Et(Object.create(null),sm(t),sm(e??{})):e}function EE(t,e){if(!t)return e;if(!e)return t;const n=Et(Object.create(null),t);for(const i in e)n[i]=Ut(t[i],e[i]);return n}function v_(){return{app:null,config:{isNativeTag:fS,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let CE=0;function wE(t,e){return function(i,s=null){Te(i)||(i=Et({},i)),s!=null&&!at(s)&&(s=null);const r=v_(),a=new WeakSet,o=[];let l=!1;const c=r.app={_uid:CE++,_component:i,_props:s,_container:null,_context:r,_instance:null,version:rC,get config(){return r.config},set config(u){},use(u,...h){return a.has(u)||(u&&Te(u.install)?(a.add(u),u.install(c,...h)):Te(u)&&(a.add(u),u(c,...h))),c},mixin(u){return r.mixins.includes(u)||r.mixins.push(u),c},component(u,h){return h?(r.components[u]=h,c):r.components[u]},directive(u,h){return h?(r.directives[u]=h,c):r.directives[u]},mount(u,h,d){if(!l){const f=c._ceVNode||S(i,s);return f.appContext=r,d===!0?d="svg":d===!1&&(d=void 0),t(f,u,d),l=!0,c._container=u,u.__vue_app__=c,vu(f.component)}},onUnmount(u){o.push(u)},unmount(){l&&(ti(o,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(u,h){return r.provides[u]=h,c},runWithContext(u){const h=ia;ia=c;try{return u()}finally{ia=h}}};return c}}let ia=null;function nn(t,e){if(Pt){let n=Pt.provides;const i=Pt.parent&&Pt.parent.provides;i===n&&(n=Pt.provides=Object.create(i)),n[t]=e}}function rt(t,e,n=!1){const i=Pt||vn;if(i||ia){const s=ia?ia._context.provides:i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(s&&t in s)return s[t];if(arguments.length>1)return n&&Te(e)?e.call(i&&i.proxy):e}}const y_={},__=()=>Object.create(y_),p_=t=>Object.getPrototypeOf(t)===y_;function ME(t,e,n,i=!1){const s={},r=__();t.propsDefaults=Object.create(null),x_(t,e,s,r);for(const a in t.propsOptions[0])a in s||(s[a]=void 0);n?t.props=i?s:HS(s):t.type.props?t.props=s:t.props=r,t.attrs=r}function TE(t,e,n,i){const{props:s,attrs:r,vnode:{patchFlag:a}}=t,o=ve(s),[l]=t.propsOptions;let c=!1;if((i||a>0)&&!(a&16)){if(a&8){const u=t.vnode.dynamicProps;for(let h=0;h<u.length;h++){let d=u[h];if(gu(t.emitsOptions,d))continue;const f=e[d];if(l)if(qe(r,d))f!==r[d]&&(r[d]=f,c=!0);else{const g=xn(d);s[g]=ld(l,o,g,f,t,!1)}else f!==r[d]&&(r[d]=f,c=!0)}}}else{x_(t,e,s,r)&&(c=!0);let u;for(const h in o)(!e||!qe(e,h)&&((u=Er(h))===h||!qe(e,u)))&&(l?n&&(n[h]!==void 0||n[u]!==void 0)&&(s[h]=ld(l,o,h,void 0,t,!0)):delete s[h]);if(r!==o)for(const h in r)(!e||!qe(e,h))&&(delete r[h],c=!0)}c&&Wi(t.attrs,"set","")}function x_(t,e,n,i){const[s,r]=t.propsOptions;let a=!1,o;if(e)for(let l in e){if(ao(l))continue;const c=e[l];let u;s&&qe(s,u=xn(l))?!r||!r.includes(u)?n[u]=c:(o||(o={}))[u]=c:gu(t.emitsOptions,l)||(!(l in i)||c!==i[l])&&(i[l]=c,a=!0)}if(r){const l=ve(n),c=o||tt;for(let u=0;u<r.length;u++){const h=r[u];n[h]=ld(s,l,h,c[h],t,!qe(c,h))}}return a}function ld(t,e,n,i,s,r){const a=t[n];if(a!=null){const o=qe(a,"default");if(o&&i===void 0){const l=a.default;if(a.type!==Function&&!a.skipFactory&&Te(l)){const{propsDefaults:c}=s;if(n in c)i=c[n];else{const u=sl(s);i=c[n]=l.call(null,e),u()}}else i=l;s.ce&&s.ce._setProp(n,i)}a[0]&&(r&&!o?i=!1:a[1]&&(i===""||i===Er(n))&&(i=!0))}return i}const RE=new WeakMap;function b_(t,e,n=!1){const i=n?RE:e.propsCache,s=i.get(t);if(s)return s;const r=t.props,a={},o=[];let l=!1;if(!Te(t)){const u=h=>{l=!0;const[d,f]=b_(h,e,!0);Et(a,d),f&&o.push(...f)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!r&&!l)return at(t)&&i.set(t,ea),ea;if(Ce(r))for(let u=0;u<r.length;u++){const h=xn(r[u]);lm(h)&&(a[h]=tt)}else if(r)for(const u in r){const h=xn(u);if(lm(h)){const d=r[u],f=a[h]=Ce(d)||Te(d)?{type:d}:Et({},d),g=f.type;let m=!1,v=!0;if(Ce(g))for(let y=0;y<g.length;++y){const _=g[y],p=Te(_)&&_.name;if(p==="Boolean"){m=!0;break}else p==="String"&&(v=!1)}else m=Te(g)&&g.name==="Boolean";f[0]=m,f[1]=v,(m||qe(f,"default"))&&o.push(h)}}const c=[a,o];return at(t)&&i.set(t,c),c}function lm(t){return t[0]!=="$"&&!ao(t)}const S_=t=>t[0]==="_"||t==="$stable",Ef=t=>Ce(t)?t.map(gi):[gi(t)],IE=(t,e,n)=>{if(e._n)return e;const i=ot((...s)=>Ef(e(...s)),n);return i._c=!1,i},E_=(t,e,n)=>{const i=t._ctx;for(const s in t){if(S_(s))continue;const r=t[s];if(Te(r))e[s]=IE(s,r,i);else if(r!=null){const a=Ef(r);e[s]=()=>a}}},C_=(t,e)=>{const n=Ef(e);t.slots.default=()=>n},w_=(t,e,n)=>{for(const i in e)(n||i!=="_")&&(t[i]=e[i])},AE=(t,e,n)=>{const i=t.slots=__();if(t.vnode.shapeFlag&32){const s=e._;s?(w_(i,e,n),n&&My(i,"_",s,!0)):E_(e,i)}else e&&C_(t,e)},PE=(t,e,n)=>{const{vnode:i,slots:s}=t;let r=!0,a=tt;if(i.shapeFlag&32){const o=e._;o?n&&o===1?r=!1:w_(s,e,n):(r=!e.$stable,E_(e,s)),a=e}else e&&(C_(t,e),a={default:1});if(r)for(const o in s)!S_(o)&&a[o]==null&&delete s[o]},jt=jE;function LE(t){return OE(t)}function OE(t,e){const n=uu();n.__VUE__=!0;const{insert:i,remove:s,patchProp:r,createElement:a,createText:o,createComment:l,setText:c,setElementText:u,parentNode:h,nextSibling:d,setScopeId:f=Si,insertStaticContent:g}=t,m=(T,P,B,j=null,U=null,q=null,ie=void 0,te=null,J=!!P.dynamicChildren)=>{if(T===P)return;T&&!Zs(T,P)&&(j=ae(T),L(T,U,q,!0),T=null),P.patchFlag===-2&&(J=!1,P.dynamicChildren=null);const{type:K,ref:ue,shapeFlag:Q}=P;switch(K){case il:v(T,P,B,j);break;case Cn:y(T,P,B,j);break;case oh:T==null&&_(P,B,j,ie);break;case Ge:w(T,P,B,j,U,q,ie,te,J);break;default:Q&1?b(T,P,B,j,U,q,ie,te,J):Q&6?A(T,P,B,j,U,q,ie,te,J):(Q&64||Q&128)&&K.process(T,P,B,j,U,q,ie,te,J,Re)}ue!=null&&U&&bc(ue,T&&T.ref,q,P||T,!P)},v=(T,P,B,j)=>{if(T==null)i(P.el=o(P.children),B,j);else{const U=P.el=T.el;P.children!==T.children&&c(U,P.children)}},y=(T,P,B,j)=>{T==null?i(P.el=l(P.children||""),B,j):P.el=T.el},_=(T,P,B,j)=>{[T.el,T.anchor]=g(T.children,P,B,j,T.el,T.anchor)},p=({el:T,anchor:P},B,j)=>{let U;for(;T&&T!==P;)U=d(T),i(T,B,j),T=U;i(P,B,j)},x=({el:T,anchor:P})=>{let B;for(;T&&T!==P;)B=d(T),s(T),T=B;s(P)},b=(T,P,B,j,U,q,ie,te,J)=>{P.type==="svg"?ie="svg":P.type==="math"&&(ie="mathml"),T==null?C(P,B,j,U,q,ie,te,J):R(T,P,U,q,ie,te,J)},C=(T,P,B,j,U,q,ie,te)=>{let J,K;const{props:ue,shapeFlag:Q,transition:he,dirs:xe}=T;if(J=T.el=a(T.type,q,ue&&ue.is,ue),Q&8?u(J,T.children):Q&16&&E(T.children,J,null,j,U,ah(T,q),ie,te),xe&&Ws(T,null,j,"created"),M(J,T,T.scopeId,ie,j),ue){for(const We in ue)We!=="value"&&!ao(We)&&r(J,We,null,ue[We],q,j);"value"in ue&&r(J,"value",null,ue.value,q),(K=ue.onVnodeBeforeMount)&&ci(K,j,T)}xe&&Ws(T,null,j,"beforeMount");const De=kE(U,he);De&&he.beforeEnter(J),i(J,P,B),((K=ue&&ue.onVnodeMounted)||De||xe)&&jt(()=>{K&&ci(K,j,T),De&&he.enter(J),xe&&Ws(T,null,j,"mounted")},U)},M=(T,P,B,j,U)=>{if(B&&f(T,B),j)for(let q=0;q<j.length;q++)f(T,j[q]);if(U){let q=U.subTree;if(P===q||I_(q.type)&&(q.ssContent===P||q.ssFallback===P)){const ie=U.vnode;M(T,ie,ie.scopeId,ie.slotScopeIds,U.parent)}}},E=(T,P,B,j,U,q,ie,te,J=0)=>{for(let K=J;K<T.length;K++){const ue=T[K]=te?_s(T[K]):gi(T[K]);m(null,ue,P,B,j,U,q,ie,te)}},R=(T,P,B,j,U,q,ie)=>{const te=P.el=T.el;let{patchFlag:J,dynamicChildren:K,dirs:ue}=P;J|=T.patchFlag&16;const Q=T.props||tt,he=P.props||tt;let xe;if(B&&Us(B,!1),(xe=he.onVnodeBeforeUpdate)&&ci(xe,B,P,T),ue&&Ws(P,T,B,"beforeUpdate"),B&&Us(B,!0),(Q.innerHTML&&he.innerHTML==null||Q.textContent&&he.textContent==null)&&u(te,""),K?O(T.dynamicChildren,K,te,B,j,ah(P,U),q):ie||z(T,P,te,null,B,j,ah(P,U),q,!1),J>0){if(J&16)k(te,Q,he,B,U);else if(J&2&&Q.class!==he.class&&r(te,"class",null,he.class,U),J&4&&r(te,"style",Q.style,he.style,U),J&8){const De=P.dynamicProps;for(let We=0;We<De.length;We++){const Ue=De[We],kt=Q[Ue],Rt=he[Ue];(Rt!==kt||Ue==="value")&&r(te,Ue,kt,Rt,U,B)}}J&1&&T.children!==P.children&&u(te,P.children)}else!ie&&K==null&&k(te,Q,he,B,U);((xe=he.onVnodeUpdated)||ue)&&jt(()=>{xe&&ci(xe,B,P,T),ue&&Ws(P,T,B,"updated")},j)},O=(T,P,B,j,U,q,ie)=>{for(let te=0;te<P.length;te++){const J=T[te],K=P[te],ue=J.el&&(J.type===Ge||!Zs(J,K)||J.shapeFlag&70)?h(J.el):B;m(J,K,ue,null,j,U,q,ie,!0)}},k=(T,P,B,j,U)=>{if(P!==B){if(P!==tt)for(const q in P)!ao(q)&&!(q in B)&&r(T,q,P[q],null,U,j);for(const q in B){if(ao(q))continue;const ie=B[q],te=P[q];ie!==te&&q!=="value"&&r(T,q,te,ie,U,j)}"value"in B&&r(T,"value",P.value,B.value,U)}},w=(T,P,B,j,U,q,ie,te,J)=>{const K=P.el=T?T.el:o(""),ue=P.anchor=T?T.anchor:o("");let{patchFlag:Q,dynamicChildren:he,slotScopeIds:xe}=P;xe&&(te=te?te.concat(xe):xe),T==null?(i(K,B,j),i(ue,B,j),E(P.children||[],B,ue,U,q,ie,te,J)):Q>0&&Q&64&&he&&T.dynamicChildren?(O(T.dynamicChildren,he,B,U,q,ie,te),(P.key!=null||U&&P===U.subTree)&&Cf(T,P,!0)):z(T,P,B,ue,U,q,ie,te,J)},A=(T,P,B,j,U,q,ie,te,J)=>{P.slotScopeIds=te,T==null?P.shapeFlag&512?U.ctx.activate(P,B,j,ie,J):D(P,B,j,U,q,ie,J):X(T,P,J)},D=(T,P,B,j,U,q,ie)=>{const te=T.component=JE(T,j,U);if(du(T)&&(te.ctx.renderer=Re),QE(te,!1,ie),te.asyncDep){if(U&&U.registerDep(te,G,ie),!T.el){const J=te.subTree=S(Cn);y(null,J,P,B)}}else G(te,T,P,B,U,q,ie)},X=(T,P,B)=>{const j=P.component=T.component;if(WE(T,P,B))if(j.asyncDep&&!j.asyncResolved){H(j,P,B);return}else j.next=P,j.update();else P.el=T.el,j.vnode=P},G=(T,P,B,j,U,q,ie)=>{const te=()=>{if(T.isMounted){let{next:Q,bu:he,u:xe,parent:De,vnode:We}=T;{const Pn=M_(T);if(Pn){Q&&(Q.el=We.el,H(T,Q,ie)),Pn.asyncDep.then(()=>{T.isUnmounted||te()});return}}let Ue=Q,kt;Us(T,!1),Q?(Q.el=We.el,H(T,Q,ie)):Q=We,he&&Qu(he),(kt=Q.props&&Q.props.onVnodeBeforeUpdate)&&ci(kt,De,Q,We),Us(T,!0);const Rt=um(T),rn=T.subTree;T.subTree=Rt,m(rn,Rt,h(rn.el),ae(rn),T,U,q),Q.el=Rt.el,Ue===null&&UE(T,Rt.el),xe&&jt(xe,U),(kt=Q.props&&Q.props.onVnodeUpdated)&&jt(()=>ci(kt,De,Q,We),U)}else{let Q;const{el:he,props:xe}=P,{bm:De,m:We,parent:Ue,root:kt,type:Rt}=T,rn=ho(P);Us(T,!1),De&&Qu(De),!rn&&(Q=xe&&xe.onVnodeBeforeMount)&&ci(Q,Ue,P),Us(T,!0);{kt.ce&&kt.ce._injectChildStyle(Rt);const Pn=T.subTree=um(T);m(null,Pn,B,j,T,U,q),P.el=Pn.el}if(We&&jt(We,U),!rn&&(Q=xe&&xe.onVnodeMounted)){const Pn=P;jt(()=>ci(Q,Ue,Pn),U)}(P.shapeFlag&256||Ue&&ho(Ue.vnode)&&Ue.vnode.shapeFlag&256)&&T.a&&jt(T.a,U),T.isMounted=!0,P=B=j=null}};T.scope.on();const J=T.effect=new Py(te);T.scope.off();const K=T.update=J.run.bind(J),ue=T.job=J.runIfDirty.bind(J);ue.i=T,ue.id=T.uid,J.scheduler=()=>_f(ue),Us(T,!0),K()},H=(T,P,B)=>{P.component=T;const j=T.vnode.props;T.vnode=P,T.next=null,TE(T,P.props,j,B),PE(T,P.children,B),Ls(),Jg(T),Os()},z=(T,P,B,j,U,q,ie,te,J=!1)=>{const K=T&&T.children,ue=T?T.shapeFlag:0,Q=P.children,{patchFlag:he,shapeFlag:xe}=P;if(he>0){if(he&128){$(K,Q,B,j,U,q,ie,te,J);return}else if(he&256){F(K,Q,B,j,U,q,ie,te,J);return}}xe&8?(ue&16&&pe(K,U,q),Q!==K&&u(B,Q)):ue&16?xe&16?$(K,Q,B,j,U,q,ie,te,J):pe(K,U,q,!0):(ue&8&&u(B,""),xe&16&&E(Q,B,j,U,q,ie,te,J))},F=(T,P,B,j,U,q,ie,te,J)=>{T=T||ea,P=P||ea;const K=T.length,ue=P.length,Q=Math.min(K,ue);let he;for(he=0;he<Q;he++){const xe=P[he]=J?_s(P[he]):gi(P[he]);m(T[he],xe,B,null,U,q,ie,te,J)}K>ue?pe(T,U,q,!0,!1,Q):E(P,B,j,U,q,ie,te,J,Q)},$=(T,P,B,j,U,q,ie,te,J)=>{let K=0;const ue=P.length;let Q=T.length-1,he=ue-1;for(;K<=Q&&K<=he;){const xe=T[K],De=P[K]=J?_s(P[K]):gi(P[K]);if(Zs(xe,De))m(xe,De,B,null,U,q,ie,te,J);else break;K++}for(;K<=Q&&K<=he;){const xe=T[Q],De=P[he]=J?_s(P[he]):gi(P[he]);if(Zs(xe,De))m(xe,De,B,null,U,q,ie,te,J);else break;Q--,he--}if(K>Q){if(K<=he){const xe=he+1,De=xe<ue?P[xe].el:j;for(;K<=he;)m(null,P[K]=J?_s(P[K]):gi(P[K]),B,De,U,q,ie,te,J),K++}}else if(K>he)for(;K<=Q;)L(T[K],U,q,!0),K++;else{const xe=K,De=K,We=new Map;for(K=De;K<=he;K++){const Dt=P[K]=J?_s(P[K]):gi(P[K]);Dt.key!=null&&We.set(Dt.key,K)}let Ue,kt=0;const Rt=he-De+1;let rn=!1,Pn=0;const Gs=new Array(Rt);for(K=0;K<Rt;K++)Gs[K]=0;for(K=xe;K<=Q;K++){const Dt=T[K];if(kt>=Rt){L(Dt,U,q,!0);continue}let an;if(Dt.key!=null)an=We.get(Dt.key);else for(Ue=De;Ue<=he;Ue++)if(Gs[Ue-De]===0&&Zs(Dt,P[Ue])){an=Ue;break}an===void 0?L(Dt,U,q,!0):(Gs[an-De]=K+1,an>=Pn?Pn=an:rn=!0,m(Dt,P[an],B,null,U,q,ie,te,J),kt++)}const ka=rn?DE(Gs):ea;for(Ue=ka.length-1,K=Rt-1;K>=0;K--){const Dt=De+K,an=P[Dt],Da=Dt+1<ue?P[Dt+1].el:j;Gs[K]===0?m(null,an,B,Da,U,q,ie,te,J):rn&&(Ue<0||K!==ka[Ue]?N(an,B,Da,2):Ue--)}}},N=(T,P,B,j,U=null)=>{const{el:q,type:ie,transition:te,children:J,shapeFlag:K}=T;if(K&6){N(T.component.subTree,P,B,j);return}if(K&128){T.suspense.move(P,B,j);return}if(K&64){ie.move(T,P,B,Re);return}if(ie===Ge){i(q,P,B);for(let Q=0;Q<J.length;Q++)N(J[Q],P,B,j);i(T.anchor,P,B);return}if(ie===oh){p(T,P,B);return}if(j!==2&&K&1&&te)if(j===0)te.beforeEnter(q),i(q,P,B),jt(()=>te.enter(q),U);else{const{leave:Q,delayLeave:he,afterLeave:xe}=te,De=()=>i(q,P,B),We=()=>{Q(q,()=>{De(),xe&&xe()})};he?he(q,De,We):We()}else i(q,P,B)},L=(T,P,B,j=!1,U=!1)=>{const{type:q,props:ie,ref:te,children:J,dynamicChildren:K,shapeFlag:ue,patchFlag:Q,dirs:he,cacheIndex:xe}=T;if(Q===-2&&(U=!1),te!=null&&bc(te,null,B,T,!0),xe!=null&&(P.renderCache[xe]=void 0),ue&256){P.ctx.deactivate(T);return}const De=ue&1&&he,We=!ho(T);let Ue;if(We&&(Ue=ie&&ie.onVnodeBeforeUnmount)&&ci(Ue,P,T),ue&6)oe(T.component,B,j);else{if(ue&128){T.suspense.unmount(B,j);return}De&&Ws(T,null,P,"beforeUnmount"),ue&64?T.type.remove(T,P,B,Re,j):K&&!K.hasOnce&&(q!==Ge||Q>0&&Q&64)?pe(K,P,B,!1,!0):(q===Ge&&Q&384||!U&&ue&16)&&pe(J,P,B),j&&ne(T)}(We&&(Ue=ie&&ie.onVnodeUnmounted)||De)&&jt(()=>{Ue&&ci(Ue,P,T),De&&Ws(T,null,P,"unmounted")},B)},ne=T=>{const{type:P,el:B,anchor:j,transition:U}=T;if(P===Ge){Z(B,j);return}if(P===oh){x(T);return}const q=()=>{s(B),U&&!U.persisted&&U.afterLeave&&U.afterLeave()};if(T.shapeFlag&1&&U&&!U.persisted){const{leave:ie,delayLeave:te}=U,J=()=>ie(B,q);te?te(T.el,q,J):J()}else q()},Z=(T,P)=>{let B;for(;T!==P;)B=d(T),s(T),T=B;s(P)},oe=(T,P,B)=>{const{bum:j,scope:U,job:q,subTree:ie,um:te,m:J,a:K}=T;cm(J),cm(K),j&&Qu(j),U.stop(),q&&(q.flags|=8,L(ie,T,P,B)),te&&jt(te,P),jt(()=>{T.isUnmounted=!0},P),P&&P.pendingBranch&&!P.isUnmounted&&T.asyncDep&&!T.asyncResolved&&T.suspenseId===P.pendingId&&(P.deps--,P.deps===0&&P.resolve())},pe=(T,P,B,j=!1,U=!1,q=0)=>{for(let ie=q;ie<T.length;ie++)L(T[ie],P,B,j,U)},ae=T=>{if(T.shapeFlag&6)return ae(T.component.subTree);if(T.shapeFlag&128)return T.suspense.next();const P=d(T.anchor||T.el),B=P&&P[Qy];return B?d(B):P};let ce=!1;const Ne=(T,P,B)=>{T==null?P._vnode&&L(P._vnode,null,null,!0):m(P._vnode||null,T,P,null,null,null,B),P._vnode=T,ce||(ce=!0,Jg(),Yy(),ce=!1)},Re={p:m,um:L,m:N,r:ne,mt:D,mc:E,pc:z,pbc:O,n:ae,o:t};return{render:Ne,hydrate:void 0,createApp:wE(Ne)}}function ah({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Us({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function kE(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Cf(t,e,n=!1){const i=t.children,s=e.children;if(Ce(i)&&Ce(s))for(let r=0;r<i.length;r++){const a=i[r];let o=s[r];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=s[r]=_s(s[r]),o.el=a.el),!n&&o.patchFlag!==-2&&Cf(a,o)),o.type===il&&(o.el=a.el)}}function DE(t){const e=t.slice(),n=[0];let i,s,r,a,o;const l=t.length;for(i=0;i<l;i++){const c=t[i];if(c!==0){if(s=n[n.length-1],t[s]<c){e[i]=s,n.push(i);continue}for(r=0,a=n.length-1;r<a;)o=r+a>>1,t[n[o]]<c?r=o+1:a=o;c<t[n[r]]&&(r>0&&(e[i]=n[r-1]),n[r]=i)}}for(r=n.length,a=n[r-1];r-- >0;)n[r]=a,a=e[a];return n}function M_(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:M_(e)}function cm(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const NE=Symbol.for("v-scx"),FE=()=>rt(NE);function Wn(t,e){return wf(t,null,e)}function be(t,e,n){return wf(t,e,n)}function wf(t,e,n=tt){const{immediate:i,deep:s,flush:r,once:a}=n,o=Et({},n),l=e&&i||!e&&r!=="post";let c;if(Po){if(r==="sync"){const f=FE();c=f.__watcherHandles||(f.__watcherHandles=[])}else if(!l){const f=()=>{};return f.stop=Si,f.resume=Si,f.pause=Si,f}}const u=Pt;o.call=(f,g,m)=>ti(f,u,g,m);let h=!1;r==="post"?o.scheduler=f=>{jt(f,u&&u.suspense)}:r!=="sync"&&(h=!0,o.scheduler=(f,g)=>{g?f():_f(f)}),o.augmentJob=f=>{e&&(f.flags|=4),h&&(f.flags|=2,u&&(f.id=u.uid,f.i=u))};const d=tE(t,e,o);return Po&&(c?c.push(d):l&&d()),d}function BE(t,e,n){const i=this.proxy,s=gt(t)?t.includes(".")?T_(i,t):()=>i[t]:t.bind(i,i);let r;Te(e)?r=e:(r=e.handler,n=e);const a=sl(this),o=wf(s,r.bind(i),n);return a(),o}function T_(t,e){const n=e.split(".");return()=>{let i=t;for(let s=0;s<n.length&&i;s++)i=i[n[s]];return i}}const VE=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${xn(e)}Modifiers`]||t[`${Er(e)}Modifiers`];function $E(t,e,...n){if(t.isUnmounted)return;const i=t.vnode.props||tt;let s=n;const r=e.startsWith("update:"),a=r&&VE(i,e.slice(7));a&&(a.trim&&(s=n.map(u=>gt(u)?u.trim():u)),a.number&&(s=n.map(_S)));let o,l=i[o=Ju(e)]||i[o=Ju(xn(e))];!l&&r&&(l=i[o=Ju(Er(e))]),l&&ti(l,t,6,s);const c=i[o+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[o])return;t.emitted[o]=!0,ti(c,t,6,s)}}function R_(t,e,n=!1){const i=e.emitsCache,s=i.get(t);if(s!==void 0)return s;const r=t.emits;let a={},o=!1;if(!Te(t)){const l=c=>{const u=R_(c,e,!0);u&&(o=!0,Et(a,u))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!r&&!o?(at(t)&&i.set(t,null),null):(Ce(r)?r.forEach(l=>a[l]=null):Et(a,r),at(t)&&i.set(t,a),a)}function gu(t,e){return!t||!ou(e)?!1:(e=e.slice(2).replace(/Once$/,""),qe(t,e[0].toLowerCase()+e.slice(1))||qe(t,Er(e))||qe(t,e))}function um(t){const{type:e,vnode:n,proxy:i,withProxy:s,propsOptions:[r],slots:a,attrs:o,emit:l,render:c,renderCache:u,props:h,data:d,setupState:f,ctx:g,inheritAttrs:m}=t,v=xc(t);let y,_;try{if(n.shapeFlag&4){const x=s||i,b=x;y=gi(c.call(b,x,u,h,f,d,g)),_=o}else{const x=e;y=gi(x.length>1?x(h,{attrs:o,slots:a,emit:l}):x(h,null)),_=e.props?o:GE(o)}}catch(x){go.length=0,hu(x,t,1),y=S(Cn)}let p=y;if(_&&m!==!1){const x=Object.keys(_),{shapeFlag:b}=p;x.length&&b&7&&(r&&x.some(sf)&&(_=zE(_,r)),p=Ki(p,_,!1,!0))}return n.dirs&&(p=Ki(p,null,!1,!0),p.dirs=p.dirs?p.dirs.concat(n.dirs):n.dirs),n.transition&&dr(p,n.transition),y=p,xc(v),y}const GE=t=>{let e;for(const n in t)(n==="class"||n==="style"||ou(n))&&((e||(e={}))[n]=t[n]);return e},zE=(t,e)=>{const n={};for(const i in t)(!sf(i)||!(i.slice(9)in e))&&(n[i]=t[i]);return n};function WE(t,e,n){const{props:i,children:s,component:r}=t,{props:a,children:o,patchFlag:l}=e,c=r.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return i?hm(i,a,c):!!a;if(l&8){const u=e.dynamicProps;for(let h=0;h<u.length;h++){const d=u[h];if(a[d]!==i[d]&&!gu(c,d))return!0}}}else return(s||o)&&(!o||!o.$stable)?!0:i===a?!1:i?a?hm(i,a,c):!0:!!a;return!1}function hm(t,e,n){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let s=0;s<i.length;s++){const r=i[s];if(e[r]!==t[r]&&!gu(n,r))return!0}return!1}function UE({vnode:t,parent:e},n){for(;e;){const i=e.subTree;if(i.suspense&&i.suspense.activeBranch===t&&(i.el=t.el),i===t)(t=e.vnode).el=n,e=e.parent;else break}}const I_=t=>t.__isSuspense;function jE(t,e){e&&e.pendingBranch?Ce(t)?e.effects.push(...t):e.effects.push(t):sE(t)}const Ge=Symbol.for("v-fgt"),il=Symbol.for("v-txt"),Cn=Symbol.for("v-cmt"),oh=Symbol.for("v-stc"),go=[];let Tn=null;function A_(t=!1){go.push(Tn=t?null:[])}function HE(){go.pop(),Tn=go[go.length-1]||null}let Io=1;function dm(t,e=!1){Io+=t,t<0&&Tn&&e&&(Tn.hasOnce=!0)}function XE(t){return t.dynamicChildren=Io>0?Tn||ea:null,HE(),Io>0&&Tn&&Tn.push(t),t}function P_(t,e,n,i,s){return XE(S(t,e,n,i,s,!0))}function Ao(t){return t?t.__v_isVNode===!0:!1}function Zs(t,e){return t.type===e.type&&t.key===e.key}const L_=({key:t})=>t??null,ic=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?gt(t)||ct(t)||Te(t)?{i:vn,r:t,k:e,f:!!n}:t:null);function sc(t,e=null,n=null,i=0,s=null,r=t===Ge?0:1,a=!1,o=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&L_(e),ref:e&&ic(e),scopeId:Jy,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:i,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:vn};return o?(Tf(l,n),r&128&&t.normalize(l)):n&&(l.shapeFlag|=gt(n)?8:16),Io>0&&!a&&Tn&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&Tn.push(l),l}const S=qE;function qE(t,e=null,n=null,i=0,s=null,r=!1){if((!t||t===vE)&&(t=Cn),Ao(t)){const o=Ki(t,e,!0);return n&&Tf(o,n),Io>0&&!r&&Tn&&(o.shapeFlag&6?Tn[Tn.indexOf(t)]=o:Tn.push(o)),o.patchFlag=-2,o}if(sC(t)&&(t=t.__vccOpts),e){e=KE(e);let{class:o,style:l}=e;o&&!gt(o)&&(e.class=lf(o)),at(l)&&(vf(l)&&!Ce(l)&&(l=Et({},l)),e.style=of(l))}const a=gt(t)?1:I_(t)?128:e_(t)?64:at(t)?4:Te(t)?2:0;return sc(t,e,n,i,s,a,r,!0)}function KE(t){return t?vf(t)||p_(t)?Et({},t):t:null}function Ki(t,e,n=!1,i=!1){const{props:s,ref:r,patchFlag:a,children:o,transition:l}=t,c=e?ke(s||{},e):s,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&L_(c),ref:e&&e.ref?n&&r?Ce(r)?r.concat(ic(e)):[r,ic(e)]:ic(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ge?a===-1?16:a|16:a,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Ki(t.ssContent),ssFallback:t.ssFallback&&Ki(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&i&&dr(u,l.clone(u)),u}function Mf(t=" ",e=0){return S(il,null,t,e)}function gi(t){return t==null||typeof t=="boolean"?S(Cn):Ce(t)?S(Ge,null,t.slice()):Ao(t)?_s(t):S(il,null,String(t))}function _s(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Ki(t)}function Tf(t,e){let n=0;const{shapeFlag:i}=t;if(e==null)e=null;else if(Ce(e))n=16;else if(typeof e=="object")if(i&65){const s=e.default;s&&(s._c&&(s._d=!1),Tf(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!p_(e)?e._ctx=vn:s===3&&vn&&(vn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Te(e)?(e={default:e,_ctx:vn},n=32):(e=String(e),i&64?(n=16,e=[Mf(e)]):n=8);t.children=e,t.shapeFlag|=n}function ke(...t){const e={};for(let n=0;n<t.length;n++){const i=t[n];for(const s in i)if(s==="class")e.class!==i.class&&(e.class=lf([e.class,i.class]));else if(s==="style")e.style=of([e.style,i.style]);else if(ou(s)){const r=e[s],a=i[s];a&&r!==a&&!(Ce(r)&&r.includes(a))&&(e[s]=r?[].concat(r,a):a)}else s!==""&&(e[s]=i[s])}return e}function ci(t,e,n,i=null){ti(t,e,7,[n,i])}const YE=v_();let ZE=0;function JE(t,e,n){const i=t.type,s=(e?e.appContext:t.appContext)||YE,r={uid:ZE++,vnode:t,type:i,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Ay(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:b_(i,s),emitsOptions:R_(i,s),emit:null,emitted:null,propsDefaults:tt,inheritAttrs:i.inheritAttrs,ctx:tt,data:tt,props:tt,attrs:tt,slots:tt,refs:tt,setupState:tt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=$E.bind(null,r),t.ce&&t.ce(r),r}let Pt=null;const mu=()=>Pt||vn;let Ec,cd;{const t=uu(),e=(n,i)=>{let s;return(s=t[n])||(s=t[n]=[]),s.push(i),r=>{s.length>1?s.forEach(a=>a(r)):s[0](r)}};Ec=e("__VUE_INSTANCE_SETTERS__",n=>Pt=n),cd=e("__VUE_SSR_SETTERS__",n=>Po=n)}const sl=t=>{const e=Pt;return Ec(t),t.scope.on(),()=>{t.scope.off(),Ec(e)}},fm=()=>{Pt&&Pt.scope.off(),Ec(null)};function O_(t){return t.vnode.shapeFlag&4}let Po=!1;function QE(t,e=!1,n=!1){e&&cd(e);const{props:i,children:s}=t.vnode,r=O_(t);ME(t,i,r,e),AE(t,s,n);const a=r?eC(t,e):void 0;return e&&cd(!1),a}function eC(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,_E);const{setup:i}=n;if(i){Ls();const s=t.setupContext=i.length>1?nC(t):null,r=sl(t),a=tl(i,t,0,[t.props,s]),o=Ey(a);if(Os(),r(),(o||t.sp)&&!ho(t)&&l_(t),o){if(a.then(fm,fm),e)return a.then(l=>{gm(t,l)}).catch(l=>{hu(l,t,0)});t.asyncDep=a}else gm(t,a)}else k_(t)}function gm(t,e,n){Te(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:at(e)&&(t.setupState=Hy(e)),k_(t)}function k_(t,e,n){const i=t.type;t.render||(t.render=i.render||Si);{const s=sl(t);Ls();try{pE(t)}finally{Os(),s()}}}const tC={get(t,e){return Vt(t,"get",""),t[e]}};function nC(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,tC),slots:t.slots,emit:t.emit,expose:e}}function vu(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Hy(XS(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in fo)return fo[n](t)},has(e,n){return n in e||n in fo}})):t.proxy}function iC(t,e=!0){return Te(t)?t.displayName||t.name:t.name||e&&t.__name}function sC(t){return Te(t)&&"__vccOpts"in t}const I=(t,e)=>QS(t,e,Po);function Ds(t,e,n){const i=arguments.length;return i===2?at(e)&&!Ce(e)?Ao(e)?S(t,null,[e]):S(t,e):S(t,null,e):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&Ao(n)&&(n=[n]),S(t,e,n))}const rC="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ud;const mm=typeof window<"u"&&window.trustedTypes;if(mm)try{ud=mm.createPolicy("vue",{createHTML:t=>t})}catch{}const D_=ud?t=>ud.createHTML(t):t=>t,aC="http://www.w3.org/2000/svg",oC="http://www.w3.org/1998/Math/MathML",$i=typeof document<"u"?document:null,vm=$i&&$i.createElement("template"),lC={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,i)=>{const s=e==="svg"?$i.createElementNS(aC,t):e==="mathml"?$i.createElementNS(oC,t):n?$i.createElement(t,{is:n}):$i.createElement(t);return t==="select"&&i&&i.multiple!=null&&s.setAttribute("multiple",i.multiple),s},createText:t=>$i.createTextNode(t),createComment:t=>$i.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>$i.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,i,s,r){const a=n?n.previousSibling:e.lastChild;if(s&&(s===r||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===r||!(s=s.nextSibling)););else{vm.innerHTML=D_(i==="svg"?`<svg>${t}</svg>`:i==="mathml"?`<math>${t}</math>`:t);const o=vm.content;if(i==="svg"||i==="mathml"){const l=o.firstChild;for(;l.firstChild;)o.appendChild(l.firstChild);o.removeChild(l)}e.insertBefore(o,n)}return[a?a.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},os="transition",$a="animation",ua=Symbol("_vtc"),N_={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},F_=Et({},s_,N_),cC=t=>(t.displayName="Transition",t.props=F_,t),fr=cC((t,{slots:e})=>Ds(lE,B_(t),e)),js=(t,e=[])=>{Ce(t)?t.forEach(n=>n(...e)):t&&t(...e)},ym=t=>t?Ce(t)?t.some(e=>e.length>1):t.length>1:!1;function B_(t){const e={};for(const w in t)w in N_||(e[w]=t[w]);if(t.css===!1)return e;const{name:n="v",type:i,duration:s,enterFromClass:r=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:o=`${n}-enter-to`,appearFromClass:l=r,appearActiveClass:c=a,appearToClass:u=o,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:d=`${n}-leave-active`,leaveToClass:f=`${n}-leave-to`}=t,g=uC(s),m=g&&g[0],v=g&&g[1],{onBeforeEnter:y,onEnter:_,onEnterCancelled:p,onLeave:x,onLeaveCancelled:b,onBeforeAppear:C=y,onAppear:M=_,onAppearCancelled:E=p}=e,R=(w,A,D,X)=>{w._enterCancelled=X,fs(w,A?u:o),fs(w,A?c:a),D&&D()},O=(w,A)=>{w._isLeaving=!1,fs(w,h),fs(w,f),fs(w,d),A&&A()},k=w=>(A,D)=>{const X=w?M:_,G=()=>R(A,w,D);js(X,[A,G]),_m(()=>{fs(A,w?l:r),di(A,w?u:o),ym(X)||pm(A,i,m,G)})};return Et(e,{onBeforeEnter(w){js(y,[w]),di(w,r),di(w,a)},onBeforeAppear(w){js(C,[w]),di(w,l),di(w,c)},onEnter:k(!1),onAppear:k(!0),onLeave(w,A){w._isLeaving=!0;const D=()=>O(w,A);di(w,h),w._enterCancelled?(di(w,d),hd()):(hd(),di(w,d)),_m(()=>{w._isLeaving&&(fs(w,h),di(w,f),ym(x)||pm(w,i,v,D))}),js(x,[w,D])},onEnterCancelled(w){R(w,!1,void 0,!0),js(p,[w])},onAppearCancelled(w){R(w,!0,void 0,!0),js(E,[w])},onLeaveCancelled(w){O(w),js(b,[w])}})}function uC(t){if(t==null)return null;if(at(t))return[lh(t.enter),lh(t.leave)];{const e=lh(t);return[e,e]}}function lh(t){return pS(t)}function di(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[ua]||(t[ua]=new Set)).add(e)}function fs(t,e){e.split(/\s+/).forEach(i=>i&&t.classList.remove(i));const n=t[ua];n&&(n.delete(e),n.size||(t[ua]=void 0))}function _m(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let hC=0;function pm(t,e,n,i){const s=t._endId=++hC,r=()=>{s===t._endId&&i()};if(n!=null)return setTimeout(r,n);const{type:a,timeout:o,propCount:l}=V_(t,e);if(!a)return i();const c=a+"end";let u=0;const h=()=>{t.removeEventListener(c,d),r()},d=f=>{f.target===t&&++u>=l&&h()};setTimeout(()=>{u<l&&h()},o+1),t.addEventListener(c,d)}function V_(t,e){const n=window.getComputedStyle(t),i=g=>(n[g]||"").split(", "),s=i(`${os}Delay`),r=i(`${os}Duration`),a=xm(s,r),o=i(`${$a}Delay`),l=i(`${$a}Duration`),c=xm(o,l);let u=null,h=0,d=0;e===os?a>0&&(u=os,h=a,d=r.length):e===$a?c>0&&(u=$a,h=c,d=l.length):(h=Math.max(a,c),u=h>0?a>c?os:$a:null,d=u?u===os?r.length:l.length:0);const f=u===os&&/\b(transform|all)(,|$)/.test(i(`${os}Property`).toString());return{type:u,timeout:h,propCount:d,hasTransform:f}}function xm(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,i)=>bm(n)+bm(t[i])))}function bm(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function hd(){return document.body.offsetHeight}function dC(t,e,n){const i=t[ua];i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Cc=Symbol("_vod"),$_=Symbol("_vsh"),Ca={beforeMount(t,{value:e},{transition:n}){t[Cc]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Ga(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:i}){!e!=!n&&(i?e?(i.beforeEnter(t),Ga(t,!0),i.enter(t)):i.leave(t,()=>{Ga(t,!1)}):Ga(t,e))},beforeUnmount(t,{value:e}){Ga(t,e)}};function Ga(t,e){t.style.display=e?t[Cc]:"none",t[$_]=!e}const fC=Symbol(""),gC=/(^|;)\s*display\s*:/;function mC(t,e,n){const i=t.style,s=gt(n);let r=!1;if(n&&!s){if(e)if(gt(e))for(const a of e.split(";")){const o=a.slice(0,a.indexOf(":")).trim();n[o]==null&&rc(i,o,"")}else for(const a in e)n[a]==null&&rc(i,a,"");for(const a in n)a==="display"&&(r=!0),rc(i,a,n[a])}else if(s){if(e!==n){const a=i[fC];a&&(n+=";"+a),i.cssText=n,r=gC.test(n)}}else e&&t.removeAttribute("style");Cc in t&&(t[Cc]=r?i.display:"",t[$_]&&(i.display="none"))}const Sm=/\s*!important$/;function rc(t,e,n){if(Ce(n))n.forEach(i=>rc(t,e,i));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const i=vC(t,e);Sm.test(n)?t.setProperty(Er(i),n.replace(Sm,""),"important"):t[i]=n}}const Em=["Webkit","Moz","ms"],ch={};function vC(t,e){const n=ch[e];if(n)return n;let i=xn(e);if(i!=="filter"&&i in t)return ch[e]=i;i=Qi(i);for(let s=0;s<Em.length;s++){const r=Em[s]+i;if(r in t)return ch[e]=r}return e}const Cm="http://www.w3.org/1999/xlink";function wm(t,e,n,i,s,r=wS(e)){i&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(Cm,e.slice(6,e.length)):t.setAttributeNS(Cm,e,n):n==null||r&&!Ty(n)?t.removeAttribute(e):t.setAttribute(e,r?"":Ps(n)?String(n):n)}function Mm(t,e,n,i,s){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?D_(n):n);return}const r=t.tagName;if(e==="value"&&r!=="PROGRESS"&&!r.includes("-")){const o=r==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(o!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let a=!1;if(n===""||n==null){const o=typeof t[e];o==="boolean"?n=Ty(n):n==null&&o==="string"?(n="",a=!0):o==="number"&&(n=0,a=!0)}try{t[e]=n}catch{}a&&t.removeAttribute(s||e)}function yC(t,e,n,i){t.addEventListener(e,n,i)}function _C(t,e,n,i){t.removeEventListener(e,n,i)}const Tm=Symbol("_vei");function pC(t,e,n,i,s=null){const r=t[Tm]||(t[Tm]={}),a=r[e];if(i&&a)a.value=i;else{const[o,l]=xC(e);if(i){const c=r[e]=EC(i,s);yC(t,o,c,l)}else a&&(_C(t,o,a,l),r[e]=void 0)}}const Rm=/(?:Once|Passive|Capture)$/;function xC(t){let e;if(Rm.test(t)){e={};let i;for(;i=t.match(Rm);)t=t.slice(0,t.length-i[0].length),e[i[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Er(t.slice(2)),e]}let uh=0;const bC=Promise.resolve(),SC=()=>uh||(bC.then(()=>uh=0),uh=Date.now());function EC(t,e){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;ti(CC(i,n.value),e,5,[i])};return n.value=t,n.attached=SC(),n}function CC(t,e){if(Ce(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(i=>s=>!s._stopped&&i&&i(s))}else return e}const Im=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,wC=(t,e,n,i,s,r)=>{const a=s==="svg";e==="class"?dC(t,i,a):e==="style"?mC(t,n,i):ou(e)?sf(e)||pC(t,e,n,i,r):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):MC(t,e,i,a))?(Mm(t,e,i),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&wm(t,e,i,a,r,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!gt(i))?Mm(t,xn(e),i,r,e):(e==="true-value"?t._trueValue=i:e==="false-value"&&(t._falseValue=i),wm(t,e,i,a))};function MC(t,e,n,i){if(i)return!!(e==="innerHTML"||e==="textContent"||e in t&&Im(e)&&Te(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return Im(e)&&gt(n)?!1:e in t}const G_=new WeakMap,z_=new WeakMap,wc=Symbol("_moveCb"),Am=Symbol("_enterCb"),TC=t=>(delete t.props.mode,t),RC=TC({name:"TransitionGroup",props:Et({},F_,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=mu(),i=i_();let s,r;return Sf(()=>{if(!s.length)return;const a=t.moveClass||`${t.name||"v"}-move`;if(!LC(s[0].el,n.vnode.el,a))return;s.forEach(IC),s.forEach(AC);const o=s.filter(PC);hd(),o.forEach(l=>{const c=l.el,u=c.style;di(c,a),u.transform=u.webkitTransform=u.transitionDuration="";const h=c[wc]=d=>{d&&d.target!==c||(!d||/transform$/.test(d.propertyName))&&(c.removeEventListener("transitionend",h),c[wc]=null,fs(c,a))};c.addEventListener("transitionend",h)})}),()=>{const a=ve(t),o=B_(a);let l=a.tag||Ge;if(s=[],r)for(let c=0;c<r.length;c++){const u=r[c];u.el&&u.el instanceof Element&&(s.push(u),dr(u,Ro(u,o,i,n)),G_.set(u,u.el.getBoundingClientRect()))}r=e.default?pf(e.default()):[];for(let c=0;c<r.length;c++){const u=r[c];u.key!=null&&dr(u,Ro(u,o,i,n))}return S(l,null,r)}}}),Rf=RC;function IC(t){const e=t.el;e[wc]&&e[wc](),e[Am]&&e[Am]()}function AC(t){z_.set(t,t.el.getBoundingClientRect())}function PC(t){const e=G_.get(t),n=z_.get(t),i=e.left-n.left,s=e.top-n.top;if(i||s){const r=t.el.style;return r.transform=r.webkitTransform=`translate(${i}px,${s}px)`,r.transitionDuration="0s",t}}function LC(t,e,n){const i=t.cloneNode(),s=t[ua];s&&s.forEach(o=>{o.split(/\s+/).forEach(l=>l&&i.classList.remove(l))}),n.split(/\s+/).forEach(o=>o&&i.classList.add(o)),i.style.display="none";const r=e.nodeType===1?e:e.parentNode;r.appendChild(i);const{hasTransform:a}=V_(i);return r.removeChild(i),a}const OC=Et({patchProp:wC},lC);let Pm;function kC(){return Pm||(Pm=LE(OC))}const DC=(...t)=>{const e=kC().createApp(...t),{mount:n}=e;return e.mount=i=>{const s=FC(i);if(!s)return;const r=e._component;!Te(r)&&!r.render&&!r.template&&(r.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const a=n(s,!1,NC(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),a},e};function NC(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function FC(t){return gt(t)?document.querySelector(t):t}function Rs(t,e){let n;function i(){n=Co(),n.run(()=>e.length?e(()=>{n==null||n.stop(),i()}):e())}be(t,s=>{s&&!n?i():s||(n==null||n.stop(),n=void 0)},{immediate:!0}),tn(()=>{n==null||n.stop()})}const Je=typeof window<"u",If=Je&&"IntersectionObserver"in window,BC=Je&&("ontouchstart"in window||window.navigator.maxTouchPoints>0);function W_(t,e,n){const i=e.length-1;if(i<0)return t===void 0?n:t;for(let s=0;s<i;s++){if(t==null)return n;t=t[e[s]]}return t==null||t[e[i]]===void 0?n:t[e[i]]}function ji(t,e){if(t===e)return!0;if(t instanceof Date&&e instanceof Date&&t.getTime()!==e.getTime()||t!==Object(t)||e!==Object(e))return!1;const n=Object.keys(t);return n.length!==Object.keys(e).length?!1:n.every(i=>ji(t[i],e[i]))}function dd(t,e,n){return t==null||!e||typeof e!="string"?n:t[e]!==void 0?t[e]:(e=e.replace(/\[(\w+)\]/g,".$1"),e=e.replace(/^\./,""),W_(t,e.split("."),n))}function mi(t,e,n){if(e===!0)return t===void 0?n:t;if(e==null||typeof e=="boolean")return n;if(t!==Object(t)){if(typeof e!="function")return n;const s=e(t,n);return typeof s>"u"?n:s}if(typeof e=="string")return dd(t,e,n);if(Array.isArray(e))return W_(t,e,n);if(typeof e!="function")return n;const i=e(t,n);return typeof i>"u"?n:i}function U_(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Array.from({length:t},(n,i)=>e+i)}function Ee(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"px";if(t==null||t==="")return;const n=Number(t);return isNaN(n)?String(t):isFinite(n)?`${n}${e}`:void 0}function VC(t){return t!==null&&typeof t=="object"&&!Array.isArray(t)}function Lm(t){let e;return t!==null&&typeof t=="object"&&((e=Object.getPrototypeOf(t))===Object.prototype||e===null)}function j_(t){if(t&&"$el"in t){const e=t.$el;return(e==null?void 0:e.nodeType)===Node.TEXT_NODE?e.nextElementSibling:e}return t}const Om=Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16});function hh(t,e){return e.every(n=>t.hasOwnProperty(n))}function yu(t,e){const n={};for(const i of e)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}function km(t,e,n){const i=Object.create(null),s=Object.create(null);for(const r in t)e.some(a=>a instanceof RegExp?a.test(r):a===r)?i[r]=t[r]:s[r]=t[r];return[i,s]}function wa(t,e){const n={...t};return e.forEach(i=>delete n[i]),n}const H_=/^on[^a-z]/,X_=t=>H_.test(t),$C=["onAfterscriptexecute","onAnimationcancel","onAnimationend","onAnimationiteration","onAnimationstart","onAuxclick","onBeforeinput","onBeforescriptexecute","onChange","onClick","onCompositionend","onCompositionstart","onCompositionupdate","onContextmenu","onCopy","onCut","onDblclick","onFocusin","onFocusout","onFullscreenchange","onFullscreenerror","onGesturechange","onGestureend","onGesturestart","onGotpointercapture","onInput","onKeydown","onKeypress","onKeyup","onLostpointercapture","onMousedown","onMousemove","onMouseout","onMouseover","onMouseup","onMousewheel","onPaste","onPointercancel","onPointerdown","onPointerenter","onPointerleave","onPointermove","onPointerout","onPointerover","onPointerup","onReset","onSelect","onSubmit","onTouchcancel","onTouchend","onTouchmove","onTouchstart","onTransitioncancel","onTransitionend","onTransitionrun","onTransitionstart","onWheel"];function q_(t){const[e,n]=km(t,[H_]),i=wa(e,$C),[s,r]=km(n,["class","style","id",/^data-/]);return Object.assign(s,e),Object.assign(r,i),[s,r]}function Jn(t){return t==null?[]:Array.isArray(t)?t:[t]}function GC(t,e){let n=0;const i=function(){for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];clearTimeout(n),n=setTimeout(()=>t(...r),Mn(e))};return i.clear=()=>{clearTimeout(n)},i.immediate=t,i}function Ei(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.max(e,Math.min(n,t))}function Dm(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0";return t+n.repeat(Math.max(0,e-t.length))}function Nm(t,e){return(arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0").repeat(Math.max(0,e-t.length))+t}function zC(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const n=[];let i=0;for(;i<t.length;)n.push(t.substr(i,e)),i+=e;return n}function Gt(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const i={};for(const s in t)i[s]=t[s];for(const s in e){const r=t[s],a=e[s];if(Lm(r)&&Lm(a)){i[s]=Gt(r,a,n);continue}if(n&&Array.isArray(r)&&Array.isArray(a)){i[s]=n(r,a);continue}i[s]=a}return i}function K_(t){return t.map(e=>e.type===Ge?K_(e.children):e).flat()}function rr(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(rr.cache.has(t))return rr.cache.get(t);const e=t.replace(/[^a-z]/gi,"-").replace(/\B([A-Z])/g,"-$1").toLowerCase();return rr.cache.set(t,e),e}rr.cache=new Map;function jr(t,e){if(!e||typeof e!="object")return[];if(Array.isArray(e))return e.map(n=>jr(t,n)).flat(1);if(e.suspense)return jr(t,e.ssContent);if(Array.isArray(e.children))return e.children.map(n=>jr(t,n)).flat(1);if(e.component){if(Object.getOwnPropertySymbols(e.component.provides).includes(t))return[e.component];if(e.component.subTree)return jr(t,e.component.subTree).flat(1)}return[]}function Af(t){const e=Mt({}),n=I(t);return Wn(()=>{for(const i in n.value)e[i]=n.value[i]},{flush:"sync"}),yf(e)}function Mc(t,e){return t.includes(e)}function Y_(t){return t[2].toLowerCase()+t.slice(3)}const _n=()=>[Function,Array];function Fm(t,e){return e="on"+Qi(e),!!(t[e]||t[`${e}Once`]||t[`${e}Capture`]||t[`${e}OnceCapture`]||t[`${e}CaptureOnce`])}function Z_(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];if(Array.isArray(t))for(const s of t)s(...n);else typeof t=="function"&&t(...n)}function Tc(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const n=["button","[href]",'input:not([type="hidden"])',"select","textarea","[tabindex]"].map(i=>`${i}${e?':not([tabindex="-1"])':""}:not([disabled])`).join(", ");return[...t.querySelectorAll(n)]}function J_(t,e,n){let i,s=t.indexOf(document.activeElement);const r=e==="next"?1:-1;do s+=r,i=t[s];while((!i||i.offsetParent==null||!((n==null?void 0:n(i))??!0))&&s<t.length&&s>=0);return i}function mo(t,e){var i,s,r,a;const n=Tc(t);if(!e)(t===document.activeElement||!t.contains(document.activeElement))&&((i=n[0])==null||i.focus());else if(e==="first")(s=n[0])==null||s.focus();else if(e==="last")(r=n.at(-1))==null||r.focus();else if(typeof e=="number")(a=n[e])==null||a.focus();else{const o=J_(n,e);o?o.focus():mo(t,e==="next"?"first":"last")}}function Rc(t,e){if(!(Je&&typeof CSS<"u"&&typeof CSS.supports<"u"&&CSS.supports(`selector(${e})`)))return null;try{return!!t&&t.matches(e)}catch{return null}}function Q_(t){return t.some(e=>Ao(e)?e.type===Cn?!1:e.type!==Ge||Q_(e.children):!0)?t:null}function WC(t,e){if(!Je||t===0)return e(),()=>{};const n=window.setTimeout(e,t);return()=>window.clearTimeout(n)}function UC(t,e){const n=t.clientX,i=t.clientY,s=e.getBoundingClientRect(),r=s.left,a=s.top,o=s.right,l=s.bottom;return n>=r&&n<=o&&i>=a&&i<=l}function fd(){const t=ge(),e=n=>{t.value=n};return Object.defineProperty(e,"value",{enumerable:!0,get:()=>t.value,set:n=>t.value=n}),Object.defineProperty(e,"el",{enumerable:!0,get:()=>j_(t.value)}),e}function Bm(t){const e=t.key.length===1,n=!t.ctrlKey&&!t.metaKey&&!t.altKey;return e&&n}function ep(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="bigint"}const tp=["top","bottom"],jC=["start","end","left","right"];function gd(t,e){let[n,i]=t.split(" ");return i||(i=Mc(tp,n)?"start":Mc(jC,n)?"top":"center"),{side:Vm(n,e),align:Vm(i,e)}}function Vm(t,e){return t==="start"?e?"right":"left":t==="end"?e?"left":"right":t}function dh(t){return{side:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[t.side],align:t.align}}function fh(t){return{side:t.side,align:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[t.align]}}function $m(t){return{side:t.align,align:t.side}}function Gm(t){return Mc(tp,t.side)?"y":"x"}class ar{constructor(e){let{x:n,y:i,width:s,height:r}=e;this.x=n,this.y=i,this.width=s,this.height=r}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function zm(t,e){return{x:{before:Math.max(0,e.left-t.left),after:Math.max(0,t.right-e.right)},y:{before:Math.max(0,e.top-t.top),after:Math.max(0,t.bottom-e.bottom)}}}function np(t){return Array.isArray(t)?new ar({x:t[0],y:t[1],width:0,height:0}):t.getBoundingClientRect()}function Pf(t){const e=t.getBoundingClientRect(),n=getComputedStyle(t),i=n.transform;if(i){let s,r,a,o,l;if(i.startsWith("matrix3d("))s=i.slice(9,-1).split(/, /),r=Number(s[0]),a=Number(s[5]),o=Number(s[12]),l=Number(s[13]);else if(i.startsWith("matrix("))s=i.slice(7,-1).split(/, /),r=Number(s[0]),a=Number(s[3]),o=Number(s[4]),l=Number(s[5]);else return new ar(e);const c=n.transformOrigin,u=e.x-o-(1-r)*parseFloat(c),h=e.y-l-(1-a)*parseFloat(c.slice(c.indexOf(" ")+1)),d=r?e.width/r:t.offsetWidth+1,f=a?e.height/a:t.offsetHeight+1;return new ar({x:u,y:h,width:d,height:f})}else return new ar(e)}function Hr(t,e,n){if(typeof t.animate>"u")return{finished:Promise.resolve()};let i;try{i=t.animate(e,n)}catch{return{finished:Promise.resolve()}}return typeof i.finished>"u"&&(i.finished=new Promise(s=>{i.onfinish=()=>{s(i)}})),i}const ac=new WeakMap;function HC(t,e){Object.keys(e).forEach(n=>{if(X_(n)){const i=Y_(n),s=ac.get(t);if(e[n]==null)s==null||s.forEach(r=>{const[a,o]=r;a===i&&(t.removeEventListener(i,o),s.delete(r))});else if(!s||![...s].some(r=>r[0]===i&&r[1]===e[n])){t.addEventListener(i,e[n]);const r=s||new Set;r.add([i,e[n]]),ac.has(t)||ac.set(t,r)}}else e[n]==null?t.removeAttribute(n):t.setAttribute(n,e[n])})}function XC(t,e){Object.keys(e).forEach(n=>{if(X_(n)){const i=Y_(n),s=ac.get(t);s==null||s.forEach(r=>{const[a,o]=r;a===i&&(t.removeEventListener(i,o),s.delete(r))})}else t.removeAttribute(n)})}const Ar=2.4,Wm=.2126729,Um=.7151522,jm=.072175,qC=.55,KC=.58,YC=.57,ZC=.62,kl=.03,Hm=1.45,JC=5e-4,QC=1.25,ew=1.25,tw=.078,Xm=12.82051282051282,Dl=.06,nw=.001;function qm(t,e){const n=(t.r/255)**Ar,i=(t.g/255)**Ar,s=(t.b/255)**Ar,r=(e.r/255)**Ar,a=(e.g/255)**Ar,o=(e.b/255)**Ar;let l=n*Wm+i*Um+s*jm,c=r*Wm+a*Um+o*jm;if(l<=kl&&(l+=(kl-l)**Hm),c<=kl&&(c+=(kl-c)**Hm),Math.abs(c-l)<JC)return 0;let u;if(c>l){const h=(c**qC-l**KC)*QC;u=h<nw?0:h<tw?h-h*Xm*Dl:h-Dl}else{const h=(c**ZC-l**YC)*ew;u=h>-.001?0:h>-.078?h-h*Xm*Dl:h+Dl}return u*100}function iw(t,e){e=Array.isArray(e)?e.slice(0,-1).map(n=>`'${n}'`).join(", ")+` or '${e.at(-1)}'`:`'${e}'`}const Ic=.20689655172413793,sw=t=>t>Ic**3?Math.cbrt(t):t/(3*Ic**2)+4/29,rw=t=>t>Ic?t**3:3*Ic**2*(t-4/29);function ip(t){const e=sw,n=e(t[1]);return[116*n-16,500*(e(t[0]/.95047)-n),200*(n-e(t[2]/1.08883))]}function sp(t){const e=rw,n=(t[0]+16)/116;return[e(n+t[1]/500)*.95047,e(n),e(n-t[2]/200)*1.08883]}const aw=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],ow=t=>t<=.0031308?t*12.92:1.055*t**(1/2.4)-.055,lw=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],cw=t=>t<=.04045?t/12.92:((t+.055)/1.055)**2.4;function rp(t){const e=Array(3),n=ow,i=aw;for(let s=0;s<3;++s)e[s]=Math.round(Ei(n(i[s][0]*t[0]+i[s][1]*t[1]+i[s][2]*t[2]))*255);return{r:e[0],g:e[1],b:e[2]}}function Lf(t){let{r:e,g:n,b:i}=t;const s=[0,0,0],r=cw,a=lw;e=r(e/255),n=r(n/255),i=r(i/255);for(let o=0;o<3;++o)s[o]=a[o][0]*e+a[o][1]*n+a[o][2]*i;return s}function md(t){return!!t&&/^(#|var\(--|(rgb|hsl)a?\()/.test(t)}function uw(t){return md(t)&&!/^((rgb|hsl)a?\()?var\(--/.test(t)}const Km=/^(?<fn>(?:rgb|hsl)a?)\((?<values>.+)\)/,hw={rgb:(t,e,n,i)=>({r:t,g:e,b:n,a:i}),rgba:(t,e,n,i)=>({r:t,g:e,b:n,a:i}),hsl:(t,e,n,i)=>Ym({h:t,s:e,l:n,a:i}),hsla:(t,e,n,i)=>Ym({h:t,s:e,l:n,a:i}),hsv:(t,e,n,i)=>Lo({h:t,s:e,v:n,a:i}),hsva:(t,e,n,i)=>Lo({h:t,s:e,v:n,a:i})};function _i(t){if(typeof t=="number")return{r:(t&16711680)>>16,g:(t&65280)>>8,b:t&255};if(typeof t=="string"&&Km.test(t)){const{groups:e}=t.match(Km),{fn:n,values:i}=e,s=i.split(/,\s*|\s*\/\s*|\s+/).map((r,a)=>r.endsWith("%")||a>0&&a<3&&["hsl","hsla","hsv","hsva"].includes(n)?parseFloat(r)/100:parseFloat(r));return hw[n](...s)}else if(typeof t=="string"){let e=t.startsWith("#")?t.slice(1):t;return[3,4].includes(e.length)?e=e.split("").map(n=>n+n).join(""):[6,8].includes(e.length),fw(e)}else if(typeof t=="object"){if(hh(t,["r","g","b"]))return t;if(hh(t,["h","s","l"]))return Lo(ap(t));if(hh(t,["h","s","v"]))return Lo(t)}throw new TypeError(`Invalid color: ${t==null?t:String(t)||t.constructor.name}
Expected #hex, #hexa, rgb(), rgba(), hsl(), hsla(), object or number`)}function Lo(t){const{h:e,s:n,v:i,a:s}=t,r=o=>{const l=(o+e/60)%6;return i-i*n*Math.max(Math.min(l,4-l,1),0)},a=[r(5),r(3),r(1)].map(o=>Math.round(o*255));return{r:a[0],g:a[1],b:a[2],a:s}}function Ym(t){return Lo(ap(t))}function ap(t){const{h:e,s:n,l:i,a:s}=t,r=i+n*Math.min(i,1-i),a=r===0?0:2-2*i/r;return{h:e,s:a,v:r,a:s}}function Nl(t){const e=Math.round(t).toString(16);return("00".substr(0,2-e.length)+e).toUpperCase()}function dw(t){let{r:e,g:n,b:i,a:s}=t;return`#${[Nl(e),Nl(n),Nl(i),s!==void 0?Nl(Math.round(s*255)):""].join("")}`}function fw(t){t=gw(t);let[e,n,i,s]=zC(t,2).map(r=>parseInt(r,16));return s=s===void 0?s:s/255,{r:e,g:n,b:i,a:s}}function gw(t){return t.startsWith("#")&&(t=t.slice(1)),t=t.replace(/([^0-9a-f])/gi,"F"),(t.length===3||t.length===4)&&(t=t.split("").map(e=>e+e).join("")),t.length!==6&&(t=Dm(Dm(t,6),8,"F")),t}function mw(t,e){const n=ip(Lf(t));return n[0]=n[0]+e*10,rp(sp(n))}function vw(t,e){const n=ip(Lf(t));return n[0]=n[0]-e*10,rp(sp(n))}function yw(t){const e=_i(t);return Lf(e)[1]}function op(t){const e=Math.abs(qm(_i(0),_i(t)));return Math.abs(qm(_i(16777215),_i(t)))>Math.min(e,50)?"#fff":"#000"}function ee(t,e){return n=>Object.keys(t).reduce((i,s)=>{const a=typeof t[s]=="object"&&t[s]!=null&&!Array.isArray(t[s])?t[s]:{type:t[s]};return n&&s in n?i[s]={...a,default:n[s]}:i[s]=a,e&&!i[s].source&&(i[s].source=e),i},{})}const Pe=ee({class:[String,Array,Object],style:{type:[String,Array,Object],default:null}},"component");function yt(t,e){const n=mu();if(!n)throw new Error(`[Vuetify] ${t} must be called from inside a setup function`);return n}function Ri(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"composables";const e=yt(t).type;return rr((e==null?void 0:e.aliasName)||(e==null?void 0:e.name))}function _w(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:yt("injectSelf");const{provides:n}=e;if(n&&t in n)return n[t]}const ha=Symbol.for("vuetify:defaults");function pw(t){return le(t)}function Of(){const t=rt(ha);if(!t)throw new Error("[Vuetify] Could not find defaults instance");return t}function wr(t,e){const n=Of(),i=le(t),s=I(()=>{if(Mn(e==null?void 0:e.disabled))return n.value;const a=Mn(e==null?void 0:e.scoped),o=Mn(e==null?void 0:e.reset),l=Mn(e==null?void 0:e.root);if(i.value==null&&!(a||o||l))return n.value;let c=Gt(i.value,{prev:n.value});if(a)return c;if(o||l){const u=Number(o||1/0);for(let h=0;h<=u&&!(!c||!("prev"in c));h++)c=c.prev;return c&&typeof l=="string"&&l in c&&(c=Gt(Gt(c,{prev:c}),c[l])),c}return c.prev?Gt(c.prev,c):c});return nn(ha,s),s}function xw(t,e){var n,i;return typeof((n=t.props)==null?void 0:n[e])<"u"||typeof((i=t.props)==null?void 0:i[rr(e)])<"u"}function bw(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Of();const i=yt("useDefaults");if(e=e??i.type.name??i.type.__name,!e)throw new Error("[Vuetify] Could not determine component name");const s=I(()=>{var l;return(l=n.value)==null?void 0:l[t._as??e]}),r=new Proxy(t,{get(l,c){var h,d,f,g,m,v,y;const u=Reflect.get(l,c);return c==="class"||c==="style"?[(h=s.value)==null?void 0:h[c],u].filter(_=>_!=null):typeof c=="string"&&!xw(i.vnode,c)?((d=s.value)==null?void 0:d[c])!==void 0?(f=s.value)==null?void 0:f[c]:((m=(g=n.value)==null?void 0:g.global)==null?void 0:m[c])!==void 0?(y=(v=n.value)==null?void 0:v.global)==null?void 0:y[c]:u:u}}),a=ge();Wn(()=>{if(s.value){const l=Object.entries(s.value).filter(c=>{let[u]=c;return u.startsWith(u[0].toUpperCase())});a.value=l.length?Object.fromEntries(l):void 0}else a.value=void 0});function o(){const l=_w(ha,i);nn(ha,I(()=>a.value?Gt((l==null?void 0:l.value)??{},a.value):l==null?void 0:l.value))}return{props:r,provideSubDefaults:o}}function Ma(t){if(t._setup=t._setup??t.setup,!t.name)return t;if(t._setup){t.props=ee(t.props??{},t.name)();const e=Object.keys(t.props).filter(n=>n!=="class"&&n!=="style");t.filterProps=function(i){return yu(i,e)},t.props._as=String,t.setup=function(i,s){const r=Of();if(!r.value)return t._setup(i,s);const{props:a,provideSubDefaults:o}=bw(i,i._as??t.name,r),l=t._setup(a,s);return o(),l}}return t}function de(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return e=>(t?Ma:xf)(e)}function lp(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div",n=arguments.length>2?arguments[2]:void 0;return de()({name:n??Qi(xn(t.replace(/__/g,"-"))),props:{tag:{type:String,default:e},...Pe()},setup(i,s){let{slots:r}=s;return()=>{var a;return Ds(i.tag,{class:[t,i.class],style:i.style},(a=r.default)==null?void 0:a.call(r))}}})}function cp(t){if(typeof t.getRootNode!="function"){for(;t.parentNode;)t=t.parentNode;return t!==document?null:document}const e=t.getRootNode();return e!==document&&e.getRootNode({composed:!0})!==document?null:e}const Ac="cubic-bezier(0.4, 0, 0.2, 1)",Sw="cubic-bezier(0.0, 0, 0.2, 1)",Ew="cubic-bezier(0.4, 0, 1, 1)";function up(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(;t;){if(e?Cw(t):kf(t))return t;t=t.parentElement}return document.scrollingElement}function Pc(t,e){const n=[];if(e&&t&&!e.contains(t))return n;for(;t&&(kf(t)&&n.push(t),t!==e);)t=t.parentElement;return n}function kf(t){if(!t||t.nodeType!==Node.ELEMENT_NODE)return!1;const e=window.getComputedStyle(t);return e.overflowY==="scroll"||e.overflowY==="auto"&&t.scrollHeight>t.clientHeight}function Cw(t){if(!t||t.nodeType!==Node.ELEMENT_NODE)return!1;const e=window.getComputedStyle(t);return["scroll","auto"].includes(e.overflowY)}function ww(t){for(;t;){if(window.getComputedStyle(t).position==="fixed")return!0;t=t.offsetParent}return!1}function Me(t){const e=yt("useRender");e.render=t}function bt(t,e,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:h=>h,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:h=>h;const r=yt("useProxiedModel"),a=le(t[e]!==void 0?t[e]:n),o=rr(e),c=I(o!==e?()=>{var h,d,f,g;return t[e],!!(((h=r.vnode.props)!=null&&h.hasOwnProperty(e)||(d=r.vnode.props)!=null&&d.hasOwnProperty(o))&&((f=r.vnode.props)!=null&&f.hasOwnProperty(`onUpdate:${e}`)||(g=r.vnode.props)!=null&&g.hasOwnProperty(`onUpdate:${o}`)))}:()=>{var h,d;return t[e],!!((h=r.vnode.props)!=null&&h.hasOwnProperty(e)&&((d=r.vnode.props)!=null&&d.hasOwnProperty(`onUpdate:${e}`)))});Rs(()=>!c.value,()=>{be(()=>t[e],h=>{a.value=h})});const u=I({get(){const h=t[e];return i(c.value?h:a.value)},set(h){const d=s(h),f=ve(c.value?t[e]:a.value);f===d||i(f)===h||(a.value=d,r==null||r.emit(`update:${e}`,d))}});return Object.defineProperty(u,"externalValue",{get:()=>c.value?t[e]:a.value}),u}const Mw={badge:"Badge",open:"Open",close:"Close",dismiss:"Dismiss",confirmEdit:{ok:"OK",cancel:"Cancel"},dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:"Sorted descending.",sortAscending:"Sorted ascending.",sortNone:"Not sorted.",activateNone:"Activate to remove sorting.",activateDescending:"Activate to sort descending.",activateAscending:"Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},dateRangeInput:{divider:"to"},datePicker:{itemsSelected:"{0} selected",range:{title:"Select dates",header:"Enter dates"},title:"Select date",header:"Enter date",input:{placeholder:"Enter date"}},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more",today:"Today"},input:{clear:"Clear {0}",prependAction:"{0} prepended action",appendAction:"{0} appended action",otp:"Please enter OTP character {0}"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},fileUpload:{title:"Drag and drop files here",divider:"or",browse:"Browse Files"},timePicker:{am:"AM",pm:"PM",title:"Select Time"},pagination:{ariaLabel:{root:"Pagination Navigation",next:"Next page",previous:"Previous page",page:"Go to page {0}",currentPage:"Page {0}, Current page",first:"First page",last:"Last page"}},stepper:{next:"Next",prev:"Previous"},rating:{ariaLabel:{item:"Rating {0} of {1}"}},loading:"Loading...",infiniteScroll:{loadMore:"Load more",empty:"No more"},rules:{required:"This field is required",email:"Please enter a valid email",number:"This field can only contain numbers",integer:"This field can only contain integer values",capital:"This field can only contain uppercase letters",maxLength:"You must enter a maximum of {0} characters",minLength:"You must enter a minimum of {0} characters",strictLength:"The length of the entered field is invalid",exclude:"The {0} character is not allowed",notEmpty:"Please choose at least one value",pattern:"Invalid format"}},Zm="$vuetify.",Jm=(t,e)=>t.replace(/\{(\d+)\}/g,(n,i)=>String(e[Number(i)])),hp=(t,e,n)=>function(i){for(var s=arguments.length,r=new Array(s>1?s-1:0),a=1;a<s;a++)r[a-1]=arguments[a];if(!i.startsWith(Zm))return Jm(i,r);const o=i.replace(Zm,""),l=t.value&&n.value[t.value],c=e.value&&n.value[e.value];let u=dd(l,o,null);return u||(`${i}${t.value}`,u=dd(c,o,null)),u||(u=i),typeof u!="string"&&(u=i),Jm(u,r)};function dp(t,e){return(n,i)=>new Intl.NumberFormat([t.value,e.value],i).format(n)}function gh(t,e,n){const i=bt(t,e,t[e]??n.value);return i.value=t[e]??n.value,be(n,s=>{t[e]==null&&(i.value=n.value)}),i}function fp(t){return e=>{const n=gh(e,"locale",t.current),i=gh(e,"fallback",t.fallback),s=gh(e,"messages",t.messages);return{name:"vuetify",current:n,fallback:i,messages:s,t:hp(n,i,s),n:dp(n,i),provide:fp({current:n,fallback:i,messages:s})}}}function Tw(t){const e=ge((t==null?void 0:t.locale)??"en"),n=ge((t==null?void 0:t.fallback)??"en"),i=le({en:Mw,...t==null?void 0:t.messages});return{name:"vuetify",current:e,fallback:n,messages:i,t:hp(e,n,i),n:dp(e,n),provide:fp({current:e,fallback:n,messages:i})}}const Lc=Symbol.for("vuetify:locale");function Rw(t){return t.name!=null}function Iw(t){const e=t!=null&&t.adapter&&Rw(t==null?void 0:t.adapter)?t==null?void 0:t.adapter:Tw(t),n=Pw(e,t);return{...e,...n}}function Df(){const t=rt(Lc);if(!t)throw new Error("[Vuetify] Could not find injected locale instance");return t}function Aw(){return{af:!1,ar:!0,bg:!1,ca:!1,ckb:!1,cs:!1,de:!1,el:!1,en:!1,es:!1,et:!1,fa:!0,fi:!1,fr:!1,hr:!1,hu:!1,he:!0,id:!1,it:!1,ja:!1,km:!1,ko:!1,lv:!1,lt:!1,nl:!1,no:!1,pl:!1,pt:!1,ro:!1,ru:!1,sk:!1,sl:!1,srCyrl:!1,srLatn:!1,sv:!1,th:!1,tr:!1,az:!1,uk:!1,vi:!1,zhHans:!1,zhHant:!1}}function Pw(t,e){const n=le((e==null?void 0:e.rtl)??Aw()),i=I(()=>n.value[t.current.value]??!1);return{isRtl:i,rtl:n,rtlClasses:I(()=>`v-locale--is-${i.value?"rtl":"ltr"}`)}}function si(){const t=rt(Lc);if(!t)throw new Error("[Vuetify] Could not find injected rtl instance");return{isRtl:t.isRtl,rtlClasses:t.rtlClasses}}const _u={"001":1,AD:1,AE:6,AF:6,AG:0,AI:1,AL:1,AM:1,AN:1,AR:1,AS:0,AT:1,AU:1,AX:1,AZ:1,BA:1,BD:0,BE:1,BG:1,BH:6,BM:1,BN:1,BR:0,BS:0,BT:0,BW:0,BY:1,BZ:0,CA:0,CH:1,CL:1,CM:1,CN:1,CO:0,CR:1,CY:1,CZ:1,DE:1,DJ:6,DK:1,DM:0,DO:0,DZ:6,EC:1,EE:1,EG:6,ES:1,ET:0,FI:1,FJ:1,FO:1,FR:1,GB:1,"GB-alt-variant":0,GE:1,GF:1,GP:1,GR:1,GT:0,GU:0,HK:0,HN:0,HR:1,HU:1,ID:0,IE:1,IL:0,IN:0,IQ:6,IR:6,IS:1,IT:1,JM:0,JO:6,JP:0,KE:0,KG:1,KH:0,KR:0,KW:6,KZ:1,LA:0,LB:1,LI:1,LK:1,LT:1,LU:1,LV:1,LY:6,MC:1,MD:1,ME:1,MH:0,MK:1,MM:0,MN:1,MO:0,MQ:1,MT:0,MV:5,MX:0,MY:1,MZ:0,NI:0,NL:1,NO:1,NP:0,NZ:1,OM:6,PA:0,PE:0,PH:0,PK:0,PL:1,PR:0,PT:0,PY:0,QA:6,RE:1,RO:1,RS:1,RU:1,SA:0,SD:6,SE:1,SG:0,SI:1,SK:1,SM:1,SV:0,SY:6,TH:0,TJ:1,TM:1,TR:1,TT:0,TW:0,UA:1,UM:0,US:0,UY:1,UZ:1,VA:1,VE:0,VI:0,VN:1,WS:0,XK:1,YE:0,ZA:0,ZW:0};function Lw(t,e,n){const i=[];let s=[];const r=gp(t),a=mp(t),o=n??_u[e.slice(-2).toUpperCase()]??0,l=(r.getDay()-o+7)%7,c=(a.getDay()-o+7)%7;for(let u=0;u<l;u++){const h=new Date(r);h.setDate(h.getDate()-(l-u)),s.push(h)}for(let u=1;u<=a.getDate();u++){const h=new Date(t.getFullYear(),t.getMonth(),u);s.push(h),s.length===7&&(i.push(s),s=[])}for(let u=1;u<7-c;u++){const h=new Date(a);h.setDate(h.getDate()+u),s.push(h)}return s.length>0&&i.push(s),i}function Ow(t,e,n){const i=n??_u[e.slice(-2).toUpperCase()]??0,s=new Date(t);for(;s.getDay()!==i;)s.setDate(s.getDate()-1);return s}function kw(t,e){const n=new Date(t),i=((_u[e.slice(-2).toUpperCase()]??0)+6)%7;for(;n.getDay()!==i;)n.setDate(n.getDate()+1);return n}function gp(t){return new Date(t.getFullYear(),t.getMonth(),1)}function mp(t){return new Date(t.getFullYear(),t.getMonth()+1,0)}function Dw(t){const e=t.split("-").map(Number);return new Date(e[0],e[1]-1,e[2])}const Nw=/^([12]\d{3}-([1-9]|0[1-9]|1[0-2])-([1-9]|0[1-9]|[12]\d|3[01]))$/;function vp(t){if(t==null)return new Date;if(t instanceof Date)return t;if(typeof t=="string"){let e;if(Nw.test(t))return Dw(t);if(e=Date.parse(t),!isNaN(e))return new Date(e)}return null}const Qm=new Date(2e3,0,2);function Fw(t,e){const n=e??_u[t.slice(-2).toUpperCase()]??0;return U_(7).map(i=>{const s=new Date(Qm);return s.setDate(Qm.getDate()+n+i),new Intl.DateTimeFormat(t,{weekday:"narrow"}).format(s)})}function Bw(t,e,n,i){const s=vp(t)??new Date,r=i==null?void 0:i[e];if(typeof r=="function")return r(s,e,n);let a={};switch(e){case"fullDate":a={year:"numeric",month:"long",day:"numeric"};break;case"fullDateWithWeekday":a={weekday:"long",year:"numeric",month:"long",day:"numeric"};break;case"normalDate":const o=s.getDate(),l=new Intl.DateTimeFormat(n,{month:"long"}).format(s);return`${o} ${l}`;case"normalDateWithWeekday":a={weekday:"short",day:"numeric",month:"short"};break;case"shortDate":a={month:"short",day:"numeric"};break;case"year":a={year:"numeric"};break;case"month":a={month:"long"};break;case"monthShort":a={month:"short"};break;case"monthAndYear":a={month:"long",year:"numeric"};break;case"monthAndDate":a={month:"long",day:"numeric"};break;case"weekday":a={weekday:"long"};break;case"weekdayShort":a={weekday:"short"};break;case"dayOfMonth":return new Intl.NumberFormat(n).format(s.getDate());case"hours12h":a={hour:"numeric",hour12:!0};break;case"hours24h":a={hour:"numeric",hour12:!1};break;case"minutes":a={minute:"numeric"};break;case"seconds":a={second:"numeric"};break;case"fullTime":a={hour:"numeric",minute:"numeric"};break;case"fullTime12h":a={hour:"numeric",minute:"numeric",hour12:!0};break;case"fullTime24h":a={hour:"numeric",minute:"numeric",hour12:!1};break;case"fullDateTime":a={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"};break;case"fullDateTime12h":a={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0};break;case"fullDateTime24h":a={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!1};break;case"keyboardDate":a={year:"numeric",month:"2-digit",day:"2-digit"};break;case"keyboardDateTime":return a={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric"},new Intl.DateTimeFormat(n,a).format(s).replace(/, /g," ");case"keyboardDateTime12h":return a={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",hour12:!0},new Intl.DateTimeFormat(n,a).format(s).replace(/, /g," ");case"keyboardDateTime24h":return a={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",hour12:!1},new Intl.DateTimeFormat(n,a).format(s).replace(/, /g," ");default:a=r??{timeZone:"UTC",timeZoneName:"short"}}return new Intl.DateTimeFormat(n,a).format(s)}function Vw(t,e){const n=t.toJsDate(e),i=n.getFullYear(),s=Nm(String(n.getMonth()+1),2,"0"),r=Nm(String(n.getDate()),2,"0");return`${i}-${s}-${r}`}function $w(t){const[e,n,i]=t.split("-").map(Number);return new Date(e,n-1,i)}function Gw(t,e){const n=new Date(t);return n.setMinutes(n.getMinutes()+e),n}function zw(t,e){const n=new Date(t);return n.setHours(n.getHours()+e),n}function Ww(t,e){const n=new Date(t);return n.setDate(n.getDate()+e),n}function Uw(t,e){const n=new Date(t);return n.setDate(n.getDate()+e*7),n}function jw(t,e){const n=new Date(t);return n.setDate(1),n.setMonth(n.getMonth()+e),n}function Hw(t){return t.getFullYear()}function Xw(t){return t.getMonth()}function qw(t){return t.getDate()}function Kw(t){return new Date(t.getFullYear(),t.getMonth()+1,1)}function Yw(t){return new Date(t.getFullYear(),t.getMonth()-1,1)}function Zw(t){return t.getHours()}function Jw(t){return t.getMinutes()}function Qw(t){return new Date(t.getFullYear(),0,1)}function eM(t){return new Date(t.getFullYear(),11,31)}function tM(t,e){return Oc(t,e[0])&&sM(t,e[1])}function nM(t){const e=new Date(t);return e instanceof Date&&!isNaN(e.getTime())}function Oc(t,e){return t.getTime()>e.getTime()}function iM(t,e){return Oc(vd(t),vd(e))}function sM(t,e){return t.getTime()<e.getTime()}function ev(t,e){return t.getTime()===e.getTime()}function rM(t,e){return t.getDate()===e.getDate()&&t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()}function aM(t,e){return t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()}function oM(t,e){return t.getFullYear()===e.getFullYear()}function lM(t,e,n){const i=new Date(t),s=new Date(e);switch(n){case"years":return i.getFullYear()-s.getFullYear();case"quarters":return Math.floor((i.getMonth()-s.getMonth()+(i.getFullYear()-s.getFullYear())*12)/4);case"months":return i.getMonth()-s.getMonth()+(i.getFullYear()-s.getFullYear())*12;case"weeks":return Math.floor((i.getTime()-s.getTime())/(1e3*60*60*24*7));case"days":return Math.floor((i.getTime()-s.getTime())/(1e3*60*60*24));case"hours":return Math.floor((i.getTime()-s.getTime())/(1e3*60*60));case"minutes":return Math.floor((i.getTime()-s.getTime())/(1e3*60));case"seconds":return Math.floor((i.getTime()-s.getTime())/1e3);default:return i.getTime()-s.getTime()}}function cM(t,e){const n=new Date(t);return n.setHours(e),n}function uM(t,e){const n=new Date(t);return n.setMinutes(e),n}function hM(t,e){const n=new Date(t);return n.setMonth(e),n}function dM(t,e){const n=new Date(t);return n.setDate(e),n}function fM(t,e){const n=new Date(t);return n.setFullYear(e),n}function vd(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0,0)}function gM(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),23,59,59,999)}class mM{constructor(e){this.locale=e.locale,this.formats=e.formats}date(e){return vp(e)}toJsDate(e){return e}toISO(e){return Vw(this,e)}parseISO(e){return $w(e)}addMinutes(e,n){return Gw(e,n)}addHours(e,n){return zw(e,n)}addDays(e,n){return Ww(e,n)}addWeeks(e,n){return Uw(e,n)}addMonths(e,n){return jw(e,n)}getWeekArray(e,n){return Lw(e,this.locale,n?Number(n):void 0)}startOfWeek(e,n){return Ow(e,this.locale,n?Number(n):void 0)}endOfWeek(e){return kw(e,this.locale)}startOfMonth(e){return gp(e)}endOfMonth(e){return mp(e)}format(e,n){return Bw(e,n,this.locale,this.formats)}isEqual(e,n){return ev(e,n)}isValid(e){return nM(e)}isWithinRange(e,n){return tM(e,n)}isAfter(e,n){return Oc(e,n)}isAfterDay(e,n){return iM(e,n)}isBefore(e,n){return!Oc(e,n)&&!ev(e,n)}isSameDay(e,n){return rM(e,n)}isSameMonth(e,n){return aM(e,n)}isSameYear(e,n){return oM(e,n)}setMinutes(e,n){return uM(e,n)}setHours(e,n){return cM(e,n)}setMonth(e,n){return hM(e,n)}setDate(e,n){return dM(e,n)}setYear(e,n){return fM(e,n)}getDiff(e,n,i){return lM(e,n,i)}getWeekdays(e){return Fw(this.locale,e?Number(e):void 0)}getYear(e){return Hw(e)}getMonth(e){return Xw(e)}getDate(e){return qw(e)}getNextMonth(e){return Kw(e)}getPreviousMonth(e){return Yw(e)}getHours(e){return Zw(e)}getMinutes(e){return Jw(e)}startOfDay(e){return vd(e)}endOfDay(e){return gM(e)}startOfYear(e){return Qw(e)}endOfYear(e){return eM(e)}}const vM=Symbol.for("vuetify:date-options"),tv=Symbol.for("vuetify:date-adapter");function yM(t,e){const n=Gt({adapter:mM,locale:{af:"af-ZA",bg:"bg-BG",ca:"ca-ES",ckb:"",cs:"cs-CZ",de:"de-DE",el:"el-GR",en:"en-US",et:"et-EE",fa:"fa-IR",fi:"fi-FI",hr:"hr-HR",hu:"hu-HU",he:"he-IL",id:"id-ID",it:"it-IT",ja:"ja-JP",ko:"ko-KR",lv:"lv-LV",lt:"lt-LT",nl:"nl-NL",no:"no-NO",pl:"pl-PL",pt:"pt-PT",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",sl:"sl-SI",srCyrl:"sr-SP",srLatn:"sr-SP",sv:"sv-SE",th:"th-TH",tr:"tr-TR",az:"az-AZ",uk:"uk-UA",vi:"vi-VN",zhHans:"zh-CN",zhHant:"zh-TW"}},t);return{options:n,instance:_M(n,e)}}function _M(t,e){const n=Mt(typeof t.adapter=="function"?new t.adapter({locale:t.locale[e.current.value]??e.current.value,formats:t.formats}):t.adapter);return be(e.current,i=>{n.locale=t.locale[i]??i??n.locale}),n}const pu=["sm","md","lg","xl","xxl"],yd=Symbol.for("vuetify:display"),nv={mobileBreakpoint:"lg",thresholds:{xs:0,sm:600,md:960,lg:1280,xl:1920,xxl:2560}},pM=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:nv;return Gt(nv,t)};function iv(t){return Je&&!t?window.innerWidth:typeof t=="object"&&t.clientWidth||0}function sv(t){return Je&&!t?window.innerHeight:typeof t=="object"&&t.clientHeight||0}function rv(t){const e=Je&&!t?window.navigator.userAgent:"ssr";function n(g){return!!e.match(g)}const i=n(/android/i),s=n(/iphone|ipad|ipod/i),r=n(/cordova/i),a=n(/electron/i),o=n(/chrome/i),l=n(/edge/i),c=n(/firefox/i),u=n(/opera/i),h=n(/win/i),d=n(/mac/i),f=n(/linux/i);return{android:i,ios:s,cordova:r,electron:a,chrome:o,edge:l,firefox:c,opera:u,win:h,mac:d,linux:f,touch:BC,ssr:e==="ssr"}}function xM(t,e){const{thresholds:n,mobileBreakpoint:i}=pM(t),s=ge(sv(e)),r=ge(rv(e)),a=Mt({}),o=ge(iv(e));function l(){s.value=sv(),o.value=iv()}function c(){l(),r.value=rv()}return Wn(()=>{const u=o.value<n.sm,h=o.value<n.md&&!u,d=o.value<n.lg&&!(h||u),f=o.value<n.xl&&!(d||h||u),g=o.value<n.xxl&&!(f||d||h||u),m=o.value>=n.xxl,v=u?"xs":h?"sm":d?"md":f?"lg":g?"xl":"xxl",y=typeof i=="number"?i:n[i],_=o.value<y;a.xs=u,a.sm=h,a.md=d,a.lg=f,a.xl=g,a.xxl=m,a.smAndUp=!u,a.mdAndUp=!(u||h),a.lgAndUp=!(u||h||d),a.xlAndUp=!(u||h||d||f),a.smAndDown=!(d||f||g||m),a.mdAndDown=!(f||g||m),a.lgAndDown=!(g||m),a.xlAndDown=!m,a.name=v,a.height=s.value,a.width=o.value,a.mobile=_,a.mobileBreakpoint=i,a.platform=r.value,a.thresholds=n}),Je&&(window.addEventListener("resize",l,{passive:!0}),tn(()=>{window.removeEventListener("resize",l)},!0)),{...yf(a),update:c,ssr:!!e}}const bM=ee({mobile:{type:Boolean,default:!1},mobileBreakpoint:[Number,String]},"display");function Nf(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{mobile:null},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ri();const n=rt(yd);if(!n)throw new Error("Could not find Vuetify display injection");const i=I(()=>t.mobile?!0:typeof t.mobileBreakpoint=="number"?n.width.value<t.mobileBreakpoint:t.mobileBreakpoint?n.width.value<n.thresholds.value[t.mobileBreakpoint]:t.mobile===null?n.mobile.value:!1),s=I(()=>e?{[`${e}--mobile`]:i.value}:{});return{...n,displayClasses:s,mobile:i}}const yp=Symbol.for("vuetify:goto");function _p(){return{container:void 0,duration:300,layout:!1,offset:0,easing:"easeInOutCubic",patterns:{linear:t=>t,easeInQuad:t=>t**2,easeOutQuad:t=>t*(2-t),easeInOutQuad:t=>t<.5?2*t**2:-1+(4-2*t)*t,easeInCubic:t=>t**3,easeOutCubic:t=>--t**3+1,easeInOutCubic:t=>t<.5?4*t**3:(t-1)*(2*t-2)*(2*t-2)+1,easeInQuart:t=>t**4,easeOutQuart:t=>1- --t**4,easeInOutQuart:t=>t<.5?8*t**4:1-8*--t**4,easeInQuint:t=>t**5,easeOutQuint:t=>1+--t**5,easeInOutQuint:t=>t<.5?16*t**5:1+16*--t**5}}}function SM(t){return Ff(t)??(document.scrollingElement||document.body)}function Ff(t){return typeof t=="string"?document.querySelector(t):j_(t)}function mh(t,e,n){if(typeof t=="number")return e&&n?-t:t;let i=Ff(t),s=0;for(;i;)s+=e?i.offsetLeft:i.offsetTop,i=i.offsetParent;return s}function EM(t,e){return{rtl:e.isRtl,options:Gt(_p(),t)}}async function av(t,e,n,i){const s=n?"scrollLeft":"scrollTop",r=Gt((i==null?void 0:i.options)??_p(),e),a=i==null?void 0:i.rtl.value,o=(typeof t=="number"?t:Ff(t))??0,l=r.container==="parent"&&o instanceof HTMLElement?o.parentElement:SM(r.container),c=typeof r.easing=="function"?r.easing:r.patterns[r.easing];if(!c)throw new TypeError(`Easing function "${r.easing}" not found.`);let u;if(typeof o=="number")u=mh(o,n,a);else if(u=mh(o,n,a)-mh(l,n,a),r.layout){const g=window.getComputedStyle(o).getPropertyValue("--v-layout-top");g&&(u-=parseInt(g,10))}u+=r.offset,u=wM(l,u,!!a,!!n);const h=l[s]??0;if(u===h)return Promise.resolve(u);const d=performance.now();return new Promise(f=>requestAnimationFrame(function g(m){const y=(m-d)/r.duration,_=Math.floor(h+(u-h)*c(Ei(y,0,1)));if(l[s]=_,y>=1&&Math.abs(_-l[s])<10)return f(u);if(y>2)return f(l[s]);requestAnimationFrame(g)}))}function CM(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e=rt(yp),{isRtl:n}=si();if(!e)throw new Error("[Vuetify] Could not find injected goto instance");const i={...e,rtl:I(()=>e.rtl.value||n.value)};async function s(r,a){return av(r,Gt(t,a),!1,i)}return s.horizontal=async(r,a)=>av(r,Gt(t,a),!0,i),s}function wM(t,e,n,i){const{scrollWidth:s,scrollHeight:r}=t,[a,o]=t===document.scrollingElement?[window.innerWidth,window.innerHeight]:[t.offsetWidth,t.offsetHeight];let l,c;return i?n?(l=-(s-a),c=0):(l=0,c=s-a):(l=0,c=r+-o),Math.max(Math.min(e,c),l)}const MM={collapse:"mdi-chevron-up",complete:"mdi-check",cancel:"mdi-close-circle",close:"mdi-close",delete:"mdi-close-circle",clear:"mdi-close-circle",success:"mdi-check-circle",info:"mdi-information",warning:"mdi-alert-circle",error:"mdi-close-circle",prev:"mdi-chevron-left",next:"mdi-chevron-right",checkboxOn:"mdi-checkbox-marked",checkboxOff:"mdi-checkbox-blank-outline",checkboxIndeterminate:"mdi-minus-box",delimiter:"mdi-circle",sortAsc:"mdi-arrow-up",sortDesc:"mdi-arrow-down",expand:"mdi-chevron-down",menu:"mdi-menu",subgroup:"mdi-menu-down",dropdown:"mdi-menu-down",radioOn:"mdi-radiobox-marked",radioOff:"mdi-radiobox-blank",edit:"mdi-pencil",ratingEmpty:"mdi-star-outline",ratingFull:"mdi-star",ratingHalf:"mdi-star-half-full",loading:"mdi-cached",first:"mdi-page-first",last:"mdi-page-last",unfold:"mdi-unfold-more-horizontal",file:"mdi-paperclip",plus:"mdi-plus",minus:"mdi-minus",calendar:"mdi-calendar",treeviewCollapse:"mdi-menu-down",treeviewExpand:"mdi-menu-right",eyeDropper:"mdi-eyedropper",upload:"mdi-cloud-upload"},TM={component:t=>Ds(xp,{...t,class:"mdi"})},ze=[String,Function,Object,Array],_d=Symbol.for("vuetify:icons"),xu=ee({icon:{type:ze},tag:{type:[String,Object,Function],required:!0}},"icon"),ov=de()({name:"VComponentIcon",props:xu(),setup(t,e){let{slots:n}=e;return()=>{const i=t.icon;return S(t.tag,null,{default:()=>{var s;return[t.icon?S(i,null,null):(s=n.default)==null?void 0:s.call(n)]}})}}}),pp=Ma({name:"VSvgIcon",inheritAttrs:!1,props:xu(),setup(t,e){let{attrs:n}=e;return()=>S(t.tag,ke(n,{style:null}),{default:()=>[S("svg",{class:"v-icon__svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true"},[Array.isArray(t.icon)?t.icon.map(i=>Array.isArray(i)?S("path",{d:i[0],"fill-opacity":i[1]},null):S("path",{d:i},null)):S("path",{d:t.icon},null)])]})}});Ma({name:"VLigatureIcon",props:xu(),setup(t){return()=>S(t.tag,null,{default:()=>[t.icon]})}});const xp=Ma({name:"VClassIcon",props:xu(),setup(t){return()=>S(t.tag,{class:t.icon},null)}});function RM(){return{svg:{component:pp},class:{component:xp}}}function IM(t){const e=RM(),n=(t==null?void 0:t.defaultSet)??"mdi";return n==="mdi"&&!e.mdi&&(e.mdi=TM),Gt({defaultSet:n,sets:e,aliases:{...MM,vuetify:["M8.2241 14.2009L12 21L22 3H14.4459L8.2241 14.2009Z",["M7.26303 12.4733L7.00113 12L2 3H12.5261C12.5261 3 12.5261 3 12.5261 3L7.26303 12.4733Z",.6]],"vuetify-outline":"svg:M7.26 12.47 12.53 3H2L7.26 12.47ZM14.45 3 8.22 14.2 12 21 22 3H14.45ZM18.6 5 12 16.88 10.51 14.2 15.62 5ZM7.26 8.35 5.4 5H9.13L7.26 8.35Z","vuetify-play":["m6.376 13.184-4.11-7.192C1.505 4.66 2.467 3 4.003 3h8.532l-.953 1.576-.006.01-.396.677c-.429.732-.214 1.507.194 2.015.404.503 1.092.878 1.869.806a3.72 3.72 0 0 1 1.005.022c.276.053.434.143.523.237.138.146.38.635-.25 2.09-.893 1.63-1.553 1.722-1.847 1.677-.213-.033-.468-.158-.756-.406a4.95 4.95 0 0 1-.8-.927c-.39-.564-1.04-.84-1.66-.846-.625-.006-1.316.27-1.693.921l-.478.826-.911 1.506Z",["M9.093 11.552c.046-.079.144-.15.32-.148a.53.53 0 0 1 .43.207c.285.414.636.847 1.046 1.2.405.35.914.662 1.516.754 1.334.205 2.502-.698 3.48-2.495l.014-.028.013-.03c.687-1.574.774-2.852-.005-3.675-.37-.391-.861-.586-1.333-.676a5.243 5.243 0 0 0-1.447-.044c-.173.016-.393-.073-.54-.257-.145-.18-.127-.316-.082-.392l.393-.672L14.287 3h5.71c1.536 0 2.499 1.659 1.737 2.992l-7.997 13.996c-.768 1.344-2.706 1.344-3.473 0l-3.037-5.314 1.377-2.278.004-.006.004-.007.481-.831Z",.6]]}},t)}const AM=t=>{const e=rt(_d);if(!e)throw new Error("Missing Vuetify Icons provide!");return{iconData:I(()=>{var l;const i=Mn(t);if(!i)return{component:ov};let s=i;if(typeof s=="string"&&(s=s.trim(),s.startsWith("$")&&(s=(l=e.aliases)==null?void 0:l[s.slice(1)])),Array.isArray(s))return{component:pp,icon:s};if(typeof s!="string")return{component:ov,icon:s};const r=Object.keys(e.sets).find(c=>typeof s=="string"&&s.startsWith(`${c}:`)),a=r?s.slice(r.length+1):s;return{component:e.sets[r??e.defaultSet].component,icon:a}})}},Oo=Symbol.for("vuetify:theme"),pt=ee({theme:String},"theme");function lv(){return{defaultTheme:"light",variations:{colors:[],lighten:0,darken:0},themes:{light:{dark:!1,colors:{background:"#FFFFFF",surface:"#FFFFFF","surface-bright":"#FFFFFF","surface-light":"#EEEEEE","surface-variant":"#424242","on-surface-variant":"#EEEEEE",primary:"#1867C0","primary-darken-1":"#1F5592",secondary:"#48A9A6","secondary-darken-1":"#018786",error:"#B00020",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#000000","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.04,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.12,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#F5F5F5","theme-on-code":"#000000"}},dark:{dark:!0,colors:{background:"#121212",surface:"#212121","surface-bright":"#ccbfd6","surface-light":"#424242","surface-variant":"#a3a3a3","on-surface-variant":"#424242",primary:"#2196F3","primary-darken-1":"#277CC1",secondary:"#54B6B2","secondary-darken-1":"#48A9A6",error:"#CF6679",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#FFFFFF","border-opacity":.12,"high-emphasis-opacity":1,"medium-emphasis-opacity":.7,"disabled-opacity":.5,"idle-opacity":.1,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.16,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#343434","theme-on-code":"#CCCCCC"}}},stylesheetId:"vuetify-theme-stylesheet"}}function PM(){var i,s;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:lv();const e=lv();if(!t)return{...e,isDisabled:!0};const n={};for(const[r,a]of Object.entries(t.themes??{})){const o=a.dark||r==="dark"?(i=e.themes)==null?void 0:i.dark:(s=e.themes)==null?void 0:s.light;n[r]=Gt(o,a)}return Gt(e,{...t,themes:n})}function LM(t){const e=PM(t),n=le(e.defaultTheme),i=le(e.themes),s=I(()=>{const d={};for(const[f,g]of Object.entries(i.value)){const m=d[f]={...g,colors:{...g.colors}};if(e.variations)for(const v of e.variations.colors){const y=m.colors[v];if(y)for(const _ of["lighten","darken"]){const p=_==="lighten"?mw:vw;for(const x of U_(e.variations[_],1))m.colors[`${v}-${_}-${x}`]=dw(p(_i(y),x))}}for(const v of Object.keys(m.colors)){if(/^on-[a-z]/.test(v)||m.colors[`on-${v}`])continue;const y=`on-${v}`,_=_i(m.colors[v]);m.colors[y]=op(_)}}return d}),r=I(()=>s.value[n.value]);function a(d,f,g){d.push(`${o(f)} {
`,...g.map(m=>`  ${m};
`),`}
`)}function o(d){if(!e.scope)return d;const f=`:where(${e.scope})`;return d===":root"?f:`${f} ${d}`}const l=I(()=>{var v;const d=[];(v=r.value)!=null&&v.dark&&a(d,":root",["color-scheme: dark"]),a(d,":root",cv(r.value));for(const[y,_]of Object.entries(s.value))a(d,`.v-theme--${y}`,[`color-scheme: ${_.dark?"dark":"normal"}`,...cv(_)]);const f=[],g=[],m=new Set(Object.values(s.value).flatMap(y=>Object.keys(y.colors)));for(const y of m)/^on-[a-z]/.test(y)?a(g,`.${y}`,[`color: rgb(var(--v-theme-${y})) !important`]):(a(f,`.bg-${y}`,[`--v-theme-overlay-multiplier: var(--v-theme-${y}-overlay-multiplier)`,`background-color: rgb(var(--v-theme-${y})) !important`,`color: rgb(var(--v-theme-on-${y})) !important`]),a(g,`.text-${y}`,[`color: rgb(var(--v-theme-${y})) !important`]),a(g,`.border-${y}`,[`--v-border-color: var(--v-theme-${y})`]));return d.push(...f,...g),d.map((y,_)=>_===0?y:`    ${y}`).join("")});function c(){return{style:[{textContent:l.value,id:e.stylesheetId,nonce:e.cspNonce||!1}]}}function u(d){if(e.isDisabled)return;const f=d._context.provides.usehead;if(f)if(f.push){const m=f.push(c);Je&&be(l,()=>{m.patch(c)})}else Je?(f.addHeadObjs(I(c)),Wn(()=>f.updateDOM())):f.addHeadObjs(c());else{let v=function(){if(typeof document<"u"&&!m){const y=document.createElement("style");y.type="text/css",y.id=e.stylesheetId,e.cspNonce&&y.setAttribute("nonce",e.cspNonce),m=y,document.head.appendChild(m)}m&&(m.innerHTML=l.value)};var g=v;let m=Je?document.getElementById(e.stylesheetId):null;Je?be(l,v,{immediate:!0}):v()}}const h=I(()=>e.isDisabled?void 0:`v-theme--${n.value}`);return{install:u,isDisabled:e.isDisabled,name:n,themes:i,current:r,computedThemes:s,themeClasses:h,styles:l,global:{name:n,current:r}}}function Ot(t){yt("provideTheme");const e=rt(Oo,null);if(!e)throw new Error("Could not find Vuetify theme injection");const n=I(()=>t.theme??e.name.value),i=I(()=>e.themes.value[n.value]),s=I(()=>e.isDisabled?void 0:`v-theme--${n.value}`),r={...e,name:n,current:i,themeClasses:s};return nn(Oo,r),r}function OM(){yt("useTheme");const t=rt(Oo,null);if(!t)throw new Error("Could not find Vuetify theme injection");return t}function cv(t){const e=t.dark?2:1,n=t.dark?1:2,i=[];for(const[s,r]of Object.entries(t.colors)){const a=_i(r);i.push(`--v-theme-${s}: ${a.r},${a.g},${a.b}`),s.startsWith("on-")||i.push(`--v-theme-${s}-overlay-multiplier: ${yw(r)>.18?e:n}`)}for(const[s,r]of Object.entries(t.variables)){const a=typeof r=="string"&&r.startsWith("#")?_i(r):void 0,o=a?`${a.r}, ${a.g}, ${a.b}`:void 0;i.push(`--v-${s}: ${o??r}`)}return i}function da(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"content";const n=fd(),i=le();if(Je){const s=new ResizeObserver(r=>{r.length&&(e==="content"?i.value=r[0].contentRect:i.value=r[0].target.getBoundingClientRect())});bn(()=>{s.disconnect()}),be(()=>n.el,(r,a)=>{a&&(s.unobserve(a),i.value=void 0),r&&s.observe(r)},{flush:"post"})}return{resizeRef:n,contentRect:el(i)}}const kc=Symbol.for("vuetify:layout"),bp=Symbol.for("vuetify:layout-item"),uv=1e3,kM=ee({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),DM=ee({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function NM(){const t=rt(kc);if(!t)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:t.getLayoutItem,mainRect:t.mainRect,mainStyles:t.mainStyles}}function FM(t){const e=rt(kc);if(!e)throw new Error("[Vuetify] Could not find injected layout");const n=t.id??`layout-item-${ks()}`,i=yt("useLayoutItem");nn(bp,{id:n});const s=ge(!1);bf(()=>s.value=!0),c_(()=>s.value=!1);const{layoutItemStyles:r,layoutItemScrimStyles:a}=e.register(i,{...t,active:I(()=>s.value?!1:t.active.value),id:n});return bn(()=>e.unregister(n)),{layoutItemStyles:r,layoutRect:e.layoutRect,layoutItemScrimStyles:a}}const BM=(t,e,n,i)=>{let s={top:0,left:0,right:0,bottom:0};const r=[{id:"",layer:{...s}}];for(const a of t){const o=e.get(a),l=n.get(a),c=i.get(a);if(!o||!l||!c)continue;const u={...s,[o.value]:parseInt(s[o.value],10)+(c.value?parseInt(l.value,10):0)};r.push({id:a,layer:u}),s=u}return r};function VM(t){const e=rt(kc,null),n=I(()=>e?e.rootZIndex.value-100:uv),i=le([]),s=Mt(new Map),r=Mt(new Map),a=Mt(new Map),o=Mt(new Map),l=Mt(new Map),{resizeRef:c,contentRect:u}=da(),h=I(()=>{const C=new Map,M=t.overlaps??[];for(const E of M.filter(R=>R.includes(":"))){const[R,O]=E.split(":");if(!i.value.includes(R)||!i.value.includes(O))continue;const k=s.get(R),w=s.get(O),A=r.get(R),D=r.get(O);!k||!w||!A||!D||(C.set(O,{position:k.value,amount:parseInt(A.value,10)}),C.set(R,{position:w.value,amount:-parseInt(D.value,10)}))}return C}),d=I(()=>{const C=[...new Set([...a.values()].map(E=>E.value))].sort((E,R)=>E-R),M=[];for(const E of C){const R=i.value.filter(O=>{var k;return((k=a.get(O))==null?void 0:k.value)===E});M.push(...R)}return BM(M,s,r,o)}),f=I(()=>!Array.from(l.values()).some(C=>C.value)),g=I(()=>d.value[d.value.length-1].layer),m=I(()=>({"--v-layout-left":Ee(g.value.left),"--v-layout-right":Ee(g.value.right),"--v-layout-top":Ee(g.value.top),"--v-layout-bottom":Ee(g.value.bottom),...f.value?void 0:{transition:"none"}})),v=I(()=>d.value.slice(1).map((C,M)=>{let{id:E}=C;const{layer:R}=d.value[M],O=r.get(E),k=s.get(E);return{id:E,...R,size:Number(O.value),position:k.value}})),y=C=>v.value.find(M=>M.id===C),_=yt("createLayout"),p=ge(!1);ii(()=>{p.value=!0}),nn(kc,{register:(C,M)=>{let{id:E,order:R,position:O,layoutSize:k,elementSize:w,active:A,disableTransitions:D,absolute:X}=M;a.set(E,R),s.set(E,O),r.set(E,k),o.set(E,A),D&&l.set(E,D);const H=jr(bp,_==null?void 0:_.vnode).indexOf(C);H>-1?i.value.splice(H,0,E):i.value.push(E);const z=I(()=>v.value.findIndex(L=>L.id===E)),F=I(()=>n.value+d.value.length*2-z.value*2),$=I(()=>{const L=O.value==="left"||O.value==="right",ne=O.value==="right",Z=O.value==="bottom",oe=w.value??k.value,pe=oe===0?"%":"px",ae={[O.value]:0,zIndex:F.value,transform:`translate${L?"X":"Y"}(${(A.value?0:-(oe===0?100:oe))*(ne||Z?-1:1)}${pe})`,position:X.value||n.value!==uv?"absolute":"fixed",...f.value?void 0:{transition:"none"}};if(!p.value)return ae;const ce=v.value[z.value];if(!ce)throw new Error(`[Vuetify] Could not find layout item "${E}"`);const Ne=h.value.get(E);return Ne&&(ce[Ne.position]+=Ne.amount),{...ae,height:L?`calc(100% - ${ce.top}px - ${ce.bottom}px)`:w.value?`${w.value}px`:void 0,left:ne?void 0:`${ce.left}px`,right:ne?`${ce.right}px`:void 0,top:O.value!=="bottom"?`${ce.top}px`:void 0,bottom:O.value!=="top"?`${ce.bottom}px`:void 0,width:L?w.value?`${w.value}px`:void 0:`calc(100% - ${ce.left}px - ${ce.right}px)`}}),N=I(()=>({zIndex:F.value-1}));return{layoutItemStyles:$,layoutItemScrimStyles:N,zIndex:F}},unregister:C=>{a.delete(C),s.delete(C),r.delete(C),o.delete(C),l.delete(C),i.value=i.value.filter(M=>M!==C)},mainRect:g,mainStyles:m,getLayoutItem:y,items:v,layoutRect:u,rootZIndex:n});const x=I(()=>["v-layout",{"v-layout--full-height":t.fullHeight}]),b=I(()=>({zIndex:e?n.value:void 0,position:e?"relative":void 0,overflow:e?"hidden":void 0}));return{layoutClasses:x,layoutStyles:b,getLayoutItem:y,items:v,layoutRect:u,layoutRef:c}}function Sp(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{blueprint:e,...n}=t,i=Gt(e,n),{aliases:s={},components:r={},directives:a={}}=i,o=Co();return o.run(()=>{const l=pw(i.defaults),c=xM(i.display,i.ssr),u=LM(i.theme),h=IM(i.icons),d=Iw(i.locale),f=yM(i.date,d),g=EM(i.goTo,d);function m(y){for(const p in a)y.directive(p,a[p]);for(const p in r)y.component(p,r[p]);for(const p in s)y.component(p,Ma({...s[p],name:p,aliasName:s[p].name}));const _=Co();if(_.run(()=>{u.install(y)}),y.onUnmount(()=>_.stop()),y.provide(ha,l),y.provide(yd,c),y.provide(Oo,u),y.provide(_d,h),y.provide(Lc,d),y.provide(vM,f.options),y.provide(tv,f.instance),y.provide(yp,g),Je&&i.ssr)if(y.$nuxt)y.$nuxt.hook("app:suspense:resolve",()=>{c.update()});else{const{mount:p}=y;y.mount=function(){const x=p(...arguments);return Qt(()=>c.update()),y.mount=p,x}}y.mixin({computed:{$vuetify(){return Mt({defaults:Pr.call(this,ha),display:Pr.call(this,yd),theme:Pr.call(this,Oo),icons:Pr.call(this,_d),locale:Pr.call(this,Lc),date:Pr.call(this,tv)})}}})}function v(){o.stop()}return{install:m,unmount:v,defaults:l,display:c,theme:u,icons:h,locale:d,date:f,goTo:g}})}const $M="3.8.0";Sp.version=$M;function Pr(t){var i,s;const e=this.$,n=((i=e.parent)==null?void 0:i.provides)??((s=e.vnode.appContext)==null?void 0:s.provides);if(n&&t in n)return n[t]}const GM=Sp({theme:{defaultTheme:"light"}});function zM(t){t.use(GM)}const WM="/logo.svg",vh=function(t){switch(t){case 4:return"color: #009900";case 3:return"color: #0000ff";case 2:return"color: #ff9900";case 1:return"background: #ff2325; color: #bfff1a"}return"background: #dddddd; color: #000"},Fl=function(t){if(typeof t>"u"||t===null)return"";{let e=t.replace(/^Error\s+/,"");return e=e.split(`
`)[1],e=e.replace(/^\s+at Object./,""),e=e.replace(/ \(.+\)$/,""),e=e.replace(/\@.+/,""),e=e.replace("at ","").trim(),e=e.replace("VueComponent.","").trim(),e}},Bl=function(t,e,n,i,...s){let r;switch(e.length>1?r=`${t}::${e}()`:r=`${t}::`,i){case 1:console.error(`%c ${r} ${n}`,vh(i)),console.trace();break;case 2:console.warn(`%c ${r} ${n}`,vh(i));break;default:console.log(`%c ${r} ${n}`,vh(i));break}s.length>0&&s.forEach(a=>console.log(a))};class UM{constructor(e="",n=4){Rl(this,"_moduleName","");Rl(this,"_logLevel",4);this._moduleName=e,this._logLevel=n}l(e,...n){if(this._logLevel>=4){const i=Fl(new Error().stack);Bl(this._moduleName,i,e,4,...n)}}t(e,...n){if(this._logLevel>=3){const i=Fl(new Error().stack);Bl(this._moduleName,i,e,3,...n)}}w(e,...n){if(this._logLevel>=2){const i=Fl(new Error().stack);Bl(this._moduleName,i,e,2,...n)}}e(e,...n){if(this._logLevel>=1){const i=Fl(new Error().stack);Bl(this._moduleName,i,e,1,...n)}}}const Vl="wmtsProxyFront",hv="0.2.3",jM=new URL(location.toString()),Bf=jM.origin,Vf=(t,e,n)=>new UM(t,n),Ep=1e4;function Cp(t,e){return function(){return t.apply(e,arguments)}}const{toString:HM}=Object.prototype,{getPrototypeOf:$f}=Object,bu=(t=>e=>{const n=HM.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ri=t=>(t=t.toLowerCase(),e=>bu(e)===t),Su=t=>e=>typeof e===t,{isArray:Ta}=Array,ko=Su("undefined");function XM(t){return t!==null&&!ko(t)&&t.constructor!==null&&!ko(t.constructor)&&Rn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const wp=ri("ArrayBuffer");function qM(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&wp(t.buffer),e}const KM=Su("string"),Rn=Su("function"),Mp=Su("number"),Eu=t=>t!==null&&typeof t=="object",YM=t=>t===!0||t===!1,oc=t=>{if(bu(t)!=="object")return!1;const e=$f(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},ZM=ri("Date"),JM=ri("File"),QM=ri("Blob"),eT=ri("FileList"),tT=t=>Eu(t)&&Rn(t.pipe),nT=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Rn(t.append)&&((e=bu(t))==="formdata"||e==="object"&&Rn(t.toString)&&t.toString()==="[object FormData]"))},iT=ri("URLSearchParams"),[sT,rT,aT,oT]=["ReadableStream","Request","Response","Headers"].map(ri),lT=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function rl(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let i,s;if(typeof t!="object"&&(t=[t]),Ta(t))for(i=0,s=t.length;i<s;i++)e.call(null,t[i],i,t);else{const r=n?Object.getOwnPropertyNames(t):Object.keys(t),a=r.length;let o;for(i=0;i<a;i++)o=r[i],e.call(null,t[o],o,t)}}function Tp(t,e){e=e.toLowerCase();const n=Object.keys(t);let i=n.length,s;for(;i-- >0;)if(s=n[i],e===s.toLowerCase())return s;return null}const Js=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Rp=t=>!ko(t)&&t!==Js;function pd(){const{caseless:t}=Rp(this)&&this||{},e={},n=(i,s)=>{const r=t&&Tp(e,s)||s;oc(e[r])&&oc(i)?e[r]=pd(e[r],i):oc(i)?e[r]=pd({},i):Ta(i)?e[r]=i.slice():e[r]=i};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&rl(arguments[i],n);return e}const cT=(t,e,n,{allOwnKeys:i}={})=>(rl(e,(s,r)=>{n&&Rn(s)?t[r]=Cp(s,n):t[r]=s},{allOwnKeys:i}),t),uT=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),hT=(t,e,n,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},dT=(t,e,n,i)=>{let s,r,a;const o={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),r=s.length;r-- >0;)a=s[r],(!i||i(a,t,e))&&!o[a]&&(e[a]=t[a],o[a]=!0);t=n!==!1&&$f(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},fT=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const i=t.indexOf(e,n);return i!==-1&&i===n},gT=t=>{if(!t)return null;if(Ta(t))return t;let e=t.length;if(!Mp(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},mT=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&$f(Uint8Array)),vT=(t,e)=>{const i=(t&&t[Symbol.iterator]).call(t);let s;for(;(s=i.next())&&!s.done;){const r=s.value;e.call(t,r[0],r[1])}},yT=(t,e)=>{let n;const i=[];for(;(n=t.exec(e))!==null;)i.push(n);return i},_T=ri("HTMLFormElement"),pT=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,s){return i.toUpperCase()+s}),dv=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),xT=ri("RegExp"),Ip=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),i={};rl(n,(s,r)=>{let a;(a=e(s,r,t))!==!1&&(i[r]=a||s)}),Object.defineProperties(t,i)},bT=t=>{Ip(t,(e,n)=>{if(Rn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=t[n];if(Rn(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},ST=(t,e)=>{const n={},i=s=>{s.forEach(r=>{n[r]=!0})};return Ta(t)?i(t):i(String(t).split(e)),n},ET=()=>{},CT=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function wT(t){return!!(t&&Rn(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const MT=t=>{const e=new Array(10),n=(i,s)=>{if(Eu(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[s]=i;const r=Ta(i)?[]:{};return rl(i,(a,o)=>{const l=n(a,s+1);!ko(l)&&(r[o]=l)}),e[s]=void 0,r}}return i};return n(t,0)},TT=ri("AsyncFunction"),RT=t=>t&&(Eu(t)||Rn(t))&&Rn(t.then)&&Rn(t.catch),Ap=((t,e)=>t?setImmediate:e?((n,i)=>(Js.addEventListener("message",({source:s,data:r})=>{s===Js&&r===n&&i.length&&i.shift()()},!1),s=>{i.push(s),Js.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Rn(Js.postMessage)),IT=typeof queueMicrotask<"u"?queueMicrotask.bind(Js):typeof process<"u"&&process.nextTick||Ap,V={isArray:Ta,isArrayBuffer:wp,isBuffer:XM,isFormData:nT,isArrayBufferView:qM,isString:KM,isNumber:Mp,isBoolean:YM,isObject:Eu,isPlainObject:oc,isReadableStream:sT,isRequest:rT,isResponse:aT,isHeaders:oT,isUndefined:ko,isDate:ZM,isFile:JM,isBlob:QM,isRegExp:xT,isFunction:Rn,isStream:tT,isURLSearchParams:iT,isTypedArray:mT,isFileList:eT,forEach:rl,merge:pd,extend:cT,trim:lT,stripBOM:uT,inherits:hT,toFlatObject:dT,kindOf:bu,kindOfTest:ri,endsWith:fT,toArray:gT,forEachEntry:vT,matchAll:yT,isHTMLForm:_T,hasOwnProperty:dv,hasOwnProp:dv,reduceDescriptors:Ip,freezeMethods:bT,toObjectSet:ST,toCamelCase:pT,noop:ET,toFiniteNumber:CT,findKey:Tp,global:Js,isContextDefined:Rp,isSpecCompliantForm:wT,toJSONObject:MT,isAsyncFn:TT,isThenable:RT,setImmediate:Ap,asap:IT};function Ae(t,e,n,i,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),i&&(this.request=i),s&&(this.response=s,this.status=s.status?s.status:null)}V.inherits(Ae,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:V.toJSONObject(this.config),code:this.code,status:this.status}}});const Pp=Ae.prototype,Lp={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Lp[t]={value:t}});Object.defineProperties(Ae,Lp);Object.defineProperty(Pp,"isAxiosError",{value:!0});Ae.from=(t,e,n,i,s,r)=>{const a=Object.create(Pp);return V.toFlatObject(t,a,function(l){return l!==Error.prototype},o=>o!=="isAxiosError"),Ae.call(a,t.message,e,n,i,s),a.cause=t,a.name=t.name,r&&Object.assign(a,r),a};const AT=null;function xd(t){return V.isPlainObject(t)||V.isArray(t)}function Op(t){return V.endsWith(t,"[]")?t.slice(0,-2):t}function fv(t,e,n){return t?t.concat(e).map(function(s,r){return s=Op(s),!n&&r?"["+s+"]":s}).join(n?".":""):e}function PT(t){return V.isArray(t)&&!t.some(xd)}const LT=V.toFlatObject(V,{},null,function(e){return/^is[A-Z]/.test(e)});function Cu(t,e,n){if(!V.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=V.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,v){return!V.isUndefined(v[m])});const i=n.metaTokens,s=n.visitor||u,r=n.dots,a=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&V.isSpecCompliantForm(e);if(!V.isFunction(s))throw new TypeError("visitor must be a function");function c(g){if(g===null)return"";if(V.isDate(g))return g.toISOString();if(!l&&V.isBlob(g))throw new Ae("Blob is not supported. Use a Buffer instead.");return V.isArrayBuffer(g)||V.isTypedArray(g)?l&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function u(g,m,v){let y=g;if(g&&!v&&typeof g=="object"){if(V.endsWith(m,"{}"))m=i?m:m.slice(0,-2),g=JSON.stringify(g);else if(V.isArray(g)&&PT(g)||(V.isFileList(g)||V.endsWith(m,"[]"))&&(y=V.toArray(g)))return m=Op(m),y.forEach(function(p,x){!(V.isUndefined(p)||p===null)&&e.append(a===!0?fv([m],x,r):a===null?m:m+"[]",c(p))}),!1}return xd(g)?!0:(e.append(fv(v,m,r),c(g)),!1)}const h=[],d=Object.assign(LT,{defaultVisitor:u,convertValue:c,isVisitable:xd});function f(g,m){if(!V.isUndefined(g)){if(h.indexOf(g)!==-1)throw Error("Circular reference detected in "+m.join("."));h.push(g),V.forEach(g,function(y,_){(!(V.isUndefined(y)||y===null)&&s.call(e,y,V.isString(_)?_.trim():_,m,d))===!0&&f(y,m?m.concat(_):[_])}),h.pop()}}if(!V.isObject(t))throw new TypeError("data must be an object");return f(t),e}function gv(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function Gf(t,e){this._pairs=[],t&&Cu(t,this,e)}const kp=Gf.prototype;kp.append=function(e,n){this._pairs.push([e,n])};kp.toString=function(e){const n=e?function(i){return e.call(this,i,gv)}:gv;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function OT(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Dp(t,e,n){if(!e)return t;const i=n&&n.encode||OT;V.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let r;if(s?r=s(e,n):r=V.isURLSearchParams(e)?e.toString():new Gf(e,n).toString(i),r){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+r}return t}class mv{constructor(){this.handlers=[]}use(e,n,i){return this.handlers.push({fulfilled:e,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){V.forEach(this.handlers,function(i){i!==null&&e(i)})}}const Np={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},kT=typeof URLSearchParams<"u"?URLSearchParams:Gf,DT=typeof FormData<"u"?FormData:null,NT=typeof Blob<"u"?Blob:null,FT={isBrowser:!0,classes:{URLSearchParams:kT,FormData:DT,Blob:NT},protocols:["http","https","file","blob","url","data"]},zf=typeof window<"u"&&typeof document<"u",bd=typeof navigator=="object"&&navigator||void 0,BT=zf&&(!bd||["ReactNative","NativeScript","NS"].indexOf(bd.product)<0),VT=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",$T=zf&&window.location.href||"http://localhost",GT=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:zf,hasStandardBrowserEnv:BT,hasStandardBrowserWebWorkerEnv:VT,navigator:bd,origin:$T},Symbol.toStringTag,{value:"Module"})),$t={...GT,...FT};function zT(t,e){return Cu(t,new $t.classes.URLSearchParams,Object.assign({visitor:function(n,i,s,r){return $t.isNode&&V.isBuffer(n)?(this.append(i,n.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},e))}function WT(t){return V.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function UT(t){const e={},n=Object.keys(t);let i;const s=n.length;let r;for(i=0;i<s;i++)r=n[i],e[r]=t[r];return e}function Fp(t){function e(n,i,s,r){let a=n[r++];if(a==="__proto__")return!0;const o=Number.isFinite(+a),l=r>=n.length;return a=!a&&V.isArray(s)?s.length:a,l?(V.hasOwnProp(s,a)?s[a]=[s[a],i]:s[a]=i,!o):((!s[a]||!V.isObject(s[a]))&&(s[a]=[]),e(n,i,s[a],r)&&V.isArray(s[a])&&(s[a]=UT(s[a])),!o)}if(V.isFormData(t)&&V.isFunction(t.entries)){const n={};return V.forEachEntry(t,(i,s)=>{e(WT(i),s,n,0)}),n}return null}function jT(t,e,n){if(V.isString(t))try{return(e||JSON.parse)(t),V.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(t)}const al={transitional:Np,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const i=n.getContentType()||"",s=i.indexOf("application/json")>-1,r=V.isObject(e);if(r&&V.isHTMLForm(e)&&(e=new FormData(e)),V.isFormData(e))return s?JSON.stringify(Fp(e)):e;if(V.isArrayBuffer(e)||V.isBuffer(e)||V.isStream(e)||V.isFile(e)||V.isBlob(e)||V.isReadableStream(e))return e;if(V.isArrayBufferView(e))return e.buffer;if(V.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(r){if(i.indexOf("application/x-www-form-urlencoded")>-1)return zT(e,this.formSerializer).toString();if((o=V.isFileList(e))||i.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Cu(o?{"files[]":e}:e,l&&new l,this.formSerializer)}}return r||s?(n.setContentType("application/json",!1),jT(e)):e}],transformResponse:[function(e){const n=this.transitional||al.transitional,i=n&&n.forcedJSONParsing,s=this.responseType==="json";if(V.isResponse(e)||V.isReadableStream(e))return e;if(e&&V.isString(e)&&(i&&!this.responseType||s)){const a=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(o){if(a)throw o.name==="SyntaxError"?Ae.from(o,Ae.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:$t.classes.FormData,Blob:$t.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};V.forEach(["delete","get","head","post","put","patch"],t=>{al.headers[t]={}});const HT=V.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),XT=t=>{const e={};let n,i,s;return t&&t.split(`
`).forEach(function(a){s=a.indexOf(":"),n=a.substring(0,s).trim().toLowerCase(),i=a.substring(s+1).trim(),!(!n||e[n]&&HT[n])&&(n==="set-cookie"?e[n]?e[n].push(i):e[n]=[i]:e[n]=e[n]?e[n]+", "+i:i)}),e},vv=Symbol("internals");function za(t){return t&&String(t).trim().toLowerCase()}function lc(t){return t===!1||t==null?t:V.isArray(t)?t.map(lc):String(t)}function qT(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(t);)e[i[1]]=i[2];return e}const KT=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function yh(t,e,n,i,s){if(V.isFunction(i))return i.call(this,e,n);if(s&&(e=n),!!V.isString(e)){if(V.isString(i))return e.indexOf(i)!==-1;if(V.isRegExp(i))return i.test(e)}}function YT(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,i)=>n.toUpperCase()+i)}function ZT(t,e){const n=V.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+n,{value:function(s,r,a){return this[i].call(this,e,s,r,a)},configurable:!0})})}let pn=class{constructor(e){e&&this.set(e)}set(e,n,i){const s=this;function r(o,l,c){const u=za(l);if(!u)throw new Error("header name must be a non-empty string");const h=V.findKey(s,u);(!h||s[h]===void 0||c===!0||c===void 0&&s[h]!==!1)&&(s[h||l]=lc(o))}const a=(o,l)=>V.forEach(o,(c,u)=>r(c,u,l));if(V.isPlainObject(e)||e instanceof this.constructor)a(e,n);else if(V.isString(e)&&(e=e.trim())&&!KT(e))a(XT(e),n);else if(V.isHeaders(e))for(const[o,l]of e.entries())r(l,o,i);else e!=null&&r(n,e,i);return this}get(e,n){if(e=za(e),e){const i=V.findKey(this,e);if(i){const s=this[i];if(!n)return s;if(n===!0)return qT(s);if(V.isFunction(n))return n.call(this,s,i);if(V.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=za(e),e){const i=V.findKey(this,e);return!!(i&&this[i]!==void 0&&(!n||yh(this,this[i],i,n)))}return!1}delete(e,n){const i=this;let s=!1;function r(a){if(a=za(a),a){const o=V.findKey(i,a);o&&(!n||yh(i,i[o],o,n))&&(delete i[o],s=!0)}}return V.isArray(e)?e.forEach(r):r(e),s}clear(e){const n=Object.keys(this);let i=n.length,s=!1;for(;i--;){const r=n[i];(!e||yh(this,this[r],r,e,!0))&&(delete this[r],s=!0)}return s}normalize(e){const n=this,i={};return V.forEach(this,(s,r)=>{const a=V.findKey(i,r);if(a){n[a]=lc(s),delete n[r];return}const o=e?YT(r):String(r).trim();o!==r&&delete n[r],n[o]=lc(s),i[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return V.forEach(this,(i,s)=>{i!=null&&i!==!1&&(n[s]=e&&V.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const i=new this(e);return n.forEach(s=>i.set(s)),i}static accessor(e){const i=(this[vv]=this[vv]={accessors:{}}).accessors,s=this.prototype;function r(a){const o=za(a);i[o]||(ZT(s,a),i[o]=!0)}return V.isArray(e)?e.forEach(r):r(e),this}};pn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);V.reduceDescriptors(pn.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(i){this[n]=i}}});V.freezeMethods(pn);function _h(t,e){const n=this||al,i=e||n,s=pn.from(i.headers);let r=i.data;return V.forEach(t,function(o){r=o.call(n,r,s.normalize(),e?e.status:void 0)}),s.normalize(),r}function Bp(t){return!!(t&&t.__CANCEL__)}function Ra(t,e,n){Ae.call(this,t??"canceled",Ae.ERR_CANCELED,e,n),this.name="CanceledError"}V.inherits(Ra,Ae,{__CANCEL__:!0});function Vp(t,e,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):e(new Ae("Request failed with status code "+n.status,[Ae.ERR_BAD_REQUEST,Ae.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function JT(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function QT(t,e){t=t||10;const n=new Array(t),i=new Array(t);let s=0,r=0,a;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=i[r];a||(a=c),n[s]=l,i[s]=c;let h=r,d=0;for(;h!==s;)d+=n[h++],h=h%t;if(s=(s+1)%t,s===r&&(r=(r+1)%t),c-a<e)return;const f=u&&c-u;return f?Math.round(d*1e3/f):void 0}}function eR(t,e){let n=0,i=1e3/e,s,r;const a=(c,u=Date.now())=>{n=u,s=null,r&&(clearTimeout(r),r=null),t.apply(null,c)};return[(...c)=>{const u=Date.now(),h=u-n;h>=i?a(c,u):(s=c,r||(r=setTimeout(()=>{r=null,a(s)},i-h)))},()=>s&&a(s)]}const Dc=(t,e,n=3)=>{let i=0;const s=QT(50,250);return eR(r=>{const a=r.loaded,o=r.lengthComputable?r.total:void 0,l=a-i,c=s(l),u=a<=o;i=a;const h={loaded:a,total:o,progress:o?a/o:void 0,bytes:l,rate:c||void 0,estimated:c&&o&&u?(o-a)/c:void 0,event:r,lengthComputable:o!=null,[e?"download":"upload"]:!0};t(h)},n)},yv=(t,e)=>{const n=t!=null;return[i=>e[0]({lengthComputable:n,total:t,loaded:i}),e[1]]},_v=t=>(...e)=>V.asap(()=>t(...e)),tR=$t.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,$t.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL($t.origin),$t.navigator&&/(msie|trident)/i.test($t.navigator.userAgent)):()=>!0,nR=$t.hasStandardBrowserEnv?{write(t,e,n,i,s,r){const a=[t+"="+encodeURIComponent(e)];V.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),V.isString(i)&&a.push("path="+i),V.isString(s)&&a.push("domain="+s),r===!0&&a.push("secure"),document.cookie=a.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function iR(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function sR(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function $p(t,e,n){let i=!iR(e);return t&&(i||n==!1)?sR(t,e):e}const pv=t=>t instanceof pn?{...t}:t;function gr(t,e){e=e||{};const n={};function i(c,u,h,d){return V.isPlainObject(c)&&V.isPlainObject(u)?V.merge.call({caseless:d},c,u):V.isPlainObject(u)?V.merge({},u):V.isArray(u)?u.slice():u}function s(c,u,h,d){if(V.isUndefined(u)){if(!V.isUndefined(c))return i(void 0,c,h,d)}else return i(c,u,h,d)}function r(c,u){if(!V.isUndefined(u))return i(void 0,u)}function a(c,u){if(V.isUndefined(u)){if(!V.isUndefined(c))return i(void 0,c)}else return i(void 0,u)}function o(c,u,h){if(h in e)return i(c,u);if(h in t)return i(void 0,c)}const l={url:r,method:r,data:r,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(c,u,h)=>s(pv(c),pv(u),h,!0)};return V.forEach(Object.keys(Object.assign({},t,e)),function(u){const h=l[u]||s,d=h(t[u],e[u],u);V.isUndefined(d)&&h!==o||(n[u]=d)}),n}const Gp=t=>{const e=gr({},t);let{data:n,withXSRFToken:i,xsrfHeaderName:s,xsrfCookieName:r,headers:a,auth:o}=e;e.headers=a=pn.from(a),e.url=Dp($p(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),o&&a.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let l;if(V.isFormData(n)){if($t.hasStandardBrowserEnv||$t.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((l=a.getContentType())!==!1){const[c,...u]=l?l.split(";").map(h=>h.trim()).filter(Boolean):[];a.setContentType([c||"multipart/form-data",...u].join("; "))}}if($t.hasStandardBrowserEnv&&(i&&V.isFunction(i)&&(i=i(e)),i||i!==!1&&tR(e.url))){const c=s&&r&&nR.read(r);c&&a.set(s,c)}return e},rR=typeof XMLHttpRequest<"u",aR=rR&&function(t){return new Promise(function(n,i){const s=Gp(t);let r=s.data;const a=pn.from(s.headers).normalize();let{responseType:o,onUploadProgress:l,onDownloadProgress:c}=s,u,h,d,f,g;function m(){f&&f(),g&&g(),s.cancelToken&&s.cancelToken.unsubscribe(u),s.signal&&s.signal.removeEventListener("abort",u)}let v=new XMLHttpRequest;v.open(s.method.toUpperCase(),s.url,!0),v.timeout=s.timeout;function y(){if(!v)return;const p=pn.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),b={data:!o||o==="text"||o==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:p,config:t,request:v};Vp(function(M){n(M),m()},function(M){i(M),m()},b),v=null}"onloadend"in v?v.onloadend=y:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(y)},v.onabort=function(){v&&(i(new Ae("Request aborted",Ae.ECONNABORTED,t,v)),v=null)},v.onerror=function(){i(new Ae("Network Error",Ae.ERR_NETWORK,t,v)),v=null},v.ontimeout=function(){let x=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const b=s.transitional||Np;s.timeoutErrorMessage&&(x=s.timeoutErrorMessage),i(new Ae(x,b.clarifyTimeoutError?Ae.ETIMEDOUT:Ae.ECONNABORTED,t,v)),v=null},r===void 0&&a.setContentType(null),"setRequestHeader"in v&&V.forEach(a.toJSON(),function(x,b){v.setRequestHeader(b,x)}),V.isUndefined(s.withCredentials)||(v.withCredentials=!!s.withCredentials),o&&o!=="json"&&(v.responseType=s.responseType),c&&([d,g]=Dc(c,!0),v.addEventListener("progress",d)),l&&v.upload&&([h,f]=Dc(l),v.upload.addEventListener("progress",h),v.upload.addEventListener("loadend",f)),(s.cancelToken||s.signal)&&(u=p=>{v&&(i(!p||p.type?new Ra(null,t,v):p),v.abort(),v=null)},s.cancelToken&&s.cancelToken.subscribe(u),s.signal&&(s.signal.aborted?u():s.signal.addEventListener("abort",u)));const _=JT(s.url);if(_&&$t.protocols.indexOf(_)===-1){i(new Ae("Unsupported protocol "+_+":",Ae.ERR_BAD_REQUEST,t));return}v.send(r||null)})},oR=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let i=new AbortController,s;const r=function(c){if(!s){s=!0,o();const u=c instanceof Error?c:this.reason;i.abort(u instanceof Ae?u:new Ra(u instanceof Error?u.message:u))}};let a=e&&setTimeout(()=>{a=null,r(new Ae(`timeout ${e} of ms exceeded`,Ae.ETIMEDOUT))},e);const o=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(r):c.removeEventListener("abort",r)}),t=null)};t.forEach(c=>c.addEventListener("abort",r));const{signal:l}=i;return l.unsubscribe=()=>V.asap(o),l}},lR=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let i=0,s;for(;i<n;)s=i+e,yield t.slice(i,s),i=s},cR=async function*(t,e){for await(const n of uR(t))yield*lR(n,e)},uR=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:i}=await e.read();if(n)break;yield i}}finally{await e.cancel()}},xv=(t,e,n,i)=>{const s=cR(t,e);let r=0,a,o=l=>{a||(a=!0,i&&i(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await s.next();if(c){o(),l.close();return}let h=u.byteLength;if(n){let d=r+=h;n(d)}l.enqueue(new Uint8Array(u))}catch(c){throw o(c),c}},cancel(l){return o(l),s.return()}},{highWaterMark:2})},wu=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",zp=wu&&typeof ReadableStream=="function",hR=wu&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),Wp=(t,...e)=>{try{return!!t(...e)}catch{return!1}},dR=zp&&Wp(()=>{let t=!1;const e=new Request($t.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),bv=64*1024,Sd=zp&&Wp(()=>V.isReadableStream(new Response("").body)),Nc={stream:Sd&&(t=>t.body)};wu&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Nc[e]&&(Nc[e]=V.isFunction(t[e])?n=>n[e]():(n,i)=>{throw new Ae(`Response type '${e}' is not supported`,Ae.ERR_NOT_SUPPORT,i)})})})(new Response);const fR=async t=>{if(t==null)return 0;if(V.isBlob(t))return t.size;if(V.isSpecCompliantForm(t))return(await new Request($t.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(V.isArrayBufferView(t)||V.isArrayBuffer(t))return t.byteLength;if(V.isURLSearchParams(t)&&(t=t+""),V.isString(t))return(await hR(t)).byteLength},gR=async(t,e)=>{const n=V.toFiniteNumber(t.getContentLength());return n??fR(e)},mR=wu&&(async t=>{let{url:e,method:n,data:i,signal:s,cancelToken:r,timeout:a,onDownloadProgress:o,onUploadProgress:l,responseType:c,headers:u,withCredentials:h="same-origin",fetchOptions:d}=Gp(t);c=c?(c+"").toLowerCase():"text";let f=oR([s,r&&r.toAbortSignal()],a),g;const m=f&&f.unsubscribe&&(()=>{f.unsubscribe()});let v;try{if(l&&dR&&n!=="get"&&n!=="head"&&(v=await gR(u,i))!==0){let b=new Request(e,{method:"POST",body:i,duplex:"half"}),C;if(V.isFormData(i)&&(C=b.headers.get("content-type"))&&u.setContentType(C),b.body){const[M,E]=yv(v,Dc(_v(l)));i=xv(b.body,bv,M,E)}}V.isString(h)||(h=h?"include":"omit");const y="credentials"in Request.prototype;g=new Request(e,{...d,signal:f,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:i,duplex:"half",credentials:y?h:void 0});let _=await fetch(g);const p=Sd&&(c==="stream"||c==="response");if(Sd&&(o||p&&m)){const b={};["status","statusText","headers"].forEach(R=>{b[R]=_[R]});const C=V.toFiniteNumber(_.headers.get("content-length")),[M,E]=o&&yv(C,Dc(_v(o),!0))||[];_=new Response(xv(_.body,bv,M,()=>{E&&E(),m&&m()}),b)}c=c||"text";let x=await Nc[V.findKey(Nc,c)||"text"](_,t);return!p&&m&&m(),await new Promise((b,C)=>{Vp(b,C,{data:x,headers:pn.from(_.headers),status:_.status,statusText:_.statusText,config:t,request:g})})}catch(y){throw m&&m(),y&&y.name==="TypeError"&&/fetch/i.test(y.message)?Object.assign(new Ae("Network Error",Ae.ERR_NETWORK,t,g),{cause:y.cause||y}):Ae.from(y,y&&y.code,t,g)}}),Ed={http:AT,xhr:aR,fetch:mR};V.forEach(Ed,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Sv=t=>`- ${t}`,vR=t=>V.isFunction(t)||t===null||t===!1,Up={getAdapter:t=>{t=V.isArray(t)?t:[t];const{length:e}=t;let n,i;const s={};for(let r=0;r<e;r++){n=t[r];let a;if(i=n,!vR(n)&&(i=Ed[(a=String(n)).toLowerCase()],i===void 0))throw new Ae(`Unknown adapter '${a}'`);if(i)break;s[a||"#"+r]=i}if(!i){const r=Object.entries(s).map(([o,l])=>`adapter ${o} `+(l===!1?"is not supported by the environment":"is not available in the build"));let a=e?r.length>1?`since :
`+r.map(Sv).join(`
`):" "+Sv(r[0]):"as no adapter specified";throw new Ae("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return i},adapters:Ed};function ph(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Ra(null,t)}function Ev(t){return ph(t),t.headers=pn.from(t.headers),t.data=_h.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Up.getAdapter(t.adapter||al.adapter)(t).then(function(i){return ph(t),i.data=_h.call(t,t.transformResponse,i),i.headers=pn.from(i.headers),i},function(i){return Bp(i)||(ph(t),i&&i.response&&(i.response.data=_h.call(t,t.transformResponse,i.response),i.response.headers=pn.from(i.response.headers))),Promise.reject(i)})}const jp="1.8.4",Mu={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Mu[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}});const Cv={};Mu.transitional=function(e,n,i){function s(r,a){return"[Axios v"+jp+"] Transitional option '"+r+"'"+a+(i?". "+i:"")}return(r,a,o)=>{if(e===!1)throw new Ae(s(a," has been removed"+(n?" in "+n:"")),Ae.ERR_DEPRECATED);return n&&!Cv[a]&&(Cv[a]=!0,console.warn(s(a," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(r,a,o):!0}};Mu.spelling=function(e){return(n,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function yR(t,e,n){if(typeof t!="object")throw new Ae("options must be an object",Ae.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let s=i.length;for(;s-- >0;){const r=i[s],a=e[r];if(a){const o=t[r],l=o===void 0||a(o,r,t);if(l!==!0)throw new Ae("option "+r+" must be "+l,Ae.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ae("Unknown option "+r,Ae.ERR_BAD_OPTION)}}const cc={assertOptions:yR,validators:Mu},ui=cc.validators;let or=class{constructor(e){this.defaults=e,this.interceptors={request:new mv,response:new mv}}async request(e,n){try{return await this._request(e,n)}catch(i){if(i instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const r=s.stack?s.stack.replace(/^.+\n/,""):"";try{i.stack?r&&!String(i.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+r):i.stack=r}catch{}}throw i}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=gr(this.defaults,n);const{transitional:i,paramsSerializer:s,headers:r}=n;i!==void 0&&cc.assertOptions(i,{silentJSONParsing:ui.transitional(ui.boolean),forcedJSONParsing:ui.transitional(ui.boolean),clarifyTimeoutError:ui.transitional(ui.boolean)},!1),s!=null&&(V.isFunction(s)?n.paramsSerializer={serialize:s}:cc.assertOptions(s,{encode:ui.function,serialize:ui.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),cc.assertOptions(n,{baseUrl:ui.spelling("baseURL"),withXsrfToken:ui.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=r&&V.merge(r.common,r[n.method]);r&&V.forEach(["delete","get","head","post","put","patch","common"],g=>{delete r[g]}),n.headers=pn.concat(a,r);const o=[];let l=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(n)===!1||(l=l&&m.synchronous,o.unshift(m.fulfilled,m.rejected))});const c=[];this.interceptors.response.forEach(function(m){c.push(m.fulfilled,m.rejected)});let u,h=0,d;if(!l){const g=[Ev.bind(this),void 0];for(g.unshift.apply(g,o),g.push.apply(g,c),d=g.length,u=Promise.resolve(n);h<d;)u=u.then(g[h++],g[h++]);return u}d=o.length;let f=n;for(h=0;h<d;){const g=o[h++],m=o[h++];try{f=g(f)}catch(v){m.call(this,v);break}}try{u=Ev.call(this,f)}catch(g){return Promise.reject(g)}for(h=0,d=c.length;h<d;)u=u.then(c[h++],c[h++]);return u}getUri(e){e=gr(this.defaults,e);const n=$p(e.baseURL,e.url,e.allowAbsoluteUrls);return Dp(n,e.params,e.paramsSerializer)}};V.forEach(["delete","get","head","options"],function(e){or.prototype[e]=function(n,i){return this.request(gr(i||{},{method:e,url:n,data:(i||{}).data}))}});V.forEach(["post","put","patch"],function(e){function n(i){return function(r,a,o){return this.request(gr(o||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:r,data:a}))}}or.prototype[e]=n(),or.prototype[e+"Form"]=n(!0)});let _R=class Hp{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(r){n=r});const i=this;this.promise.then(s=>{if(!i._listeners)return;let r=i._listeners.length;for(;r-- >0;)i._listeners[r](s);i._listeners=null}),this.promise.then=s=>{let r;const a=new Promise(o=>{i.subscribe(o),r=o}).then(s);return a.cancel=function(){i.unsubscribe(r)},a},e(function(r,a,o){i.reason||(i.reason=new Ra(r,a,o),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=i=>{e.abort(i)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new Hp(function(s){e=s}),cancel:e}}};function pR(t){return function(n){return t.apply(null,n)}}function xR(t){return V.isObject(t)&&t.isAxiosError===!0}const Cd={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Cd).forEach(([t,e])=>{Cd[e]=t});function Xp(t){const e=new or(t),n=Cp(or.prototype.request,e);return V.extend(n,or.prototype,e,{allOwnKeys:!0}),V.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return Xp(gr(t,s))},n}const mt=Xp(al);mt.Axios=or;mt.CanceledError=Ra;mt.CancelToken=_R;mt.isCancel=Bp;mt.VERSION=jp;mt.toFormData=Cu;mt.AxiosError=Ae;mt.Cancel=mt.CanceledError;mt.all=function(e){return Promise.all(e)};mt.spread=pR;mt.isAxiosError=xR;mt.mergeConfig=gr;mt.AxiosHeaders=pn;mt.formToJSON=t=>Fp(V.isHTMLForm(t)?new FormData(t):t);mt.getAdapter=Up.getAdapter;mt.HttpStatusCode=Cd;mt.default=mt;const{Axios:G4,AxiosError:z4,CanceledError:W4,isCancel:U4,CancelToken:j4,VERSION:H4,all:X4,Cancel:q4,isAxiosError:K4,spread:Y4,toFormData:Z4,AxiosHeaders:J4,HttpStatusCode:Q4,formToJSON:eB,getAdapter:tB,mergeConfig:nB}=mt;function bR(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs");for(var e=1;e<=60;++e)t("EPSG:"+(32600+e),"+proj=utm +zone="+e+" +datum=WGS84 +units=m"),t("EPSG:"+(32700+e),"+proj=utm +zone="+e+" +south +datum=WGS84 +units=m");t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}var mr=1,vr=2,sa=3,SR=4,wd=5,wv=6378137,ER=6356752314e-3,Mv=.0066943799901413165,vo=484813681109536e-20,Y=Math.PI/2,CR=.16666666666666666,wR=.04722222222222222,MR=.022156084656084655,se=1e-10,It=.017453292519943295,pi=57.29577951308232,Ke=Math.PI/4,Do=Math.PI*2,At=3.14159265359,Sn={};Sn.greenwich=0;Sn.lisbon=-9.131906111111;Sn.paris=2.337229166667;Sn.bogota=-74.080916666667;Sn.madrid=-3.687938888889;Sn.rome=12.452333333333;Sn.bern=7.439583333333;Sn.jakarta=106.807719444444;Sn.ferro=-17.666666666667;Sn.brussels=4.367975;Sn.stockholm=18.058277777778;Sn.athens=23.7163375;Sn.oslo=10.722916666667;const TR={mm:{to_meter:.001},cm:{to_meter:.01},ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937},fath:{to_meter:1.8288},kmi:{to_meter:1852},"us-ch":{to_meter:20.1168402336805},"us-mi":{to_meter:1609.34721869444},km:{to_meter:1e3},"ind-ft":{to_meter:.30479841},"ind-yd":{to_meter:.91439523},mi:{to_meter:1609.344},yd:{to_meter:.9144},ch:{to_meter:20.1168},link:{to_meter:.201168},dm:{to_meter:.01},in:{to_meter:.0254},"ind-ch":{to_meter:20.11669506},"us-in":{to_meter:.025400050800101},"us-yd":{to_meter:.914401828803658}};var Tv=/[\s_\-\/\(\)]/g;function Is(t,e){if(t[e])return t[e];for(var n=Object.keys(t),i=e.toLowerCase().replace(Tv,""),s=-1,r,a;++s<n.length;)if(r=n[s],a=r.toLowerCase().replace(Tv,""),a===i)return t[r]}function Md(t){var e={},n=t.split("+").map(function(o){return o.trim()}).filter(function(o){return o}).reduce(function(o,l){var c=l.split("=");return c.push(!0),o[c[0].toLowerCase()]=c[1],o},{}),i,s,r,a={proj:"projName",datum:"datumCode",rf:function(o){e.rf=parseFloat(o)},lat_0:function(o){e.lat0=o*It},lat_1:function(o){e.lat1=o*It},lat_2:function(o){e.lat2=o*It},lat_ts:function(o){e.lat_ts=o*It},lon_0:function(o){e.long0=o*It},lon_1:function(o){e.long1=o*It},lon_2:function(o){e.long2=o*It},alpha:function(o){e.alpha=parseFloat(o)*It},gamma:function(o){e.rectified_grid_angle=parseFloat(o)},lonc:function(o){e.longc=o*It},x_0:function(o){e.x0=parseFloat(o)},y_0:function(o){e.y0=parseFloat(o)},k_0:function(o){e.k0=parseFloat(o)},k:function(o){e.k0=parseFloat(o)},a:function(o){e.a=parseFloat(o)},b:function(o){e.b=parseFloat(o)},r:function(o){e.a=e.b=parseFloat(o)},r_a:function(){e.R_A=!0},zone:function(o){e.zone=parseInt(o,10)},south:function(){e.utmSouth=!0},towgs84:function(o){e.datum_params=o.split(",").map(function(l){return parseFloat(l)})},to_meter:function(o){e.to_meter=parseFloat(o)},units:function(o){e.units=o;var l=Is(TR,o);l&&(e.to_meter=l.to_meter)},from_greenwich:function(o){e.from_greenwich=o*It},pm:function(o){var l=Is(Sn,o);e.from_greenwich=(l||parseFloat(o))*It},nadgrids:function(o){o==="@null"?e.datumCode="none":e.nadgrids=o},axis:function(o){var l="ewnsud";o.length===3&&l.indexOf(o.substr(0,1))!==-1&&l.indexOf(o.substr(1,1))!==-1&&l.indexOf(o.substr(2,1))!==-1&&(e.axis=o)},approx:function(){e.approx=!0}};for(i in n)s=n[i],i in a?(r=a[i],typeof r=="function"?r(s):e[r]=s):e[i]=s;return typeof e.datumCode=="string"&&e.datumCode!=="WGS84"&&(e.datumCode=e.datumCode.toLowerCase()),e}var No=1,qp=2,Kp=3,Fc=4,Yp=5,Wf=-1,RR=/\s/,IR=/[A-Za-z]/,AR=/[A-Za-z84_]/,Tu=/[,\]]/,Zp=/[\d\.E\-\+]/;function ts(t){if(typeof t!="string")throw new Error("not a string");this.text=t.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=No}ts.prototype.readCharicter=function(){var t=this.text[this.place++];if(this.state!==Fc)for(;RR.test(t);){if(this.place>=this.text.length)return;t=this.text[this.place++]}switch(this.state){case No:return this.neutral(t);case qp:return this.keyword(t);case Fc:return this.quoted(t);case Yp:return this.afterquote(t);case Kp:return this.number(t);case Wf:return}};ts.prototype.afterquote=function(t){if(t==='"'){this.word+='"',this.state=Fc;return}if(Tu.test(t)){this.word=this.word.trim(),this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in afterquote yet, index '+this.place)};ts.prototype.afterItem=function(t){if(t===","){this.word!==null&&this.currentObject.push(this.word),this.word=null,this.state=No;return}if(t==="]"){this.level--,this.word!==null&&(this.currentObject.push(this.word),this.word=null),this.state=No,this.currentObject=this.stack.pop(),this.currentObject||(this.state=Wf);return}};ts.prototype.number=function(t){if(Zp.test(t)){this.word+=t;return}if(Tu.test(t)){this.word=parseFloat(this.word),this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in number yet, index '+this.place)};ts.prototype.quoted=function(t){if(t==='"'){this.state=Yp;return}this.word+=t};ts.prototype.keyword=function(t){if(AR.test(t)){this.word+=t;return}if(t==="["){var e=[];e.push(this.word),this.level++,this.root===null?this.root=e:this.currentObject.push(e),this.stack.push(this.currentObject),this.currentObject=e,this.state=No;return}if(Tu.test(t)){this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in keyword yet, index '+this.place)};ts.prototype.neutral=function(t){if(IR.test(t)){this.word=t,this.state=qp;return}if(t==='"'){this.word="",this.state=Fc;return}if(Zp.test(t)){this.word=t,this.state=Kp;return}if(Tu.test(t)){this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in neutral yet, index '+this.place)};ts.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(this.state===Wf)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};function PR(t){var e=new ts(t);return e.output()}function xh(t,e,n){Array.isArray(e)&&(n.unshift(e),e=null);var i=e?{}:t,s=n.reduce(function(r,a){return Xr(a,r),r},i);e&&(t[e]=s)}function Xr(t,e){if(!Array.isArray(t)){e[t]=!0;return}var n=t.shift();if(n==="PARAMETER"&&(n=t.shift()),t.length===1){if(Array.isArray(t[0])){e[n]={},Xr(t[0],e[n]);return}e[n]=t[0];return}if(!t.length){e[n]=!0;return}if(n==="TOWGS84"){e[n]=t;return}if(n==="AXIS"){n in e||(e[n]=[]),e[n].push(t);return}Array.isArray(n)||(e[n]={});var i;switch(n){case"UNIT":case"PRIMEM":case"VERT_DATUM":e[n]={name:t[0].toLowerCase(),convert:t[1]},t.length===3&&Xr(t[2],e[n]);return;case"SPHEROID":case"ELLIPSOID":e[n]={name:t[0],a:t[1],rf:t[2]},t.length===4&&Xr(t[3],e[n]);return;case"EDATUM":case"ENGINEERINGDATUM":case"LOCAL_DATUM":case"DATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":t[0]=["name",t[0]],xh(e,n,t);return;case"COMPD_CS":case"COMPOUNDCRS":case"FITTED_CS":case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"ENGCRS":case"ENGINEERINGCRS":t[0]=["name",t[0]],xh(e,n,t),e[n].type=n;return;default:for(i=-1;++i<t.length;)if(!Array.isArray(t[i]))return Xr(t,e[n]);return xh(e,n,t)}}var LR=.017453292519943295,OR=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];function kR(t,e){var n=e[0],i=e[1];!(n in t)&&i in t&&(t[n]=t[i],e.length===3&&(t[n]=e[2](t[n])))}function hi(t){return t*LR}function Jp(t){for(var e=Object.keys(t),n=0,i=e.length;n<i;++n){var s=e[n];OR.indexOf(s)!==-1&&DR(t[s]),typeof t[s]=="object"&&Jp(t[s])}}function DR(t){if(t.AUTHORITY){var e=Object.keys(t.AUTHORITY)[0];e&&e in t.AUTHORITY&&(t.title=e+":"+t.AUTHORITY[e])}if(t.type==="GEOGCS"?t.projName="longlat":t.type==="LOCAL_CS"?(t.projName="identity",t.local=!0):typeof t.PROJECTION=="object"?t.projName=Object.keys(t.PROJECTION)[0]:t.projName=t.PROJECTION,t.AXIS){for(var n="",i=0,s=t.AXIS.length;i<s;++i){var r=[t.AXIS[i][0].toLowerCase(),t.AXIS[i][1].toLowerCase()];r[0].indexOf("north")!==-1||(r[0]==="y"||r[0]==="lat")&&r[1]==="north"?n+="n":r[0].indexOf("south")!==-1||(r[0]==="y"||r[0]==="lat")&&r[1]==="south"?n+="s":r[0].indexOf("east")!==-1||(r[0]==="x"||r[0]==="lon")&&r[1]==="east"?n+="e":(r[0].indexOf("west")!==-1||(r[0]==="x"||r[0]==="lon")&&r[1]==="west")&&(n+="w")}n.length===2&&(n+="u"),n.length===3&&(t.axis=n)}t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),t.units==="metre"&&(t.units="meter"),t.UNIT.convert&&(t.type==="GEOGCS"?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=t.UNIT.convert*t.DATUM.SPHEROID.a):t.to_meter=t.UNIT.convert));var a=t.GEOGCS;t.type==="GEOGCS"&&(a=t),a&&(a.DATUM?t.datumCode=a.DATUM.name.toLowerCase():t.datumCode=a.name.toLowerCase(),t.datumCode.slice(0,2)==="d_"&&(t.datumCode=t.datumCode.slice(2)),t.datumCode==="new_zealand_1949"&&(t.datumCode="nzgd49"),(t.datumCode==="wgs_1984"||t.datumCode==="world_geodetic_system_1984")&&(t.PROJECTION==="Mercator_Auxiliary_Sphere"&&(t.sphere=!0),t.datumCode="wgs84"),t.datumCode==="belge_1972"&&(t.datumCode="rnb72"),a.DATUM&&a.DATUM.SPHEROID&&(t.ellps=a.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),t.ellps.toLowerCase().slice(0,13)==="international"&&(t.ellps="intl"),t.a=a.DATUM.SPHEROID.a,t.rf=parseFloat(a.DATUM.SPHEROID.rf,10)),a.DATUM&&a.DATUM.TOWGS84&&(t.datum_params=a.DATUM.TOWGS84),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36"),~t.datumCode.indexOf("osni_1952")&&(t.datumCode="osni52"),(~t.datumCode.indexOf("tm65")||~t.datumCode.indexOf("geodetic_datum_of_1965"))&&(t.datumCode="ire65"),t.datumCode==="ch1903+"&&(t.datumCode="ch1903"),~t.datumCode.indexOf("israel")&&(t.datumCode="isr93")),t.b&&!isFinite(t.b)&&(t.b=t.a);function o(u){var h=t.to_meter||1;return u*h}var l=function(u){return kR(t,u)},c=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",hi],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",hi],["x0","false_easting",o],["y0","false_northing",o],["long0","central_meridian",hi],["lat0","latitude_of_origin",hi],["lat0","standard_parallel_1",hi],["lat1","standard_parallel_1",hi],["lat2","standard_parallel_2",hi],["azimuth","Azimuth"],["alpha","azimuth",hi],["srsCode","name"]];c.forEach(l),!t.long0&&t.longc&&(t.projName==="Albers_Conic_Equal_Area"||t.projName==="Lambert_Azimuthal_Equal_Area")&&(t.long0=t.longc),!t.lat_ts&&t.lat1&&(t.projName==="Stereographic_South_Pole"||t.projName==="Polar Stereographic (variant B)")?(t.lat0=hi(t.lat1>0?90:-90),t.lat_ts=t.lat1):!t.lat_ts&&t.lat0&&t.projName==="Polar_Stereographic"&&(t.lat_ts=t.lat0,t.lat0=hi(t.lat0>0?90:-90))}function Qp(t){var e=PR(t),n=e[0],i={};return Xr(e,i),Jp(i),i[n]}function Ht(t){var e=this;if(arguments.length===2){var n=arguments[1];typeof n=="string"?n.charAt(0)==="+"?Ht[t]=Md(arguments[1]):Ht[t]=Qp(arguments[1]):Ht[t]=n}else if(arguments.length===1){if(Array.isArray(t))return t.map(function(i){Array.isArray(i)?Ht.apply(e,i):Ht(i)});if(typeof t=="string"){if(t in Ht)return Ht[t]}else"EPSG"in t?Ht["EPSG:"+t.EPSG]=t:"ESRI"in t?Ht["ESRI:"+t.ESRI]=t:"IAU2000"in t?Ht["IAU2000:"+t.IAU2000]=t:console.log(t);return}}bR(Ht);function NR(t){return typeof t=="string"}function FR(t){return t in Ht}var BR=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];function VR(t){return BR.some(function(e){return t.indexOf(e)>-1})}var $R=["3857","900913","3785","102113"];function GR(t){var e=Is(t,"authority");if(e){var n=Is(e,"epsg");return n&&$R.indexOf(n)>-1}}function zR(t){var e=Is(t,"extension");if(e)return Is(e,"proj4")}function WR(t){return t[0]==="+"}function UR(t){if(NR(t)){if(FR(t))return Ht[t];if(VR(t)){var e=Qp(t);if(GR(e))return Ht["EPSG:3857"];var n=zR(e);return n?Md(n):e}if(WR(t))return Md(t)}else return t}function Rv(t,e){t=t||{};var n,i;if(!e)return t;for(i in e)n=e[i],n!==void 0&&(t[i]=n);return t}function Ti(t,e,n){var i=t*e;return n/Math.sqrt(1-i*i)}function ol(t){return t<0?-1:1}function re(t){return Math.abs(t)<=At?t:t-ol(t)*Do}function Qn(t,e,n){var i=t*n,s=.5*t;return i=Math.pow((1-i)/(1+i),s),Math.tan(.5*(Y-e))/i}function Fo(t,e){for(var n=.5*t,i,s,r=Y-2*Math.atan(e),a=0;a<=15;a++)if(i=t*Math.sin(r),s=Y-2*Math.atan(e*Math.pow((1-i)/(1+i),n))-r,r+=s,Math.abs(s)<=1e-10)return r;return-9999}function jR(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=Ti(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)}function HR(t){var e=t.x,n=t.y;if(n*pi>90&&n*pi<-90&&e*pi>180&&e*pi<-180)return null;var i,s;if(Math.abs(Math.abs(n)-Y)<=se)return null;if(this.sphere)i=this.x0+this.a*this.k0*re(e-this.long0),s=this.y0+this.a*this.k0*Math.log(Math.tan(Ke+.5*n));else{var r=Math.sin(n),a=Qn(this.e,n,r);i=this.x0+this.a*this.k0*re(e-this.long0),s=this.y0-this.a*this.k0*Math.log(a)}return t.x=i,t.y=s,t}function XR(t){var e=t.x-this.x0,n=t.y-this.y0,i,s;if(this.sphere)s=Y-2*Math.atan(Math.exp(-n/(this.a*this.k0)));else{var r=Math.exp(-n/(this.a*this.k0));if(s=Fo(this.e,r),s===-9999)return null}return i=re(this.long0+e/(this.a*this.k0)),t.x=i,t.y=s,t}var qR=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"];const KR={init:jR,forward:HR,inverse:XR,names:qR};function YR(){}function Iv(t){return t}var ZR=["longlat","identity"];const JR={init:YR,forward:Iv,inverse:Iv,names:ZR};var QR=[KR,JR],uc={},Bc=[];function e1(t,e){var n=Bc.length;return t.names?(Bc[n]=t,t.names.forEach(function(i){uc[i.toLowerCase()]=n}),this):(console.log(e),!0)}function eI(t){if(!t)return!1;var e=t.toLowerCase();if(typeof uc[e]<"u"&&Bc[uc[e]])return Bc[uc[e]]}function tI(){QR.forEach(e1)}const nI={start:tI,add:e1,get:eI};var we={};we.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"};we.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"};we.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"};we.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"};we.airy={a:6377563396e-3,b:635625691e-2,ellipseName:"Airy 1830"};we.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"};we.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"};we.mod_airy={a:6377340189e-3,b:6356034446e-3,ellipseName:"Modified Airy"};we.andrae={a:637710443e-2,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"};we.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"};we.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"};we.bessel={a:6377397155e-3,rf:299.1528128,ellipseName:"Bessel 1841"};we.bess_nam={a:6377483865e-3,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"};we.clrk66={a:63782064e-1,b:63565838e-1,ellipseName:"Clarke 1866"};we.clrk80={a:6378249145e-3,rf:293.4663,ellipseName:"Clarke 1880 mod."};we.clrk80ign={a:63782492e-1,b:6356515,rf:293.4660213,ellipseName:"Clarke 1880 (IGN)"};we.clrk58={a:6378293645208759e-9,rf:294.2606763692654,ellipseName:"Clarke 1858"};we.CPM={a:63757387e-1,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"};we.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"};we.engelis={a:637813605e-2,rf:298.2566,ellipseName:"Engelis 1985"};we.evrst30={a:6377276345e-3,rf:300.8017,ellipseName:"Everest 1830"};we.evrst48={a:6377304063e-3,rf:300.8017,ellipseName:"Everest 1948"};we.evrst56={a:6377301243e-3,rf:300.8017,ellipseName:"Everest 1956"};we.evrst69={a:6377295664e-3,rf:300.8017,ellipseName:"Everest 1969"};we.evrstSS={a:6377298556e-3,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"};we.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"};we.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"};we.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"};we.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"};we.hough={a:6378270,rf:297,ellipseName:"Hough"};we.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"};we.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"};we.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"};we.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"};we.new_intl={a:63781575e-1,b:63567722e-1,ellipseName:"New International 1967"};we.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"};we.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"};we.SEasia={a:6378155,b:63567733205e-4,ellipseName:"Southeast Asia"};we.walbeck={a:6376896,b:63558348467e-4,ellipseName:"Walbeck"};we.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"};we.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"};we.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"};var iI=we.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};we.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};function sI(t,e,n,i){var s=t*t,r=e*e,a=(s-r)/s,o=0;i?(t*=1-a*(CR+a*(wR+a*MR)),s=t*t,a=0):o=Math.sqrt(a);var l=(s-r)/r;return{es:a,e:o,ep2:l}}function rI(t,e,n,i,s){if(!t){var r=Is(we,i);r||(r=iI),t=r.a,e=r.b,n=r.rf}return n&&!e&&(e=(1-1/n)*t),(n===0||Math.abs(t-e)<se)&&(s=!0,e=t),{a:t,b:e,rf:n,sphere:s}}var hc={wgs84:{towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},ch1903:{towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},ggrs87:{towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},nad83:{towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},nad27:{nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},potsdam:{towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},carthage:{towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},hermannskogel:{towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"},mgi:{towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Militar-Geographische Institut"},osni52:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},ire65:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},rassadiran:{towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},nzgd49:{towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},osgb36:{towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Ordnance Survey of Great Britain 1936"},s_jtsk:{towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},beduaram:{towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},gunung_segara:{towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},rnb72:{towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"}};for(var aI in hc){var Av=hc[aI];hc[Av.datumName]=Av}function oI(t,e,n,i,s,r,a){var o={};return t===void 0||t==="none"?o.datum_type=wd:o.datum_type=SR,e&&(o.datum_params=e.map(parseFloat),(o.datum_params[0]!==0||o.datum_params[1]!==0||o.datum_params[2]!==0)&&(o.datum_type=mr),o.datum_params.length>3&&(o.datum_params[3]!==0||o.datum_params[4]!==0||o.datum_params[5]!==0||o.datum_params[6]!==0)&&(o.datum_type=vr,o.datum_params[3]*=vo,o.datum_params[4]*=vo,o.datum_params[5]*=vo,o.datum_params[6]=o.datum_params[6]/1e6+1)),a&&(o.datum_type=sa,o.grids=a),o.a=n,o.b=i,o.es=s,o.ep2=r,o}var t1={};function lI(t,e){var n=new DataView(e),i=hI(n),s=dI(n,i),r=fI(n,s,i),a={header:s,subgrids:r};return t1[t]=a,a}function cI(t){if(t===void 0)return null;var e=t.split(",");return e.map(uI)}function uI(t){if(t.length===0)return null;var e=t[0]==="@";return e&&(t=t.slice(1)),t==="null"?{name:"null",mandatory:!e,grid:null,isNull:!0}:{name:t,mandatory:!e,grid:t1[t]||null,isNull:!1}}function qr(t){return t/3600*Math.PI/180}function hI(t){var e=t.getInt32(8,!1);return e===11?!1:(e=t.getInt32(8,!0),e!==11&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0)}function dI(t,e){return{nFields:t.getInt32(8,e),nSubgridFields:t.getInt32(24,e),nSubgrids:t.getInt32(40,e),shiftType:Td(t,56,64).trim(),fromSemiMajorAxis:t.getFloat64(120,e),fromSemiMinorAxis:t.getFloat64(136,e),toSemiMajorAxis:t.getFloat64(152,e),toSemiMinorAxis:t.getFloat64(168,e)}}function Td(t,e,n){return String.fromCharCode.apply(null,new Uint8Array(t.buffer.slice(e,n)))}function fI(t,e,n){for(var i=176,s=[],r=0;r<e.nSubgrids;r++){var a=mI(t,i,n),o=vI(t,i,a,n),l=Math.round(1+(a.upperLongitude-a.lowerLongitude)/a.longitudeInterval),c=Math.round(1+(a.upperLatitude-a.lowerLatitude)/a.latitudeInterval);s.push({ll:[qr(a.lowerLongitude),qr(a.lowerLatitude)],del:[qr(a.longitudeInterval),qr(a.latitudeInterval)],lim:[l,c],count:a.gridNodeCount,cvs:gI(o)}),i+=176+a.gridNodeCount*16}return s}function gI(t){return t.map(function(e){return[qr(e.longitudeShift),qr(e.latitudeShift)]})}function mI(t,e,n){return{name:Td(t,e+8,e+16).trim(),parent:Td(t,e+24,e+24+8).trim(),lowerLatitude:t.getFloat64(e+72,n),upperLatitude:t.getFloat64(e+88,n),lowerLongitude:t.getFloat64(e+104,n),upperLongitude:t.getFloat64(e+120,n),latitudeInterval:t.getFloat64(e+136,n),longitudeInterval:t.getFloat64(e+152,n),gridNodeCount:t.getInt32(e+168,n)}}function vI(t,e,n,i){for(var s=e+176,r=16,a=[],o=0;o<n.gridNodeCount;o++){var l={latitudeShift:t.getFloat32(s+o*r,i),longitudeShift:t.getFloat32(s+o*r+4,i),latitudeAccuracy:t.getFloat32(s+o*r+8,i),longitudeAccuracy:t.getFloat32(s+o*r+12,i)};a.push(l)}return a}function Ci(t,e){if(!(this instanceof Ci))return new Ci(t);e=e||function(c){if(c)throw c};var n=UR(t);if(typeof n!="object"){e("Could not parse to valid json: "+t);return}var i=Ci.projections.get(n.projName);if(!i){e("Could not get projection name from: "+t);return}if(n.datumCode&&n.datumCode!=="none"){var s=Is(hc,n.datumCode);s&&(n.datum_params=n.datum_params||(s.towgs84?s.towgs84.split(","):null),n.ellps=s.ellipse,n.datumName=s.datumName?s.datumName:n.datumCode)}n.k0=n.k0||1,n.axis=n.axis||"enu",n.ellps=n.ellps||"wgs84",n.lat1=n.lat1||n.lat0;var r=rI(n.a,n.b,n.rf,n.ellps,n.sphere),a=sI(r.a,r.b,r.rf,n.R_A),o=cI(n.nadgrids),l=n.datum||oI(n.datumCode,n.datum_params,r.a,r.b,a.es,a.ep2,o);Rv(this,n),Rv(this,i),this.a=r.a,this.b=r.b,this.rf=r.rf,this.sphere=r.sphere,this.es=a.es,this.e=a.e,this.ep2=a.ep2,this.datum=l,this.init(),e(null,this)}Ci.projections=nI;Ci.projections.start();function yI(t,e){return t.datum_type!==e.datum_type||t.a!==e.a||Math.abs(t.es-e.es)>5e-11?!1:t.datum_type===mr?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]:t.datum_type===vr?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]&&t.datum_params[3]===e.datum_params[3]&&t.datum_params[4]===e.datum_params[4]&&t.datum_params[5]===e.datum_params[5]&&t.datum_params[6]===e.datum_params[6]:!0}function n1(t,e,n){var i=t.x,s=t.y,r=t.z?t.z:0,a,o,l,c;if(s<-Y&&s>-1.001*Y)s=-Y;else if(s>Y&&s<1.001*Y)s=Y;else{if(s<-Y)return{x:-1/0,y:-1/0,z:t.z};if(s>Y)return{x:1/0,y:1/0,z:t.z}}return i>Math.PI&&(i-=2*Math.PI),o=Math.sin(s),c=Math.cos(s),l=o*o,a=n/Math.sqrt(1-e*l),{x:(a+r)*c*Math.cos(i),y:(a+r)*c*Math.sin(i),z:(a*(1-e)+r)*o}}function i1(t,e,n,i){var s=1e-12,r=s*s,a=30,o,l,c,u,h,d,f,g,m,v,y,_,p,x=t.x,b=t.y,C=t.z?t.z:0,M,E,R;if(o=Math.sqrt(x*x+b*b),l=Math.sqrt(x*x+b*b+C*C),o/n<s){if(M=0,l/n<s)return E=Y,R=-i,{x:t.x,y:t.y,z:t.z}}else M=Math.atan2(b,x);c=C/l,u=o/l,h=1/Math.sqrt(1-e*(2-e)*u*u),g=u*(1-e)*h,m=c*h,p=0;do p++,f=n/Math.sqrt(1-e*m*m),R=o*g+C*m-f*(1-e*m*m),d=e*f/(f+R),h=1/Math.sqrt(1-d*(2-d)*u*u),v=u*(1-d)*h,y=c*h,_=y*g-v*m,g=v,m=y;while(_*_>r&&p<a);return E=Math.atan(y/Math.abs(v)),{x:M,y:E,z:R}}function _I(t,e,n){if(e===mr)return{x:t.x+n[0],y:t.y+n[1],z:t.z+n[2]};if(e===vr){var i=n[0],s=n[1],r=n[2],a=n[3],o=n[4],l=n[5],c=n[6];return{x:c*(t.x-l*t.y+o*t.z)+i,y:c*(l*t.x+t.y-a*t.z)+s,z:c*(-o*t.x+a*t.y+t.z)+r}}}function pI(t,e,n){if(e===mr)return{x:t.x-n[0],y:t.y-n[1],z:t.z-n[2]};if(e===vr){var i=n[0],s=n[1],r=n[2],a=n[3],o=n[4],l=n[5],c=n[6],u=(t.x-i)/c,h=(t.y-s)/c,d=(t.z-r)/c;return{x:u+l*h-o*d,y:-l*u+h+a*d,z:o*u-a*h+d}}}function $l(t){return t===mr||t===vr}function xI(t,e,n){if(yI(t,e)||t.datum_type===wd||e.datum_type===wd)return n;var i=t.a,s=t.es;if(t.datum_type===sa){var r=Pv(t,!1,n);if(r!==0)return;i=wv,s=Mv}var a=e.a,o=e.b,l=e.es;if(e.datum_type===sa&&(a=wv,o=ER,l=Mv),s===l&&i===a&&!$l(t.datum_type)&&!$l(e.datum_type))return n;if(n=n1(n,s,i),$l(t.datum_type)&&(n=_I(n,t.datum_type,t.datum_params)),$l(e.datum_type)&&(n=pI(n,e.datum_type,e.datum_params)),n=i1(n,l,a,o),e.datum_type===sa){var c=Pv(e,!0,n);if(c!==0)return}return n}function Pv(t,e,n){if(t.grids===null||t.grids.length===0)return console.log("Grid shift grids not found"),-1;var i={x:-n.x,y:n.y},s={x:Number.NaN,y:Number.NaN},r=[];e:for(var a=0;a<t.grids.length;a++){var o=t.grids[a];if(r.push(o.name),o.isNull){s=i;break}if(o.mandatory,o.grid===null){if(o.mandatory)return console.log("Unable to find mandatory grid '"+o.name+"'"),-1;continue}for(var l=o.grid.subgrids,c=0,u=l.length;c<u;c++){var h=l[c],d=(Math.abs(h.del[1])+Math.abs(h.del[0]))/1e4,f=h.ll[0]-d,g=h.ll[1]-d,m=h.ll[0]+(h.lim[0]-1)*h.del[0]+d,v=h.ll[1]+(h.lim[1]-1)*h.del[1]+d;if(!(g>i.y||f>i.x||v<i.y||m<i.x)&&(s=bI(i,e,h),!isNaN(s.x)))break e}}return isNaN(s.x)?(console.log("Failed to find a grid shift table for location '"+-i.x*pi+" "+i.y*pi+" tried: '"+r+"'"),-1):(n.x=-s.x,n.y=s.y,0)}function bI(t,e,n){var i={x:Number.NaN,y:Number.NaN};if(isNaN(t.x))return i;var s={x:t.x,y:t.y};s.x-=n.ll[0],s.y-=n.ll[1],s.x=re(s.x-Math.PI)+Math.PI;var r=Lv(s,n);if(e){if(isNaN(r.x))return i;r.x=s.x-r.x,r.y=s.y-r.y;var a=9,o=1e-12,l,c;do{if(c=Lv(r,n),isNaN(c.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}l={x:s.x-(c.x+r.x),y:s.y-(c.y+r.y)},r.x+=l.x,r.y+=l.y}while(a--&&Math.abs(l.x)>o&&Math.abs(l.y)>o);if(a<0)return console.log("Inverse grid shift iterator failed to converge."),i;i.x=re(r.x+n.ll[0]),i.y=r.y+n.ll[1]}else isNaN(r.x)||(i.x=t.x+r.x,i.y=t.y+r.y);return i}function Lv(t,e){var n={x:t.x/e.del[0],y:t.y/e.del[1]},i={x:Math.floor(n.x),y:Math.floor(n.y)},s={x:n.x-1*i.x,y:n.y-1*i.y},r={x:Number.NaN,y:Number.NaN},a;if(i.x<0||i.x>=e.lim[0]||i.y<0||i.y>=e.lim[1])return r;a=i.y*e.lim[0]+i.x;var o={x:e.cvs[a][0],y:e.cvs[a][1]};a++;var l={x:e.cvs[a][0],y:e.cvs[a][1]};a+=e.lim[0];var c={x:e.cvs[a][0],y:e.cvs[a][1]};a--;var u={x:e.cvs[a][0],y:e.cvs[a][1]},h=s.x*s.y,d=s.x*(1-s.y),f=(1-s.x)*(1-s.y),g=(1-s.x)*s.y;return r.x=f*o.x+d*l.x+g*u.x+h*c.x,r.y=f*o.y+d*l.y+g*u.y+h*c.y,r}function Ov(t,e,n){var i=n.x,s=n.y,r=n.z||0,a,o,l,c={};for(l=0;l<3;l++)if(!(e&&l===2&&n.z===void 0))switch(l===0?(a=i,"ew".indexOf(t.axis[l])!==-1?o="x":o="y"):l===1?(a=s,"ns".indexOf(t.axis[l])!==-1?o="y":o="x"):(a=r,o="z"),t.axis[l]){case"e":c[o]=a;break;case"w":c[o]=-a;break;case"n":c[o]=a;break;case"s":c[o]=-a;break;case"u":n[o]!==void 0&&(c.z=a);break;case"d":n[o]!==void 0&&(c.z=-a);break;default:return null}return c}function s1(t){var e={x:t[0],y:t[1]};return t.length>2&&(e.z=t[2]),t.length>3&&(e.m=t[3]),e}function SI(t){kv(t.x),kv(t.y)}function kv(t){if(typeof Number.isFinite=="function"){if(Number.isFinite(t))return;throw new TypeError("coordinates must be finite numbers")}if(typeof t!="number"||t!==t||!isFinite(t))throw new TypeError("coordinates must be finite numbers")}function EI(t,e){return(t.datum.datum_type===mr||t.datum.datum_type===vr||t.datum.datum_type===sa)&&e.datumCode!=="WGS84"||(e.datum.datum_type===mr||e.datum.datum_type===vr||e.datum.datum_type===sa)&&t.datumCode!=="WGS84"}function Vc(t,e,n,i){var s;Array.isArray(n)?n=s1(n):n={x:n.x,y:n.y,z:n.z,m:n.m};var r=n.z!==void 0;if(SI(n),t.datum&&e.datum&&EI(t,e)&&(s=new Ci("WGS84"),n=Vc(t,s,n,i),t=s),i&&t.axis!=="enu"&&(n=Ov(t,!1,n)),t.projName==="longlat")n={x:n.x*It,y:n.y*It,z:n.z||0};else if(t.to_meter&&(n={x:n.x*t.to_meter,y:n.y*t.to_meter,z:n.z||0}),n=t.inverse(n),!n)return;if(t.from_greenwich&&(n.x+=t.from_greenwich),n=xI(t.datum,e.datum,n),!!n)return e.from_greenwich&&(n={x:n.x-e.from_greenwich,y:n.y,z:n.z||0}),e.projName==="longlat"?n={x:n.x*pi,y:n.y*pi,z:n.z||0}:(n=e.forward(n),e.to_meter&&(n={x:n.x/e.to_meter,y:n.y/e.to_meter,z:n.z||0})),i&&e.axis!=="enu"?Ov(e,!0,n):(n&&!r&&delete n.z,n)}var Dv=Ci("WGS84");function bh(t,e,n,i){var s,r,a;return Array.isArray(n)?(s=Vc(t,e,n,i)||{x:NaN,y:NaN},n.length>2?typeof t.name<"u"&&t.name==="geocent"||typeof e.name<"u"&&e.name==="geocent"?typeof s.z=="number"?[s.x,s.y,s.z].concat(n.slice(3)):[s.x,s.y,n[2]].concat(n.slice(3)):[s.x,s.y].concat(n.slice(2)):[s.x,s.y]):(r=Vc(t,e,n,i),a=Object.keys(n),a.length===2||a.forEach(function(o){if(typeof t.name<"u"&&t.name==="geocent"||typeof e.name<"u"&&e.name==="geocent"){if(o==="x"||o==="y"||o==="z")return}else if(o==="x"||o==="y")return;r[o]=n[o]}),r)}function Nv(t){return t instanceof Ci?t:t.oProj?t.oProj:Ci(t)}function en(t,e,n){t=Nv(t);var i=!1,s;return typeof e>"u"?(e=t,t=Dv,i=!0):(typeof e.x<"u"||Array.isArray(e))&&(n=e,e=t,t=Dv,i=!0),e=Nv(e),n?bh(t,e,n):(s={forward:function(r,a){return bh(t,e,r,a)},inverse:function(r,a){return bh(e,t,r,a)}},i&&(s.oProj=e),s)}var Fv=6,r1="AJSAJS",a1="AFAFAF",Kr=65,on=73,Fn=79,Za=86,Ja=90;const CI={forward:o1,inverse:wI,toPoint:l1};function o1(t,e){return e=e||5,RI(MI({lat:t[1],lon:t[0]}),e)}function wI(t){var e=Uf(u1(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat,e.lon,e.lat]:[e.left,e.bottom,e.right,e.top]}function l1(t){var e=Uf(u1(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}function Sh(t){return t*(Math.PI/180)}function Bv(t){return 180*(t/Math.PI)}function MI(t){var e=t.lat,n=t.lon,i=6378137,s=.00669438,r=.9996,a,o,l,c,u,h,d,f=Sh(e),g=Sh(n),m,v;v=Math.floor((n+180)/6)+1,n===180&&(v=60),e>=56&&e<64&&n>=3&&n<12&&(v=32),e>=72&&e<84&&(n>=0&&n<9?v=31:n>=9&&n<21?v=33:n>=21&&n<33?v=35:n>=33&&n<42&&(v=37)),a=(v-1)*6-180+3,m=Sh(a),o=s/(1-s),l=i/Math.sqrt(1-s*Math.sin(f)*Math.sin(f)),c=Math.tan(f)*Math.tan(f),u=o*Math.cos(f)*Math.cos(f),h=Math.cos(f)*(g-m),d=i*((1-s/4-3*s*s/64-5*s*s*s/256)*f-(3*s/8+3*s*s/32+45*s*s*s/1024)*Math.sin(2*f)+(15*s*s/256+45*s*s*s/1024)*Math.sin(4*f)-35*s*s*s/3072*Math.sin(6*f));var y=r*l*(h+(1-c+u)*h*h*h/6+(5-18*c+c*c+72*u-58*o)*h*h*h*h*h/120)+5e5,_=r*(d+l*Math.tan(f)*(h*h/2+(5-c+9*u+4*u*u)*h*h*h*h/24+(61-58*c+c*c+600*u-330*o)*h*h*h*h*h*h/720));return e<0&&(_+=1e7),{northing:Math.round(_),easting:Math.round(y),zoneNumber:v,zoneLetter:TI(e)}}function Uf(t){var e=t.northing,n=t.easting,i=t.zoneLetter,s=t.zoneNumber;if(s<0||s>60)return null;var r=.9996,a=6378137,o=.00669438,l,c=(1-Math.sqrt(1-o))/(1+Math.sqrt(1-o)),u,h,d,f,g,m,v,y,_,p=n-5e5,x=e;i<"N"&&(x-=1e7),v=(s-1)*6-180+3,l=o/(1-o),m=x/r,y=m/(a*(1-o/4-3*o*o/64-5*o*o*o/256)),_=y+(3*c/2-27*c*c*c/32)*Math.sin(2*y)+(21*c*c/16-55*c*c*c*c/32)*Math.sin(4*y)+151*c*c*c/96*Math.sin(6*y),u=a/Math.sqrt(1-o*Math.sin(_)*Math.sin(_)),h=Math.tan(_)*Math.tan(_),d=l*Math.cos(_)*Math.cos(_),f=a*(1-o)/Math.pow(1-o*Math.sin(_)*Math.sin(_),1.5),g=p/(u*r);var b=_-u*Math.tan(_)/f*(g*g/2-(5+3*h+10*d-4*d*d-9*l)*g*g*g*g/24+(61+90*h+298*d+45*h*h-252*l-3*d*d)*g*g*g*g*g*g/720);b=Bv(b);var C=(g-(1+2*h+d)*g*g*g/6+(5-2*d+28*h-3*d*d+8*l+24*h*h)*g*g*g*g*g/120)/Math.cos(_);C=v+Bv(C);var M;if(t.accuracy){var E=Uf({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});M={top:E.lat,right:E.lon,bottom:b,left:C}}else M={lat:b,lon:C};return M}function TI(t){var e="Z";return 84>=t&&t>=72?e="X":72>t&&t>=64?e="W":64>t&&t>=56?e="V":56>t&&t>=48?e="U":48>t&&t>=40?e="T":40>t&&t>=32?e="S":32>t&&t>=24?e="R":24>t&&t>=16?e="Q":16>t&&t>=8?e="P":8>t&&t>=0?e="N":0>t&&t>=-8?e="M":-8>t&&t>=-16?e="L":-16>t&&t>=-24?e="K":-24>t&&t>=-32?e="J":-32>t&&t>=-40?e="H":-40>t&&t>=-48?e="G":-48>t&&t>=-56?e="F":-56>t&&t>=-64?e="E":-64>t&&t>=-72?e="D":-72>t&&t>=-80&&(e="C"),e}function RI(t,e){var n="00000"+t.easting,i="00000"+t.northing;return t.zoneNumber+t.zoneLetter+II(t.easting,t.northing,t.zoneNumber)+n.substr(n.length-5,e)+i.substr(i.length-5,e)}function II(t,e,n){var i=c1(n),s=Math.floor(t/1e5),r=Math.floor(e/1e5)%20;return AI(s,r,i)}function c1(t){var e=t%Fv;return e===0&&(e=Fv),e}function AI(t,e,n){var i=n-1,s=r1.charCodeAt(i),r=a1.charCodeAt(i),a=s+t-1,o=r+e,l=!1;a>Ja&&(a=a-Ja+Kr-1,l=!0),(a===on||s<on&&a>on||(a>on||s<on)&&l)&&a++,(a===Fn||s<Fn&&a>Fn||(a>Fn||s<Fn)&&l)&&(a++,a===on&&a++),a>Ja&&(a=a-Ja+Kr-1),o>Za?(o=o-Za+Kr-1,l=!0):l=!1,(o===on||r<on&&o>on||(o>on||r<on)&&l)&&o++,(o===Fn||r<Fn&&o>Fn||(o>Fn||r<Fn)&&l)&&(o++,o===on&&o++),o>Za&&(o=o-Za+Kr-1);var c=String.fromCharCode(a)+String.fromCharCode(o);return c}function u1(t){if(t&&t.length===0)throw"MGRSPoint coverting from nothing";for(var e=t.length,n=null,i="",s,r=0;!/[A-Z]/.test(s=t.charAt(r));){if(r>=2)throw"MGRSPoint bad conversion from: "+t;i+=s,r++}var a=parseInt(i,10);if(r===0||r+3>e)throw"MGRSPoint bad conversion from: "+t;var o=t.charAt(r++);if(o<="A"||o==="B"||o==="Y"||o>="Z"||o==="I"||o==="O")throw"MGRSPoint zone letter "+o+" not handled: "+t;n=t.substring(r,r+=2);for(var l=c1(a),c=PI(n.charAt(0),l),u=LI(n.charAt(1),l);u<OI(o);)u+=2e6;var h=e-r;if(h%2!==0)throw`MGRSPoint has to have an even number 
of digits after the zone letter and two 100km letters - front 
half for easting meters, second half for 
northing meters`+t;var d=h/2,f=0,g=0,m,v,y,_,p;return d>0&&(m=1e5/Math.pow(10,d),v=t.substring(r,r+d),f=parseFloat(v)*m,y=t.substring(r+d),g=parseFloat(y)*m),_=f+c,p=g+u,{easting:_,northing:p,zoneLetter:o,zoneNumber:a,accuracy:m}}function PI(t,e){for(var n=r1.charCodeAt(e-1),i=1e5,s=!1;n!==t.charCodeAt(0);){if(n++,n===on&&n++,n===Fn&&n++,n>Ja){if(s)throw"Bad character: "+t;n=Kr,s=!0}i+=1e5}return i}function LI(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;for(var n=a1.charCodeAt(e-1),i=0,s=!1;n!==t.charCodeAt(0);){if(n++,n===on&&n++,n===Fn&&n++,n>Za){if(s)throw"Bad character: "+t;n=Kr,s=!0}i+=1e5}return i}function OI(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}function fa(t,e,n){if(!(this instanceof fa))return new fa(t,e,n);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if(typeof t=="object")this.x=t.x,this.y=t.y,this.z=t.z||0;else if(typeof t=="string"&&typeof e>"u"){var i=t.split(",");this.x=parseFloat(i[0],10),this.y=parseFloat(i[1],10),this.z=parseFloat(i[2],10)||0}else this.x=t,this.y=e,this.z=n||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}fa.fromMGRS=function(t){return new fa(l1(t))};fa.prototype.toMGRS=function(t){return o1([this.x,this.y],t)};var kI=1,DI=.25,Vv=.046875,$v=.01953125,Gv=.01068115234375,NI=.75,FI=.46875,BI=.013020833333333334,VI=.007120768229166667,$I=.3645833333333333,GI=.005696614583333333,zI=.3076171875;function jf(t){var e=[];e[0]=kI-t*(DI+t*(Vv+t*($v+t*Gv))),e[1]=t*(NI-t*(Vv+t*($v+t*Gv)));var n=t*t;return e[2]=n*(FI-t*(BI+t*VI)),n*=t,e[3]=n*($I-t*GI),e[4]=n*t*zI,e}function Ia(t,e,n,i){return n*=e,e*=e,i[0]*t-n*(i[1]+e*(i[2]+e*(i[3]+e*i[4])))}var WI=20;function Hf(t,e,n){for(var i=1/(1-e),s=t,r=WI;r;--r){var a=Math.sin(s),o=1-e*a*a;if(o=(Ia(s,a,Math.cos(s),n)-t)*(o*Math.sqrt(o))*i,s-=o,Math.abs(o)<se)return s}return s}function UI(){this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.es&&(this.en=jf(this.es),this.ml0=Ia(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))}function jI(t){var e=t.x,n=t.y,i=re(e-this.long0),s,r,a,o=Math.sin(n),l=Math.cos(n);if(this.es){var u=l*i,h=Math.pow(u,2),d=this.ep2*Math.pow(l,2),f=Math.pow(d,2),g=Math.abs(l)>se?Math.tan(n):0,m=Math.pow(g,2),v=Math.pow(m,2);s=1-this.es*Math.pow(o,2),u=u/Math.sqrt(s);var y=Ia(n,o,l,this.en);r=this.a*(this.k0*u*(1+h/6*(1-m+d+h/20*(5-18*m+v+14*d-58*m*d+h/42*(61+179*v-v*m-479*m)))))+this.x0,a=this.a*(this.k0*(y-this.ml0+o*i*u/2*(1+h/12*(5-m+9*d+4*f+h/30*(61+v-58*m+270*d-330*m*d+h/56*(1385+543*v-v*m-3111*m))))))+this.y0}else{var c=l*Math.sin(i);if(Math.abs(Math.abs(c)-1)<se)return 93;if(r=.5*this.a*this.k0*Math.log((1+c)/(1-c))+this.x0,a=l*Math.cos(i)/Math.sqrt(1-Math.pow(c,2)),c=Math.abs(a),c>=1){if(c-1>se)return 93;a=0}else a=Math.acos(a);n<0&&(a=-a),a=this.a*this.k0*(a-this.lat0)+this.y0}return t.x=r,t.y=a,t}function HI(t){var e,n,i,s,r=(t.x-this.x0)*(1/this.a),a=(t.y-this.y0)*(1/this.a);if(this.es)if(e=this.ml0+a/this.k0,n=Hf(e,this.es,this.en),Math.abs(n)<Y){var h=Math.sin(n),d=Math.cos(n),f=Math.abs(d)>se?Math.tan(n):0,g=this.ep2*Math.pow(d,2),m=Math.pow(g,2),v=Math.pow(f,2),y=Math.pow(v,2);e=1-this.es*Math.pow(h,2);var _=r*Math.sqrt(e)/this.k0,p=Math.pow(_,2);e=e*f,i=n-e*p/(1-this.es)*.5*(1-p/12*(5+3*v-9*g*v+g-4*m-p/30*(61+90*v-252*g*v+45*y+46*g-p/56*(1385+3633*v+4095*y+1574*y*v)))),s=re(this.long0+_*(1-p/6*(1+2*v+g-p/20*(5+28*v+24*y+8*g*v+6*g-p/42*(61+662*v+1320*y+720*y*v))))/d)}else i=Y*ol(a),s=0;else{var o=Math.exp(r/this.k0),l=.5*(o-1/o),c=this.lat0+a/this.k0,u=Math.cos(c);e=Math.sqrt((1-Math.pow(u,2))/(1+Math.pow(l,2))),i=Math.asin(e),a<0&&(i=-i),l===0&&u===0?s=0:s=re(Math.atan2(l,u)+this.long0)}return t.x=s,t.y=i,t}var XI=["Fast_Transverse_Mercator","Fast Transverse Mercator"];const dc={init:UI,forward:jI,inverse:HI,names:XI};function h1(t){var e=Math.exp(t);return e=(e-1/e)/2,e}function fn(t,e){t=Math.abs(t),e=Math.abs(e);var n=Math.max(t,e),i=Math.min(t,e)/(n||1);return n*Math.sqrt(1+Math.pow(i,2))}function qI(t){var e=1+t,n=e-1;return n===0?t:t*Math.log(e)/n}function KI(t){var e=Math.abs(t);return e=qI(e*(1+e/(fn(1,e)+1))),t<0?-e:e}function Xf(t,e){for(var n=2*Math.cos(2*e),i=t.length-1,s=t[i],r=0,a;--i>=0;)a=-r+n*s+t[i],r=s,s=a;return e+a*Math.sin(2*e)}function YI(t,e){for(var n=2*Math.cos(e),i=t.length-1,s=t[i],r=0,a;--i>=0;)a=-r+n*s+t[i],r=s,s=a;return Math.sin(e)*a}function ZI(t){var e=Math.exp(t);return e=(e+1/e)/2,e}function d1(t,e,n){for(var i=Math.sin(e),s=Math.cos(e),r=h1(n),a=ZI(n),o=2*s*a,l=-2*i*r,c=t.length-1,u=t[c],h=0,d=0,f=0,g,m;--c>=0;)g=d,m=h,d=u,h=f,u=-g+o*d-l*h+t[c],f=-m+l*d+o*h;return o=i*a,l=s*r,[o*u-l*f,o*f+l*u]}function JI(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(dc.init.apply(this),this.forward=dc.forward,this.inverse=dc.inverse),this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var t=this.es/(1+Math.sqrt(1-this.es)),e=t/(2-t),n=e;this.cgb[0]=e*(2+e*(-2/3+e*(-2+e*(116/45+e*(26/45+e*(-2854/675)))))),this.cbg[0]=e*(-2+e*(2/3+e*(4/3+e*(-82/45+e*(32/45+e*(4642/4725)))))),n=n*e,this.cgb[1]=n*(7/3+e*(-8/5+e*(-227/45+e*(2704/315+e*(2323/945))))),this.cbg[1]=n*(5/3+e*(-16/15+e*(-13/9+e*(904/315+e*(-1522/945))))),n=n*e,this.cgb[2]=n*(56/15+e*(-136/35+e*(-1262/105+e*(73814/2835)))),this.cbg[2]=n*(-26/15+e*(34/21+e*(8/5+e*(-12686/2835)))),n=n*e,this.cgb[3]=n*(4279/630+e*(-332/35+e*(-399572/14175))),this.cbg[3]=n*(1237/630+e*(-12/5+e*(-24832/14175))),n=n*e,this.cgb[4]=n*(4174/315+e*(-144838/6237)),this.cbg[4]=n*(-734/315+e*(109598/31185)),n=n*e,this.cgb[5]=n*(601676/22275),this.cbg[5]=n*(444337/155925),n=Math.pow(e,2),this.Qn=this.k0/(1+e)*(1+n*(1/4+n*(1/64+n/256))),this.utg[0]=e*(-.5+e*(2/3+e*(-37/96+e*(1/360+e*(81/512+e*(-96199/604800)))))),this.gtu[0]=e*(.5+e*(-2/3+e*(5/16+e*(41/180+e*(-127/288+e*(7891/37800)))))),this.utg[1]=n*(-1/48+e*(-1/15+e*(437/1440+e*(-46/105+e*(1118711/3870720))))),this.gtu[1]=n*(13/48+e*(-3/5+e*(557/1440+e*(281/630+e*(-1983433/1935360))))),n=n*e,this.utg[2]=n*(-17/480+e*(37/840+e*(209/4480+e*(-5569/90720)))),this.gtu[2]=n*(61/240+e*(-103/140+e*(15061/26880+e*(167603/181440)))),n=n*e,this.utg[3]=n*(-4397/161280+e*(11/504+e*(830251/7257600))),this.gtu[3]=n*(49561/161280+e*(-179/168+e*(6601661/7257600))),n=n*e,this.utg[4]=n*(-4583/161280+e*(108847/3991680)),this.gtu[4]=n*(34729/80640+e*(-3418889/1995840)),n=n*e,this.utg[5]=n*(-20648693/638668800),this.gtu[5]=n*(212378941/319334400);var i=Xf(this.cbg,this.lat0);this.Zb=-this.Qn*(i+YI(this.gtu,2*i))}function QI(t){var e=re(t.x-this.long0),n=t.y;n=Xf(this.cbg,n);var i=Math.sin(n),s=Math.cos(n),r=Math.sin(e),a=Math.cos(e);n=Math.atan2(i,a*s),e=Math.atan2(r*s,fn(i,s*a)),e=KI(Math.tan(e));var o=d1(this.gtu,2*n,2*e);n=n+o[0],e=e+o[1];var l,c;return Math.abs(e)<=2.623395162778?(l=this.a*(this.Qn*e)+this.x0,c=this.a*(this.Qn*n+this.Zb)+this.y0):(l=1/0,c=1/0),t.x=l,t.y=c,t}function e2(t){var e=(t.x-this.x0)*(1/this.a),n=(t.y-this.y0)*(1/this.a);n=(n-this.Zb)/this.Qn,e=e/this.Qn;var i,s;if(Math.abs(e)<=2.623395162778){var r=d1(this.utg,2*n,2*e);n=n+r[0],e=e+r[1],e=Math.atan(h1(e));var a=Math.sin(n),o=Math.cos(n),l=Math.sin(e),c=Math.cos(e);n=Math.atan2(a*c,fn(l,c*o)),e=Math.atan2(l,c*o),i=re(e+this.long0),s=Xf(this.cgb,n)}else i=1/0,s=1/0;return t.x=i,t.y=s,t}var t2=["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","Gauss Kruger","Gauss_Kruger","tmerc"];const fc={init:JI,forward:QI,inverse:e2,names:t2};function n2(t,e){if(t===void 0){if(t=Math.floor((re(e)+Math.PI)*30/Math.PI)+1,t<0)return 0;if(t>60)return 60}return t}var i2="etmerc";function s2(){var t=n2(this.zone,this.long0);if(t===void 0)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(t)-183)*It,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,fc.init.apply(this),this.forward=fc.forward,this.inverse=fc.inverse}var r2=["Universal Transverse Mercator System","utm"];const a2={init:s2,names:r2,dependsOn:i2};function qf(t,e){return Math.pow((1-t)/(1+t),e)}var o2=20;function l2(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+Ke)/(Math.pow(Math.tan(.5*this.lat0+Ke),this.C)*qf(this.e*t,this.ratexp))}function c2(t){var e=t.x,n=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*n+Ke),this.C)*qf(this.e*Math.sin(n),this.ratexp))-Y,t.x=this.C*e,t}function u2(t){for(var e=1e-14,n=t.x/this.C,i=t.y,s=Math.pow(Math.tan(.5*i+Ke)/this.K,1/this.C),r=o2;r>0&&(i=2*Math.atan(s*qf(this.e*Math.sin(t.y),-.5*this.e))-Y,!(Math.abs(i-t.y)<e));--r)t.y=i;return r?(t.x=n,t.y=i,t):null}const Kf={init:l2,forward:c2,inverse:u2};function h2(){Kf.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))}function d2(t){var e,n,i,s;return t.x=re(t.x-this.long0),Kf.forward.apply(this,[t]),e=Math.sin(t.y),n=Math.cos(t.y),i=Math.cos(t.x),s=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*n*i),t.x=s*n*Math.sin(t.x),t.y=s*(this.cosc0*e-this.sinc0*n*i),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t}function f2(t){var e,n,i,s,r;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,r=fn(t.x,t.y)){var a=2*Math.atan2(r,this.R2);e=Math.sin(a),n=Math.cos(a),s=Math.asin(n*this.sinc0+t.y*e*this.cosc0/r),i=Math.atan2(t.x*e,r*this.cosc0*n-t.y*this.sinc0*e)}else s=this.phic0,i=0;return t.x=i,t.y=s,Kf.inverse.apply(this,[t]),t.x=re(t.x+this.long0),t}var g2=["Stereographic_North_Pole","Oblique_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"];const m2={init:h2,forward:d2,inverse:f2,names:g2};function v2(t,e,n){return e*=n,Math.tan(.5*(Y+t))*Math.pow((1-e)/(1+e),.5*n)}function y2(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=se&&(this.k0=.5*(1+ol(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=se&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=se&&Math.abs(Math.cos(this.lat_ts))>se&&(this.k0=.5*this.cons*Ti(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/Qn(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=Ti(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-Y,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))}function _2(t){var e=t.x,n=t.y,i=Math.sin(n),s=Math.cos(n),r,a,o,l,c,u,h=re(e-this.long0);return Math.abs(Math.abs(e-this.long0)-Math.PI)<=se&&Math.abs(n+this.lat0)<=se?(t.x=NaN,t.y=NaN,t):this.sphere?(r=2*this.k0/(1+this.sinlat0*i+this.coslat0*s*Math.cos(h)),t.x=this.a*r*s*Math.sin(h)+this.x0,t.y=this.a*r*(this.coslat0*i-this.sinlat0*s*Math.cos(h))+this.y0,t):(a=2*Math.atan(this.ssfn_(n,i,this.e))-Y,l=Math.cos(a),o=Math.sin(a),Math.abs(this.coslat0)<=se?(c=Qn(this.e,n*this.con,this.con*i),u=2*this.a*this.k0*c/this.cons,t.x=this.x0+u*Math.sin(e-this.long0),t.y=this.y0-this.con*u*Math.cos(e-this.long0),t):(Math.abs(this.sinlat0)<se?(r=2*this.a*this.k0/(1+l*Math.cos(h)),t.y=r*o):(r=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*o+this.cosX0*l*Math.cos(h))),t.y=r*(this.cosX0*o-this.sinX0*l*Math.cos(h))+this.y0),t.x=r*l*Math.sin(h)+this.x0,t))}function p2(t){t.x-=this.x0,t.y-=this.y0;var e,n,i,s,r,a=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var o=2*Math.atan(a/(2*this.a*this.k0));return e=this.long0,n=this.lat0,a<=se?(t.x=e,t.y=n,t):(n=Math.asin(Math.cos(o)*this.sinlat0+t.y*Math.sin(o)*this.coslat0/a),Math.abs(this.coslat0)<se?this.lat0>0?e=re(this.long0+Math.atan2(t.x,-1*t.y)):e=re(this.long0+Math.atan2(t.x,t.y)):e=re(this.long0+Math.atan2(t.x*Math.sin(o),a*this.coslat0*Math.cos(o)-t.y*this.sinlat0*Math.sin(o))),t.x=e,t.y=n,t)}else if(Math.abs(this.coslat0)<=se){if(a<=se)return n=this.lat0,e=this.long0,t.x=e,t.y=n,t;t.x*=this.con,t.y*=this.con,i=a*this.cons/(2*this.a*this.k0),n=this.con*Fo(this.e,i),e=this.con*re(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else s=2*Math.atan(a*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,a<=se?r=this.X0:(r=Math.asin(Math.cos(s)*this.sinX0+t.y*Math.sin(s)*this.cosX0/a),e=re(this.long0+Math.atan2(t.x*Math.sin(s),a*this.cosX0*Math.cos(s)-t.y*this.sinX0*Math.sin(s)))),n=-1*Fo(this.e,Math.tan(.5*(Y+r)));return t.x=e,t.y=n,t}var x2=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)","Polar_Stereographic"];const b2={init:y2,forward:_2,inverse:p2,names:x2,ssfn_:v2};function S2(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),n=this.a,i=this.rf,s=1/i,r=2*s-Math.pow(s,2),a=this.e=Math.sqrt(r);this.R=this.k0*n*Math.sqrt(1-r)/(1-r*Math.pow(e,2)),this.alpha=Math.sqrt(1+r/(1-r)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var o=Math.log(Math.tan(Math.PI/4+this.b0/2)),l=Math.log(Math.tan(Math.PI/4+t/2)),c=Math.log((1+a*e)/(1-a*e));this.K=o-this.alpha*l+this.alpha*a/2*c}function E2(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),n=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),i=-this.alpha*(e+n)+this.K,s=2*(Math.atan(Math.exp(i))-Math.PI/4),r=this.alpha*(t.x-this.lambda0),a=Math.atan(Math.sin(r)/(Math.sin(this.b0)*Math.tan(s)+Math.cos(this.b0)*Math.cos(r))),o=Math.asin(Math.cos(this.b0)*Math.sin(s)-Math.sin(this.b0)*Math.cos(s)*Math.cos(r));return t.y=this.R/2*Math.log((1+Math.sin(o))/(1-Math.sin(o)))+this.y0,t.x=this.R*a+this.x0,t}function C2(t){for(var e=t.x-this.x0,n=t.y-this.y0,i=e/this.R,s=2*(Math.atan(Math.exp(n/this.R))-Math.PI/4),r=Math.asin(Math.cos(this.b0)*Math.sin(s)+Math.sin(this.b0)*Math.cos(s)*Math.cos(i)),a=Math.atan(Math.sin(i)/(Math.cos(this.b0)*Math.cos(i)-Math.sin(this.b0)*Math.tan(s))),o=this.lambda0+a/this.alpha,l=0,c=r,u=-1e3,h=0;Math.abs(c-u)>1e-7;){if(++h>20)return;l=1/this.alpha*(Math.log(Math.tan(Math.PI/4+r/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(c))/2)),u=c,c=2*Math.atan(Math.exp(l))-Math.PI/2}return t.x=o,t.y=c,t}var w2=["somerc"];const M2={init:S2,forward:E2,inverse:C2,names:w2};var $r=1e-7;function T2(t){var e=["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"],n=typeof t.PROJECTION=="object"?Object.keys(t.PROJECTION)[0]:t.PROJECTION;return"no_uoff"in t||"no_off"in t||e.indexOf(n)!==-1}function R2(){var t,e,n,i,s,r,a,o,l,c,u=0,h,d=0,f=0,g=0,m=0,v=0,y=0;this.no_off=T2(this),this.no_rot="no_rot"in this;var _=!1;"alpha"in this&&(_=!0);var p=!1;if("rectified_grid_angle"in this&&(p=!0),_&&(y=this.alpha),p&&(u=this.rectified_grid_angle*It),_||p)d=this.longc;else if(f=this.long1,m=this.lat1,g=this.long2,v=this.lat2,Math.abs(m-v)<=$r||(t=Math.abs(m))<=$r||Math.abs(t-Y)<=$r||Math.abs(Math.abs(this.lat0)-Y)<=$r||Math.abs(Math.abs(v)-Y)<=$r)throw new Error;var x=1-this.es;e=Math.sqrt(x),Math.abs(this.lat0)>se?(o=Math.sin(this.lat0),n=Math.cos(this.lat0),t=1-this.es*o*o,this.B=n*n,this.B=Math.sqrt(1+this.es*this.B*this.B/x),this.A=this.B*this.k0*e/t,i=this.B*e/(n*Math.sqrt(t)),s=i*i-1,s<=0?s=0:(s=Math.sqrt(s),this.lat0<0&&(s=-s)),this.E=s+=i,this.E*=Math.pow(Qn(this.e,this.lat0,o),this.B)):(this.B=1/e,this.A=this.k0,this.E=i=s=1),_||p?(_?(h=Math.asin(Math.sin(y)/i),p||(u=y)):(h=u,y=Math.asin(i*Math.sin(h))),this.lam0=d-Math.asin(.5*(s-1/s)*Math.tan(h))/this.B):(r=Math.pow(Qn(this.e,m,Math.sin(m)),this.B),a=Math.pow(Qn(this.e,v,Math.sin(v)),this.B),s=this.E/r,l=(a-r)/(a+r),c=this.E*this.E,c=(c-a*r)/(c+a*r),t=f-g,t<-Math.pi?g-=Do:t>Math.pi&&(g+=Do),this.lam0=re(.5*(f+g)-Math.atan(c*Math.tan(.5*this.B*(f-g))/l)/this.B),h=Math.atan(2*Math.sin(this.B*re(f-this.lam0))/(s-1/s)),u=y=Math.asin(i*Math.sin(h))),this.singam=Math.sin(h),this.cosgam=Math.cos(h),this.sinrot=Math.sin(u),this.cosrot=Math.cos(u),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.A*this.B,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(i*i-1)/Math.cos(y))),this.lat0<0&&(this.u_0=-this.u_0)),s=.5*h,this.v_pole_n=this.ArB*Math.log(Math.tan(Ke-s)),this.v_pole_s=this.ArB*Math.log(Math.tan(Ke+s))}function I2(t){var e={},n,i,s,r,a,o,l,c;if(t.x=t.x-this.lam0,Math.abs(Math.abs(t.y)-Y)>se){if(a=this.E/Math.pow(Qn(this.e,t.y,Math.sin(t.y)),this.B),o=1/a,n=.5*(a-o),i=.5*(a+o),r=Math.sin(this.B*t.x),s=(n*this.singam-r*this.cosgam)/i,Math.abs(Math.abs(s)-1)<se)throw new Error;c=.5*this.ArB*Math.log((1-s)/(1+s)),o=Math.cos(this.B*t.x),Math.abs(o)<$r?l=this.A*t.x:l=this.ArB*Math.atan2(n*this.cosgam+r*this.singam,o)}else c=t.y>0?this.v_pole_n:this.v_pole_s,l=this.ArB*t.y;return this.no_rot?(e.x=l,e.y=c):(l-=this.u_0,e.x=c*this.cosrot+l*this.sinrot,e.y=l*this.cosrot-c*this.sinrot),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e}function A2(t){var e,n,i,s,r,a,o,l={};if(t.x=(t.x-this.x0)*(1/this.a),t.y=(t.y-this.y0)*(1/this.a),this.no_rot?(n=t.y,e=t.x):(n=t.x*this.cosrot-t.y*this.sinrot,e=t.y*this.cosrot+t.x*this.sinrot+this.u_0),i=Math.exp(-this.BrA*n),s=.5*(i-1/i),r=.5*(i+1/i),a=Math.sin(this.BrA*e),o=(a*this.cosgam+s*this.singam)/r,Math.abs(Math.abs(o)-1)<se)l.x=0,l.y=o<0?-Y:Y;else{if(l.y=this.E/Math.sqrt((1+o)/(1-o)),l.y=Fo(this.e,Math.pow(l.y,1/this.B)),l.y===1/0)throw new Error;l.x=-this.rB*Math.atan2(s*this.cosgam-a*this.singam,Math.cos(this.BrA*e))}return l.x+=this.lam0,l}var P2=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"];const L2={init:R2,forward:I2,inverse:A2,names:P2};function O2(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<se)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),n=Math.cos(this.lat1),i=Ti(this.e,e,n),s=Qn(this.e,this.lat1,e),r=Math.sin(this.lat2),a=Math.cos(this.lat2),o=Ti(this.e,r,a),l=Qn(this.e,this.lat2,r),c=Qn(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>se?this.ns=Math.log(i/o)/Math.log(s/l):this.ns=e,isNaN(this.ns)&&(this.ns=e),this.f0=i/(this.ns*Math.pow(s,this.ns)),this.rh=this.a*this.f0*Math.pow(c,this.ns),this.title||(this.title="Lambert Conformal Conic")}}function k2(t){var e=t.x,n=t.y;Math.abs(2*Math.abs(n)-Math.PI)<=se&&(n=ol(n)*(Y-2*se));var i=Math.abs(Math.abs(n)-Y),s,r;if(i>se)s=Qn(this.e,n,Math.sin(n)),r=this.a*this.f0*Math.pow(s,this.ns);else{if(i=n*this.ns,i<=0)return null;r=0}var a=this.ns*re(e-this.long0);return t.x=this.k0*(r*Math.sin(a))+this.x0,t.y=this.k0*(this.rh-r*Math.cos(a))+this.y0,t}function D2(t){var e,n,i,s,r,a=(t.x-this.x0)/this.k0,o=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(a*a+o*o),n=1):(e=-Math.sqrt(a*a+o*o),n=-1);var l=0;if(e!==0&&(l=Math.atan2(n*a,n*o)),e!==0||this.ns>0){if(n=1/this.ns,i=Math.pow(e/(this.a*this.f0),n),s=Fo(this.e,i),s===-9999)return null}else s=-Y;return r=re(l/this.ns+this.long0),t.x=r,t.y=s,t}var N2=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc","Lambert Conic Conformal (1SP)","Lambert Conic Conformal (2SP)"];const F2={init:O2,forward:k2,inverse:D2,names:N2};function B2(){this.a=6377397155e-3,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.7417649320975901-.308341501185665),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq}function V2(t){var e,n,i,s,r,a,o,l=t.x,c=t.y,u=re(l-this.long0);return e=Math.pow((1+this.e*Math.sin(c))/(1-this.e*Math.sin(c)),this.alfa*this.e/2),n=2*(Math.atan(this.k*Math.pow(Math.tan(c/2+this.s45),this.alfa)/e)-this.s45),i=-u*this.alfa,s=Math.asin(Math.cos(this.ad)*Math.sin(n)+Math.sin(this.ad)*Math.cos(n)*Math.cos(i)),r=Math.asin(Math.cos(n)*Math.sin(i)/Math.cos(s)),a=this.n*r,o=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(s/2+this.s45),this.n),t.y=o*Math.cos(a)/1,t.x=o*Math.sin(a)/1,this.czech||(t.y*=-1,t.x*=-1),t}function $2(t){var e,n,i,s,r,a,o,l,c=t.x;t.x=t.y,t.y=c,this.czech||(t.y*=-1,t.x*=-1),a=Math.sqrt(t.x*t.x+t.y*t.y),r=Math.atan2(t.y,t.x),s=r/Math.sin(this.s0),i=2*(Math.atan(Math.pow(this.ro0/a,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(i)-Math.sin(this.ad)*Math.cos(i)*Math.cos(s)),n=Math.asin(Math.cos(i)*Math.sin(s)/Math.cos(e)),t.x=this.long0-n/this.alfa,o=e,l=0;var u=0;do t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(o))/(1-this.e*Math.sin(o)),this.e/2))-this.s45),Math.abs(o-t.y)<1e-10&&(l=1),o=t.y,u+=1;while(l===0&&u<15);return u>=15?null:t}var G2=["Krovak","krovak"];const z2={init:B2,forward:V2,inverse:$2,names:G2};function Zt(t,e,n,i,s){return t*s-e*Math.sin(2*s)+n*Math.sin(4*s)-i*Math.sin(6*s)}function ll(t){return 1-.25*t*(1+t/16*(3+1.25*t))}function cl(t){return .375*t*(1+.25*t*(1+.46875*t))}function ul(t){return .05859375*t*t*(1+.75*t)}function hl(t){return t*t*t*(35/3072)}function ga(t,e,n){var i=e*n;return t/Math.sqrt(1-i*i)}function Ns(t){return Math.abs(t)<Y?t:t-ol(t)*Math.PI}function $c(t,e,n,i,s){var r,a;r=t/e;for(var o=0;o<15;o++)if(a=(t-(e*r-n*Math.sin(2*r)+i*Math.sin(4*r)-s*Math.sin(6*r)))/(e-2*n*Math.cos(2*r)+4*i*Math.cos(4*r)-6*s*Math.cos(6*r)),r+=a,Math.abs(a)<=1e-10)return r;return NaN}function W2(){this.sphere||(this.e0=ll(this.es),this.e1=cl(this.es),this.e2=ul(this.es),this.e3=hl(this.es),this.ml0=this.a*Zt(this.e0,this.e1,this.e2,this.e3,this.lat0))}function U2(t){var e,n,i=t.x,s=t.y;if(i=re(i-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(s)*Math.sin(i)),n=this.a*(Math.atan2(Math.tan(s),Math.cos(i))-this.lat0);else{var r=Math.sin(s),a=Math.cos(s),o=ga(this.a,this.e,r),l=Math.tan(s)*Math.tan(s),c=i*Math.cos(s),u=c*c,h=this.es*a*a/(1-this.es),d=this.a*Zt(this.e0,this.e1,this.e2,this.e3,s);e=o*c*(1-u*l*(1/6-(8-l+8*h)*u/120)),n=d-this.ml0+o*r/a*u*(.5+(5-l+6*h)*u/24)}return t.x=e+this.x0,t.y=n+this.y0,t}function j2(t){t.x-=this.x0,t.y-=this.y0;var e=t.x/this.a,n=t.y/this.a,i,s;if(this.sphere){var r=n+this.lat0;i=Math.asin(Math.sin(r)*Math.cos(e)),s=Math.atan2(Math.tan(e),Math.cos(r))}else{var a=this.ml0/this.a+n,o=$c(a,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(o)-Y)<=se)return t.x=this.long0,t.y=Y,n<0&&(t.y*=-1),t;var l=ga(this.a,this.e,Math.sin(o)),c=l*l*l/this.a/this.a*(1-this.es),u=Math.pow(Math.tan(o),2),h=e*this.a/l,d=h*h;i=o-l*Math.tan(o)/c*h*h*(.5-(1+3*u)*h*h/24),s=h*(1-d*(u/3+(1+3*u)*u*d/15))/Math.cos(o)}return t.x=re(s+this.long0),t.y=Ns(i),t}var H2=["Cassini","Cassini_Soldner","cass"];const X2={init:W2,forward:U2,inverse:j2,names:H2};function Cs(t,e){var n;return t>1e-7?(n=t*e,(1-t*t)*(e/(1-n*n)-.5/t*Math.log((1-n)/(1+n)))):2*e}var q2=1,K2=2,Y2=3,Z2=4;function J2(){var t=Math.abs(this.lat0);if(Math.abs(t-Y)<se?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(t)<se?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0){var e;switch(this.qp=Cs(this.e,1),this.mmf=.5/(1-this.es),this.apa=oA(this.es),this.mode){case this.N_POLE:this.dd=1;break;case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),e=Math.sin(this.lat0),this.sinb1=Cs(this.e,e)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*e*e)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd;break}}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))}function Q2(t){var e,n,i,s,r,a,o,l,c,u,h=t.x,d=t.y;if(h=re(h-this.long0),this.sphere){if(r=Math.sin(d),u=Math.cos(d),i=Math.cos(h),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(n=this.mode===this.EQUIT?1+u*i:1+this.sinph0*r+this.cosph0*u*i,n<=se)return null;n=Math.sqrt(2/n),e=n*u*Math.sin(h),n*=this.mode===this.EQUIT?r:this.cosph0*r-this.sinph0*u*i}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(i=-i),Math.abs(d+this.lat0)<se)return null;n=Ke-d*.5,n=2*(this.mode===this.S_POLE?Math.cos(n):Math.sin(n)),e=n*Math.sin(h),n*=i}}else{switch(o=0,l=0,c=0,i=Math.cos(h),s=Math.sin(h),r=Math.sin(d),a=Cs(this.e,r),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(o=a/this.qp,l=Math.sqrt(1-o*o)),this.mode){case this.OBLIQ:c=1+this.sinb1*o+this.cosb1*l*i;break;case this.EQUIT:c=1+l*i;break;case this.N_POLE:c=Y+d,a=this.qp-a;break;case this.S_POLE:c=d-Y,a=this.qp+a;break}if(Math.abs(c)<se)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:c=Math.sqrt(2/c),this.mode===this.OBLIQ?n=this.ymf*c*(this.cosb1*o-this.sinb1*l*i):n=(c=Math.sqrt(2/(1+l*i)))*o*this.ymf,e=this.xmf*c*l*s;break;case this.N_POLE:case this.S_POLE:a>=0?(e=(c=Math.sqrt(a))*s,n=i*(this.mode===this.S_POLE?c:-c)):e=n=0;break}}return t.x=this.a*e+this.x0,t.y=this.a*n+this.y0,t}function eA(t){t.x-=this.x0,t.y-=this.y0;var e=t.x/this.a,n=t.y/this.a,i,s,r,a,o,l,c;if(this.sphere){var u=0,h,d=0;if(h=Math.sqrt(e*e+n*n),s=h*.5,s>1)return null;switch(s=2*Math.asin(s),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(d=Math.sin(s),u=Math.cos(s)),this.mode){case this.EQUIT:s=Math.abs(h)<=se?0:Math.asin(n*d/h),e*=d,n=u*h;break;case this.OBLIQ:s=Math.abs(h)<=se?this.lat0:Math.asin(u*this.sinph0+n*d*this.cosph0/h),e*=d*this.cosph0,n=(u-Math.sin(s)*this.sinph0)*h;break;case this.N_POLE:n=-n,s=Y-s;break;case this.S_POLE:s-=Y;break}i=n===0&&(this.mode===this.EQUIT||this.mode===this.OBLIQ)?0:Math.atan2(e,n)}else{if(c=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(e/=this.dd,n*=this.dd,l=Math.sqrt(e*e+n*n),l<se)return t.x=this.long0,t.y=this.lat0,t;a=2*Math.asin(.5*l/this.rq),r=Math.cos(a),e*=a=Math.sin(a),this.mode===this.OBLIQ?(c=r*this.sinb1+n*a*this.cosb1/l,o=this.qp*c,n=l*this.cosb1*r-n*this.sinb1*a):(c=n*a/l,o=this.qp*c,n=l*r)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(n=-n),o=e*e+n*n,!o)return t.x=this.long0,t.y=this.lat0,t;c=1-o/this.qp,this.mode===this.S_POLE&&(c=-c)}i=Math.atan2(e,n),s=lA(Math.asin(c),this.apa)}return t.x=re(this.long0+i),t.y=s,t}var tA=.3333333333333333,nA=.17222222222222222,iA=.10257936507936508,sA=.06388888888888888,rA=.0664021164021164,aA=.016415012942191543;function oA(t){var e,n=[];return n[0]=t*tA,e=t*t,n[0]+=e*nA,n[1]=e*sA,e*=t,n[0]+=e*iA,n[1]+=e*rA,n[2]=e*aA,n}function lA(t,e){var n=t+t;return t+e[0]*Math.sin(n)+e[1]*Math.sin(n+n)+e[2]*Math.sin(n+n+n)}var cA=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"];const uA={init:J2,forward:Q2,inverse:eA,names:cA,S_POLE:q2,N_POLE:K2,EQUIT:Y2,OBLIQ:Z2};function As(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)}function hA(){Math.abs(this.lat1+this.lat2)<se||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=Ti(this.e3,this.sin_po,this.cos_po),this.qs1=Cs(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=Ti(this.e3,this.sin_po,this.cos_po),this.qs2=Cs(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=Cs(this.e3,this.sin_po),Math.abs(this.lat1-this.lat2)>se?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)}function dA(t){var e=t.x,n=t.y;this.sin_phi=Math.sin(n),this.cos_phi=Math.cos(n);var i=Cs(this.e3,this.sin_phi),s=this.a*Math.sqrt(this.c-this.ns0*i)/this.ns0,r=this.ns0*re(e-this.long0),a=s*Math.sin(r)+this.x0,o=this.rh-s*Math.cos(r)+this.y0;return t.x=a,t.y=o,t}function fA(t){var e,n,i,s,r,a;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(e=Math.sqrt(t.x*t.x+t.y*t.y),i=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),i=-1),s=0,e!==0&&(s=Math.atan2(i*t.x,i*t.y)),i=e*this.ns0/this.a,this.sphere?a=Math.asin((this.c-i*i)/(2*this.ns0)):(n=(this.c-i*i)/this.ns0,a=this.phi1z(this.e3,n)),r=re(s/this.ns0+this.long0),t.x=r,t.y=a,t}function gA(t,e){var n,i,s,r,a,o=As(.5*e);if(t<se)return o;for(var l=t*t,c=1;c<=25;c++)if(n=Math.sin(o),i=Math.cos(o),s=t*n,r=1-s*s,a=.5*r*r/i*(e/(1-l)-n/r+.5/t*Math.log((1-s)/(1+s))),o=o+a,Math.abs(a)<=1e-7)return o;return null}var mA=["Albers_Conic_Equal_Area","Albers","aea"];const vA={init:hA,forward:dA,inverse:fA,names:mA,phi1z:gA};function yA(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1}function _A(t){var e,n,i,s,r,a,o,l,c=t.x,u=t.y;return i=re(c-this.long0),e=Math.sin(u),n=Math.cos(u),s=Math.cos(i),a=this.sin_p14*e+this.cos_p14*n*s,r=1,a>0||Math.abs(a)<=se?(o=this.x0+this.a*r*n*Math.sin(i)/a,l=this.y0+this.a*r*(this.cos_p14*e-this.sin_p14*n*s)/a):(o=this.x0+this.infinity_dist*n*Math.sin(i),l=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*n*s)),t.x=o,t.y=l,t}function pA(t){var e,n,i,s,r,a;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(s=Math.atan2(e,this.rc),n=Math.sin(s),i=Math.cos(s),a=As(i*this.sin_p14+t.y*n*this.cos_p14/e),r=Math.atan2(t.x*n,e*this.cos_p14*i-t.y*this.sin_p14*n),r=re(this.long0+r)):(a=this.phic0,r=0),t.x=r,t.y=a,t}var xA=["gnom"];const bA={init:yA,forward:_A,inverse:pA,names:xA};function SA(t,e){var n=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-n)<1e-6)return e<0?-1*Y:Y;for(var i=Math.asin(.5*e),s,r,a,o,l=0;l<30;l++)if(r=Math.sin(i),a=Math.cos(i),o=t*r,s=Math.pow(1-o*o,2)/(2*a)*(e/(1-t*t)-r/(1-o*o)+.5/t*Math.log((1-o)/(1+o))),i+=s,Math.abs(s)<=1e-10)return i;return NaN}function EA(){this.sphere||(this.k0=Ti(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))}function CA(t){var e=t.x,n=t.y,i,s,r=re(e-this.long0);if(this.sphere)i=this.x0+this.a*r*Math.cos(this.lat_ts),s=this.y0+this.a*Math.sin(n)/Math.cos(this.lat_ts);else{var a=Cs(this.e,Math.sin(n));i=this.x0+this.a*this.k0*r,s=this.y0+this.a*a*.5/this.k0}return t.x=i,t.y=s,t}function wA(t){t.x-=this.x0,t.y-=this.y0;var e,n;return this.sphere?(e=re(this.long0+t.x/this.a/Math.cos(this.lat_ts)),n=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(n=SA(this.e,2*t.y*this.k0/this.a),e=re(this.long0+t.x/(this.a*this.k0))),t.x=e,t.y=n,t}var MA=["cea"];const TA={init:EA,forward:CA,inverse:wA,names:MA};function RA(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)}function IA(t){var e=t.x,n=t.y,i=re(e-this.long0),s=Ns(n-this.lat0);return t.x=this.x0+this.a*i*this.rc,t.y=this.y0+this.a*s,t}function AA(t){var e=t.x,n=t.y;return t.x=re(this.long0+(e-this.x0)/(this.a*this.rc)),t.y=Ns(this.lat0+(n-this.y0)/this.a),t}var PA=["Equirectangular","Equidistant_Cylindrical","eqc"];const LA={init:RA,forward:IA,inverse:AA,names:PA};var zv=20;function OA(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=ll(this.es),this.e1=cl(this.es),this.e2=ul(this.es),this.e3=hl(this.es),this.ml0=this.a*Zt(this.e0,this.e1,this.e2,this.e3,this.lat0)}function kA(t){var e=t.x,n=t.y,i,s,r,a=re(e-this.long0);if(r=a*Math.sin(n),this.sphere)Math.abs(n)<=se?(i=this.a*a,s=-1*this.a*this.lat0):(i=this.a*Math.sin(r)/Math.tan(n),s=this.a*(Ns(n-this.lat0)+(1-Math.cos(r))/Math.tan(n)));else if(Math.abs(n)<=se)i=this.a*a,s=-1*this.ml0;else{var o=ga(this.a,this.e,Math.sin(n))/Math.tan(n);i=o*Math.sin(r),s=this.a*Zt(this.e0,this.e1,this.e2,this.e3,n)-this.ml0+o*(1-Math.cos(r))}return t.x=i+this.x0,t.y=s+this.y0,t}function DA(t){var e,n,i,s,r,a,o,l,c;if(i=t.x-this.x0,s=t.y-this.y0,this.sphere)if(Math.abs(s+this.a*this.lat0)<=se)e=re(i/this.a+this.long0),n=0;else{a=this.lat0+s/this.a,o=i*i/this.a/this.a+a*a,l=a;var u;for(r=zv;r;--r)if(u=Math.tan(l),c=-1*(a*(l*u+1)-l-.5*(l*l+o)*u)/((l-a)/u-1),l+=c,Math.abs(c)<=se){n=l;break}e=re(this.long0+Math.asin(i*Math.tan(l)/this.a)/Math.sin(n))}else if(Math.abs(s+this.ml0)<=se)n=0,e=re(this.long0+i/this.a);else{a=(this.ml0+s)/this.a,o=i*i/this.a/this.a+a*a,l=a;var h,d,f,g,m;for(r=zv;r;--r)if(m=this.e*Math.sin(l),h=Math.sqrt(1-m*m)*Math.tan(l),d=this.a*Zt(this.e0,this.e1,this.e2,this.e3,l),f=this.e0-2*this.e1*Math.cos(2*l)+4*this.e2*Math.cos(4*l)-6*this.e3*Math.cos(6*l),g=d/this.a,c=(a*(h*g+1)-g-.5*h*(g*g+o))/(this.es*Math.sin(2*l)*(g*g+o-2*a*g)/(4*h)+(a-g)*(h*f-2/Math.sin(2*l))-f),l-=c,Math.abs(c)<=se){n=l;break}h=Math.sqrt(1-this.es*Math.pow(Math.sin(n),2))*Math.tan(n),e=re(this.long0+Math.asin(i*h/this.a)/Math.sin(n))}return t.x=e,t.y=n,t}var NA=["Polyconic","poly"];const FA={init:OA,forward:kA,inverse:DA,names:NA};function BA(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013}function VA(t){var e,n=t.x,i=t.y,s=i-this.lat0,r=n-this.long0,a=s/vo*1e-5,o=r,l=1,c=0;for(e=1;e<=10;e++)l=l*a,c=c+this.A[e]*l;var u=c,h=o,d=1,f=0,g,m,v=0,y=0;for(e=1;e<=6;e++)g=d*u-f*h,m=f*u+d*h,d=g,f=m,v=v+this.B_re[e]*d-this.B_im[e]*f,y=y+this.B_im[e]*d+this.B_re[e]*f;return t.x=y*this.a+this.x0,t.y=v*this.a+this.y0,t}function $A(t){var e,n=t.x,i=t.y,s=n-this.x0,r=i-this.y0,a=r/this.a,o=s/this.a,l=1,c=0,u,h,d=0,f=0;for(e=1;e<=6;e++)u=l*a-c*o,h=c*a+l*o,l=u,c=h,d=d+this.C_re[e]*l-this.C_im[e]*c,f=f+this.C_im[e]*l+this.C_re[e]*c;for(var g=0;g<this.iterations;g++){var m=d,v=f,y,_,p=a,x=o;for(e=2;e<=6;e++)y=m*d-v*f,_=v*d+m*f,m=y,v=_,p=p+(e-1)*(this.B_re[e]*m-this.B_im[e]*v),x=x+(e-1)*(this.B_im[e]*m+this.B_re[e]*v);m=1,v=0;var b=this.B_re[1],C=this.B_im[1];for(e=2;e<=6;e++)y=m*d-v*f,_=v*d+m*f,m=y,v=_,b=b+e*(this.B_re[e]*m-this.B_im[e]*v),C=C+e*(this.B_im[e]*m+this.B_re[e]*v);var M=b*b+C*C;d=(p*b+x*C)/M,f=(x*b-p*C)/M}var E=d,R=f,O=1,k=0;for(e=1;e<=9;e++)O=O*E,k=k+this.D[e]*O;var w=this.lat0+k*vo*1e5,A=this.long0+R;return t.x=A,t.y=w,t}var GA=["New_Zealand_Map_Grid","nzmg"];const zA={init:BA,forward:VA,inverse:$A,names:GA};function WA(){}function UA(t){var e=t.x,n=t.y,i=re(e-this.long0),s=this.x0+this.a*i,r=this.y0+this.a*Math.log(Math.tan(Math.PI/4+n/2.5))*1.25;return t.x=s,t.y=r,t}function jA(t){t.x-=this.x0,t.y-=this.y0;var e=re(this.long0+t.x/this.a),n=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=n,t}var HA=["Miller_Cylindrical","mill"];const XA={init:WA,forward:UA,inverse:jA,names:HA};var qA=20;function KA(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=jf(this.es)}function YA(t){var e,n,i=t.x,s=t.y;if(i=re(i-this.long0),this.sphere){if(!this.m)s=this.n!==1?Math.asin(this.n*Math.sin(s)):s;else for(var r=this.n*Math.sin(s),a=qA;a;--a){var o=(this.m*s+Math.sin(s)-r)/(this.m+Math.cos(s));if(s-=o,Math.abs(o)<se)break}e=this.a*this.C_x*i*(this.m+Math.cos(s)),n=this.a*this.C_y*s}else{var l=Math.sin(s),c=Math.cos(s);n=this.a*Ia(s,l,c,this.en),e=this.a*i*c/Math.sqrt(1-this.es*l*l)}return t.x=e,t.y=n,t}function ZA(t){var e,n,i,s;return t.x-=this.x0,i=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,i=i/(this.C_x*(this.m+Math.cos(e))),this.m?e=As((this.m*e+Math.sin(e))/this.n):this.n!==1&&(e=As(Math.sin(e)/this.n)),i=re(i+this.long0),e=Ns(e)):(e=Hf(t.y/this.a,this.es,this.en),s=Math.abs(e),s<Y?(s=Math.sin(e),n=this.long0+t.x*Math.sqrt(1-this.es*s*s)/(this.a*Math.cos(e)),i=re(n)):s-se<Y&&(i=this.long0)),t.x=i,t.y=e,t}var JA=["Sinusoidal","sinu"];const QA={init:KA,forward:YA,inverse:ZA,names:JA};function eP(){}function tP(t){for(var e=t.x,n=t.y,i=re(e-this.long0),s=n,r=Math.PI*Math.sin(n);;){var a=-(s+Math.sin(s)-r)/(1+Math.cos(s));if(s+=a,Math.abs(a)<se)break}s/=2,Math.PI/2-Math.abs(n)<se&&(i=0);var o=.900316316158*this.a*i*Math.cos(s)+this.x0,l=1.4142135623731*this.a*Math.sin(s)+this.y0;return t.x=o,t.y=l,t}function nP(t){var e,n;t.x-=this.x0,t.y-=this.y0,n=t.y/(1.4142135623731*this.a),Math.abs(n)>.999999999999&&(n=.999999999999),e=Math.asin(n);var i=re(this.long0+t.x/(.900316316158*this.a*Math.cos(e)));i<-Math.PI&&(i=-Math.PI),i>Math.PI&&(i=Math.PI),n=(2*e+Math.sin(2*e))/Math.PI,Math.abs(n)>1&&(n=1);var s=Math.asin(n);return t.x=i,t.y=s,t}var iP=["Mollweide","moll"];const sP={init:eP,forward:tP,inverse:nP,names:iP};function rP(){Math.abs(this.lat1+this.lat2)<se||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=ll(this.es),this.e1=cl(this.es),this.e2=ul(this.es),this.e3=hl(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=Ti(this.e,this.sinphi,this.cosphi),this.ml1=Zt(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<se?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=Ti(this.e,this.sinphi,this.cosphi),this.ml2=Zt(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=Zt(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))}function aP(t){var e=t.x,n=t.y,i;if(this.sphere)i=this.a*(this.g-n);else{var s=Zt(this.e0,this.e1,this.e2,this.e3,n);i=this.a*(this.g-s)}var r=this.ns*re(e-this.long0),a=this.x0+i*Math.sin(r),o=this.y0+this.rh-i*Math.cos(r);return t.x=a,t.y=o,t}function oP(t){t.x-=this.x0,t.y=this.rh-t.y+this.y0;var e,n,i,s;this.ns>=0?(n=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(n=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1);var r=0;if(n!==0&&(r=Math.atan2(e*t.x,e*t.y)),this.sphere)return s=re(this.long0+r/this.ns),i=Ns(this.g-n/this.a),t.x=s,t.y=i,t;var a=this.g-n/this.a;return i=$c(a,this.e0,this.e1,this.e2,this.e3),s=re(this.long0+r/this.ns),t.x=s,t.y=i,t}var lP=["Equidistant_Conic","eqdc"];const cP={init:rP,forward:aP,inverse:oP,names:lP};function uP(){this.R=this.a}function hP(t){var e=t.x,n=t.y,i=re(e-this.long0),s,r;Math.abs(n)<=se&&(s=this.x0+this.R*i,r=this.y0);var a=As(2*Math.abs(n/Math.PI));(Math.abs(i)<=se||Math.abs(Math.abs(n)-Y)<=se)&&(s=this.x0,n>=0?r=this.y0+Math.PI*this.R*Math.tan(.5*a):r=this.y0+Math.PI*this.R*-Math.tan(.5*a));var o=.5*Math.abs(Math.PI/i-i/Math.PI),l=o*o,c=Math.sin(a),u=Math.cos(a),h=u/(c+u-1),d=h*h,f=h*(2/c-1),g=f*f,m=Math.PI*this.R*(o*(h-g)+Math.sqrt(l*(h-g)*(h-g)-(g+l)*(d-g)))/(g+l);i<0&&(m=-m),s=this.x0+m;var v=l+h;return m=Math.PI*this.R*(f*v-o*Math.sqrt((g+l)*(l+1)-v*v))/(g+l),n>=0?r=this.y0+m:r=this.y0-m,t.x=s,t.y=r,t}function dP(t){var e,n,i,s,r,a,o,l,c,u,h,d,f;return t.x-=this.x0,t.y-=this.y0,h=Math.PI*this.R,i=t.x/h,s=t.y/h,r=i*i+s*s,a=-Math.abs(s)*(1+r),o=a-2*s*s+i*i,l=-2*a+1+2*s*s+r*r,f=s*s/l+(2*o*o*o/l/l/l-9*a*o/l/l)/27,c=(a-o*o/3/l)/l,u=2*Math.sqrt(-c/3),h=3*f/c/u,Math.abs(h)>1&&(h>=0?h=1:h=-1),d=Math.acos(h)/3,t.y>=0?n=(-u*Math.cos(d+Math.PI/3)-o/3/l)*Math.PI:n=-(-u*Math.cos(d+Math.PI/3)-o/3/l)*Math.PI,Math.abs(i)<se?e=this.long0:e=re(this.long0+Math.PI*(r-1+Math.sqrt(1+2*(i*i-s*s)+r*r))/2/i),t.x=e,t.y=n,t}var fP=["Van_der_Grinten_I","VanDerGrinten","vandg"];const gP={init:uP,forward:hP,inverse:dP,names:fP};function mP(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)}function vP(t){var e=t.x,n=t.y,i=Math.sin(t.y),s=Math.cos(t.y),r=re(e-this.long0),a,o,l,c,u,h,d,f,g,m,v,y,_,p,x,b,C,M,E,R,O,k,w;return this.sphere?Math.abs(this.sin_p12-1)<=se?(t.x=this.x0+this.a*(Y-n)*Math.sin(r),t.y=this.y0-this.a*(Y-n)*Math.cos(r),t):Math.abs(this.sin_p12+1)<=se?(t.x=this.x0+this.a*(Y+n)*Math.sin(r),t.y=this.y0+this.a*(Y+n)*Math.cos(r),t):(M=this.sin_p12*i+this.cos_p12*s*Math.cos(r),b=Math.acos(M),C=b?b/Math.sin(b):1,t.x=this.x0+this.a*C*s*Math.sin(r),t.y=this.y0+this.a*C*(this.cos_p12*i-this.sin_p12*s*Math.cos(r)),t):(a=ll(this.es),o=cl(this.es),l=ul(this.es),c=hl(this.es),Math.abs(this.sin_p12-1)<=se?(u=this.a*Zt(a,o,l,c,Y),h=this.a*Zt(a,o,l,c,n),t.x=this.x0+(u-h)*Math.sin(r),t.y=this.y0-(u-h)*Math.cos(r),t):Math.abs(this.sin_p12+1)<=se?(u=this.a*Zt(a,o,l,c,Y),h=this.a*Zt(a,o,l,c,n),t.x=this.x0+(u+h)*Math.sin(r),t.y=this.y0+(u+h)*Math.cos(r),t):(d=i/s,f=ga(this.a,this.e,this.sin_p12),g=ga(this.a,this.e,i),m=Math.atan((1-this.es)*d+this.es*f*this.sin_p12/(g*s)),v=Math.atan2(Math.sin(r),this.cos_p12*Math.tan(m)-this.sin_p12*Math.cos(r)),v===0?E=Math.asin(this.cos_p12*Math.sin(m)-this.sin_p12*Math.cos(m)):Math.abs(Math.abs(v)-Math.PI)<=se?E=-Math.asin(this.cos_p12*Math.sin(m)-this.sin_p12*Math.cos(m)):E=Math.asin(Math.sin(r)*Math.cos(m)/Math.sin(v)),y=this.e*this.sin_p12/Math.sqrt(1-this.es),_=this.e*this.cos_p12*Math.cos(v)/Math.sqrt(1-this.es),p=y*_,x=_*_,R=E*E,O=R*E,k=O*E,w=k*E,b=f*E*(1-R*x*(1-x)/6+O/8*p*(1-2*x)+k/120*(x*(4-7*x)-3*y*y*(1-7*x))-w/48*p),t.x=this.x0+b*Math.sin(v),t.y=this.y0+b*Math.cos(v),t))}function yP(t){t.x-=this.x0,t.y-=this.y0;var e,n,i,s,r,a,o,l,c,u,h,d,f,g,m,v,y,_,p,x,b,C,M,E;return this.sphere?(e=Math.sqrt(t.x*t.x+t.y*t.y),e>2*Y*this.a?void 0:(n=e/this.a,i=Math.sin(n),s=Math.cos(n),r=this.long0,Math.abs(e)<=se?a=this.lat0:(a=As(s*this.sin_p12+t.y*i*this.cos_p12/e),o=Math.abs(this.lat0)-Y,Math.abs(o)<=se?this.lat0>=0?r=re(this.long0+Math.atan2(t.x,-t.y)):r=re(this.long0-Math.atan2(-t.x,t.y)):r=re(this.long0+Math.atan2(t.x*i,e*this.cos_p12*s-t.y*this.sin_p12*i))),t.x=r,t.y=a,t)):(l=ll(this.es),c=cl(this.es),u=ul(this.es),h=hl(this.es),Math.abs(this.sin_p12-1)<=se?(d=this.a*Zt(l,c,u,h,Y),e=Math.sqrt(t.x*t.x+t.y*t.y),f=d-e,a=$c(f/this.a,l,c,u,h),r=re(this.long0+Math.atan2(t.x,-1*t.y)),t.x=r,t.y=a,t):Math.abs(this.sin_p12+1)<=se?(d=this.a*Zt(l,c,u,h,Y),e=Math.sqrt(t.x*t.x+t.y*t.y),f=e-d,a=$c(f/this.a,l,c,u,h),r=re(this.long0+Math.atan2(t.x,t.y)),t.x=r,t.y=a,t):(e=Math.sqrt(t.x*t.x+t.y*t.y),v=Math.atan2(t.x,t.y),g=ga(this.a,this.e,this.sin_p12),y=Math.cos(v),_=this.e*this.cos_p12*y,p=-_*_/(1-this.es),x=3*this.es*(1-p)*this.sin_p12*this.cos_p12*y/(1-this.es),b=e/g,C=b-p*(1+p)*Math.pow(b,3)/6-x*(1+3*p)*Math.pow(b,4)/24,M=1-p*C*C/2-b*C*C*C/6,m=Math.asin(this.sin_p12*Math.cos(C)+this.cos_p12*Math.sin(C)*y),r=re(this.long0+Math.asin(Math.sin(v)*Math.sin(C)/Math.cos(m))),E=Math.sin(m),a=Math.atan2((E-this.es*M*this.sin_p12)*Math.tan(m),E*(1-this.es)),t.x=r,t.y=a,t))}var _P=["Azimuthal_Equidistant","aeqd"];const pP={init:mP,forward:vP,inverse:yP,names:_P};function xP(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)}function bP(t){var e,n,i,s,r,a,o,l,c=t.x,u=t.y;return i=re(c-this.long0),e=Math.sin(u),n=Math.cos(u),s=Math.cos(i),a=this.sin_p14*e+this.cos_p14*n*s,r=1,(a>0||Math.abs(a)<=se)&&(o=this.a*r*n*Math.sin(i),l=this.y0+this.a*r*(this.cos_p14*e-this.sin_p14*n*s)),t.x=o,t.y=l,t}function SP(t){var e,n,i,s,r,a,o;return t.x-=this.x0,t.y-=this.y0,e=Math.sqrt(t.x*t.x+t.y*t.y),n=As(e/this.a),i=Math.sin(n),s=Math.cos(n),a=this.long0,Math.abs(e)<=se?(o=this.lat0,t.x=a,t.y=o,t):(o=As(s*this.sin_p14+t.y*i*this.cos_p14/e),r=Math.abs(this.lat0)-Y,Math.abs(r)<=se?(this.lat0>=0?a=re(this.long0+Math.atan2(t.x,-t.y)):a=re(this.long0-Math.atan2(-t.x,t.y)),t.x=a,t.y=o,t):(a=re(this.long0+Math.atan2(t.x*i,e*this.cos_p14*s-t.y*this.sin_p14*i)),t.x=a,t.y=o,t))}var EP=["ortho"];const CP={init:xP,forward:bP,inverse:SP,names:EP};var ht={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},Ye={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function wP(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=Y-Ke/2?this.face=ht.TOP:this.lat0<=-(Y-Ke/2)?this.face=ht.BOTTOM:Math.abs(this.long0)<=Ke?this.face=ht.FRONT:Math.abs(this.long0)<=Y+Ke?this.face=this.long0>0?ht.RIGHT:ht.LEFT:this.face=ht.BACK,this.es!==0&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)}function MP(t){var e={x:0,y:0},n,i,s,r,a,o,l={value:0};if(t.x-=this.long0,this.es!==0?n=Math.atan(this.one_minus_f_squared*Math.tan(t.y)):n=t.y,i=t.x,this.face===ht.TOP)r=Y-n,i>=Ke&&i<=Y+Ke?(l.value=Ye.AREA_0,s=i-Y):i>Y+Ke||i<=-(Y+Ke)?(l.value=Ye.AREA_1,s=i>0?i-At:i+At):i>-(Y+Ke)&&i<=-Ke?(l.value=Ye.AREA_2,s=i+Y):(l.value=Ye.AREA_3,s=i);else if(this.face===ht.BOTTOM)r=Y+n,i>=Ke&&i<=Y+Ke?(l.value=Ye.AREA_0,s=-i+Y):i<Ke&&i>=-Ke?(l.value=Ye.AREA_1,s=-i):i<-Ke&&i>=-(Y+Ke)?(l.value=Ye.AREA_2,s=-i-Y):(l.value=Ye.AREA_3,s=i>0?-i+At:-i-At);else{var c,u,h,d,f,g,m;this.face===ht.RIGHT?i=ra(i,+Y):this.face===ht.BACK?i=ra(i,3.14159265359):this.face===ht.LEFT&&(i=ra(i,-Y)),d=Math.sin(n),f=Math.cos(n),g=Math.sin(i),m=Math.cos(i),c=f*m,u=f*g,h=d,this.face===ht.FRONT?(r=Math.acos(c),s=Gl(r,h,u,l)):this.face===ht.RIGHT?(r=Math.acos(u),s=Gl(r,h,-c,l)):this.face===ht.BACK?(r=Math.acos(-c),s=Gl(r,h,-u,l)):this.face===ht.LEFT?(r=Math.acos(-u),s=Gl(r,h,c,l)):(r=s=0,l.value=Ye.AREA_0)}return o=Math.atan(12/At*(s+Math.acos(Math.sin(s)*Math.cos(Ke))-Y)),a=Math.sqrt((1-Math.cos(r))/(Math.cos(o)*Math.cos(o))/(1-Math.cos(Math.atan(1/Math.cos(s))))),l.value===Ye.AREA_1?o+=Y:l.value===Ye.AREA_2?o+=At:l.value===Ye.AREA_3&&(o+=1.5*At),e.x=a*Math.cos(o),e.y=a*Math.sin(o),e.x=e.x*this.a+this.x0,e.y=e.y*this.a+this.y0,t.x=e.x,t.y=e.y,t}function TP(t){var e={lam:0,phi:0},n,i,s,r,a,o,l,c,u,h={value:0};if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,i=Math.atan(Math.sqrt(t.x*t.x+t.y*t.y)),n=Math.atan2(t.y,t.x),t.x>=0&&t.x>=Math.abs(t.y)?h.value=Ye.AREA_0:t.y>=0&&t.y>=Math.abs(t.x)?(h.value=Ye.AREA_1,n-=Y):t.x<0&&-t.x>=Math.abs(t.y)?(h.value=Ye.AREA_2,n=n<0?n+At:n-At):(h.value=Ye.AREA_3,n+=Y),u=At/12*Math.tan(n),a=Math.sin(u)/(Math.cos(u)-1/Math.sqrt(2)),o=Math.atan(a),s=Math.cos(n),r=Math.tan(i),l=1-s*s*r*r*(1-Math.cos(Math.atan(1/Math.cos(o)))),l<-1?l=-1:l>1&&(l=1),this.face===ht.TOP)c=Math.acos(l),e.phi=Y-c,h.value===Ye.AREA_0?e.lam=o+Y:h.value===Ye.AREA_1?e.lam=o<0?o+At:o-At:h.value===Ye.AREA_2?e.lam=o-Y:e.lam=o;else if(this.face===ht.BOTTOM)c=Math.acos(l),e.phi=c-Y,h.value===Ye.AREA_0?e.lam=-o+Y:h.value===Ye.AREA_1?e.lam=-o:h.value===Ye.AREA_2?e.lam=-o-Y:e.lam=o<0?-o-At:-o+At;else{var d,f,g;d=l,u=d*d,u>=1?g=0:g=Math.sqrt(1-u)*Math.sin(o),u+=g*g,u>=1?f=0:f=Math.sqrt(1-u),h.value===Ye.AREA_1?(u=f,f=-g,g=u):h.value===Ye.AREA_2?(f=-f,g=-g):h.value===Ye.AREA_3&&(u=f,f=g,g=-u),this.face===ht.RIGHT?(u=d,d=-f,f=u):this.face===ht.BACK?(d=-d,f=-f):this.face===ht.LEFT&&(u=d,d=f,f=-u),e.phi=Math.acos(-g)-Y,e.lam=Math.atan2(f,d),this.face===ht.RIGHT?e.lam=ra(e.lam,-Y):this.face===ht.BACK?e.lam=ra(e.lam,-3.14159265359):this.face===ht.LEFT&&(e.lam=ra(e.lam,+Y))}if(this.es!==0){var m,v,y;m=e.phi<0?1:0,v=Math.tan(e.phi),y=this.b/Math.sqrt(v*v+this.one_minus_f_squared),e.phi=Math.atan(Math.sqrt(this.a*this.a-y*y)/(this.one_minus_f*y)),m&&(e.phi=-e.phi)}return e.lam+=this.long0,t.x=e.lam,t.y=e.phi,t}function Gl(t,e,n,i){var s;return t<se?(i.value=Ye.AREA_0,s=0):(s=Math.atan2(e,n),Math.abs(s)<=Ke?i.value=Ye.AREA_0:s>Ke&&s<=Y+Ke?(i.value=Ye.AREA_1,s-=Y):s>Y+Ke||s<=-(Y+Ke)?(i.value=Ye.AREA_2,s=s>=0?s-At:s+At):(i.value=Ye.AREA_3,s+=Y)),s}function ra(t,e){var n=t+e;return n<-3.14159265359?n+=Do:n>3.14159265359&&(n-=Do),n}var RP=["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"];const IP={init:wP,forward:MP,inverse:TP,names:RP};var Rd=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-986701e-12],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,18736e-12],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,934959e-12],[.7986,-.00755338,-500009e-10,935324e-12],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],Qa=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-126793e-14,422642e-15],[.124,.0124,507171e-14,-160604e-14],[.186,.0123999,-190189e-13,600152e-14],[.248,.0124002,710039e-13,-224e-10],[.31,.0123992,-264997e-12,835986e-13],[.372,.0124029,988983e-12,-311994e-12],[.434,.0123893,-369093e-11,-435621e-12],[.4958,.0123198,-102252e-10,-345523e-12],[.5571,.0121916,-154081e-10,-582288e-12],[.6176,.0119938,-241424e-10,-525327e-12],[.6769,.011713,-320223e-10,-516405e-12],[.7346,.0113541,-397684e-10,-609052e-12],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-140374e-14],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],f1=.8487,g1=1.3523,m1=pi/5,AP=1/m1,Yr=18,Gc=function(t,e){return t[0]+e*(t[1]+e*(t[2]+e*t[3]))},PP=function(t,e){return t[1]+e*(2*t[2]+e*3*t[3])};function LP(t,e,n,i){for(var s=e;i;--i){var r=t(s);if(s-=r,Math.abs(r)<n)break}return s}function OP(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"}function kP(t){var e=re(t.x-this.long0),n=Math.abs(t.y),i=Math.floor(n*m1);i<0?i=0:i>=Yr&&(i=Yr-1),n=pi*(n-AP*i);var s={x:Gc(Rd[i],n)*e,y:Gc(Qa[i],n)};return t.y<0&&(s.y=-s.y),s.x=s.x*this.a*f1+this.x0,s.y=s.y*this.a*g1+this.y0,s}function DP(t){var e={x:(t.x-this.x0)/(this.a*f1),y:Math.abs(t.y-this.y0)/(this.a*g1)};if(e.y>=1)e.x/=Rd[Yr][0],e.y=t.y<0?-Y:Y;else{var n=Math.floor(e.y*Yr);for(n<0?n=0:n>=Yr&&(n=Yr-1);;)if(Qa[n][0]>e.y)--n;else if(Qa[n+1][0]<=e.y)++n;else break;var i=Qa[n],s=5*(e.y-i[0])/(Qa[n+1][0]-i[0]);s=LP(function(r){return(Gc(i,r)-e.y)/PP(i,r)},s,se,100),e.x/=Gc(Rd[n],s),e.y=(5*n+s)*It,t.y<0&&(e.y=-e.y)}return e.x=re(e.x+this.long0),e}var NP=["Robinson","robin"];const FP={init:OP,forward:kP,inverse:DP,names:NP};function BP(){this.name="geocent"}function VP(t){var e=n1(t,this.es,this.a);return e}function $P(t){var e=i1(t,this.es,this.a,this.b);return e}var GP=["Geocentric","geocentric","geocent","Geocent"];const zP={init:BP,forward:VP,inverse:$P,names:GP};var Ft={N_POLE:0,S_POLE:1,EQUIT:2,OBLIQ:3},Wa={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};function WP(){if(Object.keys(Wa).forEach((function(n){if(typeof this[n]>"u")this[n]=Wa[n].def;else{if(Wa[n].num&&isNaN(this[n]))throw new Error("Invalid parameter value, must be numeric "+n+" = "+this[n]);Wa[n].num&&(this[n]=parseFloat(this[n]))}Wa[n].degrees&&(this[n]=this[n]*It)}).bind(this)),Math.abs(Math.abs(this.lat0)-Y)<se?this.mode=this.lat0<0?Ft.S_POLE:Ft.N_POLE:Math.abs(this.lat0)<se?this.mode=Ft.EQUIT:(this.mode=Ft.OBLIQ,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var t=this.tilt,e=this.azi;this.cg=Math.cos(e),this.sg=Math.sin(e),this.cw=Math.cos(t),this.sw=Math.sin(t)}function UP(t){t.x-=this.long0;var e=Math.sin(t.y),n=Math.cos(t.y),i=Math.cos(t.x),s,r;switch(this.mode){case Ft.OBLIQ:r=this.sinph0*e+this.cosph0*n*i;break;case Ft.EQUIT:r=n*i;break;case Ft.S_POLE:r=-e;break;case Ft.N_POLE:r=e;break}switch(r=this.pn1/(this.p-r),s=r*n*Math.sin(t.x),this.mode){case Ft.OBLIQ:r*=this.cosph0*e-this.sinph0*n*i;break;case Ft.EQUIT:r*=e;break;case Ft.N_POLE:r*=-(n*i);break;case Ft.S_POLE:r*=n*i;break}var a,o;return a=r*this.cg+s*this.sg,o=1/(a*this.sw*this.h1+this.cw),s=(s*this.cg-r*this.sg)*this.cw*o,r=a*o,t.x=s*this.a,t.y=r*this.a,t}function jP(t){t.x/=this.a,t.y/=this.a;var e={x:t.x,y:t.y},n,i,s;s=1/(this.pn1-t.y*this.sw),n=this.pn1*t.x*s,i=this.pn1*t.y*this.cw*s,t.x=n*this.cg+i*this.sg,t.y=i*this.cg-n*this.sg;var r=fn(t.x,t.y);if(Math.abs(r)<se)e.x=0,e.y=t.y;else{var a,o;switch(o=1-r*r*this.pfact,o=(this.p-Math.sqrt(o))/(this.pn1/r+r/this.pn1),a=Math.sqrt(1-o*o),this.mode){case Ft.OBLIQ:e.y=Math.asin(a*this.sinph0+t.y*o*this.cosph0/r),t.y=(a-this.sinph0*Math.sin(e.y))*r,t.x*=o*this.cosph0;break;case Ft.EQUIT:e.y=Math.asin(t.y*o/r),t.y=a*r,t.x*=o;break;case Ft.N_POLE:e.y=Math.asin(a),t.y=-t.y;break;case Ft.S_POLE:e.y=-Math.asin(a);break}e.x=Math.atan2(t.x,t.y)}return t.x=e.x+this.long0,t.y=e.y,t}var HP=["Tilted_Perspective","tpers"];const XP={init:WP,forward:UP,inverse:jP,names:HP};function qP(){if(this.flip_axis=this.sweep==="x"?1:0,this.h=Number(this.h),this.radius_g_1=this.h/this.a,this.radius_g_1<=0||this.radius_g_1>1e10)throw new Error;if(this.radius_g=1+this.radius_g_1,this.C=this.radius_g*this.radius_g-1,this.es!==0){var t=1-this.es,e=1/t;this.radius_p=Math.sqrt(t),this.radius_p2=t,this.radius_p_inv2=e,this.shape="ellipse"}else this.radius_p=1,this.radius_p2=1,this.radius_p_inv2=1,this.shape="sphere";this.title||(this.title="Geostationary Satellite View")}function KP(t){var e=t.x,n=t.y,i,s,r,a;if(e=e-this.long0,this.shape==="ellipse"){n=Math.atan(this.radius_p2*Math.tan(n));var o=this.radius_p/fn(this.radius_p*Math.cos(n),Math.sin(n));if(s=o*Math.cos(e)*Math.cos(n),r=o*Math.sin(e)*Math.cos(n),a=o*Math.sin(n),(this.radius_g-s)*s-r*r-a*a*this.radius_p_inv2<0)return t.x=Number.NaN,t.y=Number.NaN,t;i=this.radius_g-s,this.flip_axis?(t.x=this.radius_g_1*Math.atan(r/fn(a,i)),t.y=this.radius_g_1*Math.atan(a/i)):(t.x=this.radius_g_1*Math.atan(r/i),t.y=this.radius_g_1*Math.atan(a/fn(r,i)))}else this.shape==="sphere"&&(i=Math.cos(n),s=Math.cos(e)*i,r=Math.sin(e)*i,a=Math.sin(n),i=this.radius_g-s,this.flip_axis?(t.x=this.radius_g_1*Math.atan(r/fn(a,i)),t.y=this.radius_g_1*Math.atan(a/i)):(t.x=this.radius_g_1*Math.atan(r/i),t.y=this.radius_g_1*Math.atan(a/fn(r,i))));return t.x=t.x*this.a,t.y=t.y*this.a,t}function YP(t){var e=-1,n=0,i=0,s,r,a,o;if(t.x=t.x/this.a,t.y=t.y/this.a,this.shape==="ellipse"){this.flip_axis?(i=Math.tan(t.y/this.radius_g_1),n=Math.tan(t.x/this.radius_g_1)*fn(1,i)):(n=Math.tan(t.x/this.radius_g_1),i=Math.tan(t.y/this.radius_g_1)*fn(1,n));var l=i/this.radius_p;if(s=n*n+l*l+e*e,r=2*this.radius_g*e,a=r*r-4*s*this.C,a<0)return t.x=Number.NaN,t.y=Number.NaN,t;o=(-r-Math.sqrt(a))/(2*s),e=this.radius_g+o*e,n*=o,i*=o,t.x=Math.atan2(n,e),t.y=Math.atan(i*Math.cos(t.x)/e),t.y=Math.atan(this.radius_p_inv2*Math.tan(t.y))}else if(this.shape==="sphere"){if(this.flip_axis?(i=Math.tan(t.y/this.radius_g_1),n=Math.tan(t.x/this.radius_g_1)*Math.sqrt(1+i*i)):(n=Math.tan(t.x/this.radius_g_1),i=Math.tan(t.y/this.radius_g_1)*Math.sqrt(1+n*n)),s=n*n+i*i+e*e,r=2*this.radius_g*e,a=r*r-4*s*this.C,a<0)return t.x=Number.NaN,t.y=Number.NaN,t;o=(-r-Math.sqrt(a))/(2*s),e=this.radius_g+o*e,n*=o,i*=o,t.x=Math.atan2(n,e),t.y=Math.atan(i*Math.cos(t.x)/e)}return t.x=t.x+this.long0,t}var ZP=["Geostationary Satellite View","Geostationary_Satellite","geos"];const JP={init:qP,forward:KP,inverse:YP,names:ZP};var yo=1.340264,_o=-.081106,po=893e-6,xo=.003796,zc=Math.sqrt(3)/2;function QP(){this.es=0,this.long0=this.long0!==void 0?this.long0:0}function eL(t){var e=re(t.x-this.long0),n=t.y,i=Math.asin(zc*Math.sin(n)),s=i*i,r=s*s*s;return t.x=e*Math.cos(i)/(zc*(yo+3*_o*s+r*(7*po+9*xo*s))),t.y=i*(yo+_o*s+r*(po+xo*s)),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t}function tL(t){t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a;var e=1e-9,n=12,i=t.y,s,r,a,o,l,c;for(c=0;c<n&&(s=i*i,r=s*s*s,a=i*(yo+_o*s+r*(po+xo*s))-t.y,o=yo+3*_o*s+r*(7*po+9*xo*s),i-=l=a/o,!(Math.abs(l)<e));++c);return s=i*i,r=s*s*s,t.x=zc*t.x*(yo+3*_o*s+r*(7*po+9*xo*s))/Math.cos(i),t.y=Math.asin(Math.sin(i)/zc),t.x=re(t.x+this.long0),t}var nL=["eqearth","Equal Earth","Equal_Earth"];const iL={init:QP,forward:eL,inverse:tL,names:nL};var Bo=1e-10;function sL(){var t;if(this.phi1=this.lat1,Math.abs(this.phi1)<Bo)throw new Error;this.es?(this.en=jf(this.es),this.m1=Ia(this.phi1,this.am1=Math.sin(this.phi1),t=Math.cos(this.phi1),this.en),this.am1=t/(Math.sqrt(1-this.es*this.am1*this.am1)*this.am1),this.inverse=aL,this.forward=rL):(Math.abs(this.phi1)+Bo>=Y?this.cphi1=0:this.cphi1=1/Math.tan(this.phi1),this.inverse=lL,this.forward=oL)}function rL(t){var e=re(t.x-(this.long0||0)),n=t.y,i,s,r;return i=this.am1+this.m1-Ia(n,s=Math.sin(n),r=Math.cos(n),this.en),s=r*e/(i*Math.sqrt(1-this.es*s*s)),t.x=i*Math.sin(s),t.y=this.am1-i*Math.cos(s),t.x=this.a*t.x+(this.x0||0),t.y=this.a*t.y+(this.y0||0),t}function aL(t){t.x=(t.x-(this.x0||0))/this.a,t.y=(t.y-(this.y0||0))/this.a;var e,n,i,s;if(n=fn(t.x,t.y=this.am1-t.y),s=Hf(this.am1+this.m1-n,this.es,this.en),(e=Math.abs(s))<Y)e=Math.sin(s),i=n*Math.atan2(t.x,t.y)*Math.sqrt(1-this.es*e*e)/Math.cos(s);else if(Math.abs(e-Y)<=Bo)i=0;else throw new Error;return t.x=re(i+(this.long0||0)),t.y=Ns(s),t}function oL(t){var e=re(t.x-(this.long0||0)),n=t.y,i,s;return s=this.cphi1+this.phi1-n,Math.abs(s)>Bo?(t.x=s*Math.sin(i=e*Math.cos(n)/s),t.y=this.cphi1-s*Math.cos(i)):t.x=t.y=0,t.x=this.a*t.x+(this.x0||0),t.y=this.a*t.y+(this.y0||0),t}function lL(t){t.x=(t.x-(this.x0||0))/this.a,t.y=(t.y-(this.y0||0))/this.a;var e,n,i=fn(t.x,t.y=this.cphi1-t.y);if(n=this.cphi1+this.phi1-i,Math.abs(n)>Y)throw new Error;return Math.abs(Math.abs(n)-Y)<=Bo?e=0:e=i*Math.atan2(t.x,t.y)/Math.cos(n),t.x=re(e+(this.long0||0)),t.y=Ns(n),t}var cL=["bonne","Bonne (Werner lat_1=90)"];const uL={init:sL,names:cL};function hL(t){t.Proj.projections.add(dc),t.Proj.projections.add(fc),t.Proj.projections.add(a2),t.Proj.projections.add(m2),t.Proj.projections.add(b2),t.Proj.projections.add(M2),t.Proj.projections.add(L2),t.Proj.projections.add(F2),t.Proj.projections.add(z2),t.Proj.projections.add(X2),t.Proj.projections.add(uA),t.Proj.projections.add(vA),t.Proj.projections.add(bA),t.Proj.projections.add(TA),t.Proj.projections.add(LA),t.Proj.projections.add(FA),t.Proj.projections.add(zA),t.Proj.projections.add(XA),t.Proj.projections.add(QA),t.Proj.projections.add(sP),t.Proj.projections.add(cP),t.Proj.projections.add(gP),t.Proj.projections.add(pP),t.Proj.projections.add(CP),t.Proj.projections.add(IP),t.Proj.projections.add(FP),t.Proj.projections.add(zP),t.Proj.projections.add(XP),t.Proj.projections.add(JP),t.Proj.projections.add(iL),t.Proj.projections.add(uL)}en.defaultDatum="WGS84";en.Proj=Ci;en.WGS84=new en.Proj("WGS84");en.Point=fa;en.toPoint=s1;en.defs=Ht;en.nadgrid=lI;en.transform=Vc;en.mgrs=CI;en.version="__VERSION__";hL(en);const ln={ADD:"add",REMOVE:"remove"},ma={PROPERTYCHANGE:"propertychange"},Ie={CHANGE:"change",ERROR:"error",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",TOUCHMOVE:"touchmove",WHEEL:"wheel"};class Ru{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}function dL(t,e,n){let i,s;n=n||Hi;let r=0,a=t.length,o=!1;for(;r<a;)i=r+(a-r>>1),s=+n(t[i],e),s<0?r=i+1:(a=i,o=!s);return o?r:~r}function Hi(t,e){return t>e?1:t<e?-1:0}function fL(t,e){return t<e?1:t>e?-1:0}function Yf(t,e,n){if(t[0]<=e)return 0;const i=t.length;if(e<=t[i-1])return i-1;if(typeof n=="function"){for(let s=1;s<i;++s){const r=t[s];if(r===e)return s;if(r<e)return n(e,t[s-1],r)>0?s-1:s}return i-1}if(n>0){for(let s=1;s<i;++s)if(t[s]<e)return s-1;return i-1}if(n<0){for(let s=1;s<i;++s)if(t[s]<=e)return s;return i-1}for(let s=1;s<i;++s){if(t[s]==e)return s;if(t[s]<e)return t[s-1]-e<e-t[s]?s-1:s}return i-1}function gL(t,e,n){for(;e<n;){const i=t[e];t[e]=t[n],t[n]=i,++e,--n}}function Iu(t,e){const n=Array.isArray(e)?e:[e],i=n.length;for(let s=0;s<i;s++)t[t.length]=n[s]}function Fs(t,e){const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}function mL(t,e,n){const i=e||Hi;return t.every(function(s,r){if(r===0)return!0;const a=i(t[r-1],s);return!(a>0||a===0)})}function Vo(){return!0}function Au(){return!1}function $o(){}function v1(t){let e,n,i;return function(){const s=Array.prototype.slice.call(arguments);return(!n||this!==i||!Fs(s,n))&&(i=this,n=s,e=t.apply(this,arguments)),e}}function vL(t){function e(){let n;try{n=t()}catch(i){return Promise.reject(i)}return n instanceof Promise?n:Promise.resolve(n)}return e()}function dl(t){for(const e in t)delete t[e]}function va(t){let e;for(e in t)return!1;return!e}class ns{constructor(e){this.propagationStopped,this.defaultPrevented,this.type=e,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}class Pu extends Ru{constructor(e){super(),this.eventTarget_=e,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(e,n){if(!e||!n)return;const i=this.listeners_||(this.listeners_={}),s=i[e]||(i[e]=[]);s.includes(n)||s.push(n)}dispatchEvent(e){const n=typeof e=="string",i=n?e:e.type,s=this.listeners_&&this.listeners_[i];if(!s)return;const r=n?new ns(e):e;r.target||(r.target=this.eventTarget_||this);const a=this.dispatching_||(this.dispatching_={}),o=this.pendingRemovals_||(this.pendingRemovals_={});i in a||(a[i]=0,o[i]=0),++a[i];let l;for(let c=0,u=s.length;c<u;++c)if("handleEvent"in s[c]?l=s[c].handleEvent(r):l=s[c].call(this,r),l===!1||r.propagationStopped){l=!1;break}if(--a[i]===0){let c=o[i];for(delete o[i];c--;)this.removeEventListener(i,$o);delete a[i]}return l}disposeInternal(){this.listeners_&&dl(this.listeners_)}getListeners(e){return this.listeners_&&this.listeners_[e]||void 0}hasListener(e){return this.listeners_?e?e in this.listeners_:Object.keys(this.listeners_).length>0:!1}removeEventListener(e,n){if(!this.listeners_)return;const i=this.listeners_[e];if(!i)return;const s=i.indexOf(n);s!==-1&&(this.pendingRemovals_&&e in this.pendingRemovals_?(i[s]=$o,++this.pendingRemovals_[e]):(i.splice(s,1),i.length===0&&delete this.listeners_[e]))}}function $e(t,e,n,i,s){if(s){const a=n;n=function(o){return t.removeEventListener(e,n),a.call(i??this,o)}}else i&&i!==t&&(n=n.bind(i));const r={target:t,type:e,listener:n};return t.addEventListener(e,n),r}function Wc(t,e,n,i){return $e(t,e,n,i,!0)}function lt(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),dl(t))}class Aa extends Pu{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(Ie.CHANGE)}getRevision(){return this.revision_}onInternal(e,n){if(Array.isArray(e)){const i=e.length,s=new Array(i);for(let r=0;r<i;++r)s[r]=$e(this,e[r],n);return s}return $e(this,e,n)}onceInternal(e,n){let i;if(Array.isArray(e)){const s=e.length;i=new Array(s);for(let r=0;r<s;++r)i[r]=Wc(this,e[r],n)}else i=Wc(this,e,n);return n.ol_key=i,i}unInternal(e,n){const i=n.ol_key;if(i)y1(i);else if(Array.isArray(e))for(let s=0,r=e.length;s<r;++s)this.removeEventListener(e[s],n);else this.removeEventListener(e,n)}}Aa.prototype.on;Aa.prototype.once;Aa.prototype.un;function y1(t){if(Array.isArray(t))for(let e=0,n=t.length;e<n;++e)lt(t[e]);else lt(t)}const yL=Object.freeze(Object.defineProperty({__proto__:null,default:Aa,unByKey:y1},Symbol.toStringTag,{value:"Module"}));function Ve(){throw new Error("Unimplemented abstract method.")}let _L=0;function He(t){return t.ol_uid||(t.ol_uid=String(++_L))}class Wv extends ns{constructor(e,n,i){super(e),this.key=n,this.oldValue=i}}class Ii extends Aa{constructor(e){super(),this.on,this.once,this.un,He(this),this.values_=null,e!==void 0&&this.setProperties(e)}get(e){let n;return this.values_&&this.values_.hasOwnProperty(e)&&(n=this.values_[e]),n}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(e,n){let i;i=`change:${e}`,this.hasListener(i)&&this.dispatchEvent(new Wv(i,e,n)),i=ma.PROPERTYCHANGE,this.hasListener(i)&&this.dispatchEvent(new Wv(i,e,n))}addChangeListener(e,n){this.addEventListener(`change:${e}`,n)}removeChangeListener(e,n){this.removeEventListener(`change:${e}`,n)}set(e,n,i){const s=this.values_||(this.values_={});if(i)s[e]=n;else{const r=s[e];s[e]=n,r!==n&&this.notify(e,r)}}setProperties(e,n){for(const i in e)this.set(i,e[i],n)}applyProperties(e){e.values_&&Object.assign(this.values_||(this.values_={}),e.values_)}unset(e,n){if(this.values_&&e in this.values_){const i=this.values_[e];delete this.values_[e],va(this.values_)&&(this.values_=null),n||this.notify(e,i)}}}const Uv={LENGTH:"length"};class zl extends ns{constructor(e,n,i){super(e),this.element=n,this.index=i}}class xi extends Ii{constructor(e,n){if(super(),this.on,this.once,this.un,n=n||{},this.unique_=!!n.unique,this.array_=e||[],this.unique_)for(let i=0,s=this.array_.length;i<s;++i)this.assertUnique_(this.array_[i],i);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(e){for(let n=0,i=e.length;n<i;++n)this.push(e[n]);return this}forEach(e){const n=this.array_;for(let i=0,s=n.length;i<s;++i)e(n[i],i,n)}getArray(){return this.array_}item(e){return this.array_[e]}getLength(){return this.get(Uv.LENGTH)}insertAt(e,n){if(e<0||e>this.getLength())throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(n),this.array_.splice(e,0,n),this.updateLength_(),this.dispatchEvent(new zl(ln.ADD,n,e))}pop(){return this.removeAt(this.getLength()-1)}push(e){this.unique_&&this.assertUnique_(e);const n=this.getLength();return this.insertAt(n,e),this.getLength()}remove(e){const n=this.array_;for(let i=0,s=n.length;i<s;++i)if(n[i]===e)return this.removeAt(i)}removeAt(e){if(e<0||e>=this.getLength())return;const n=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new zl(ln.REMOVE,n,e)),n}setAt(e,n){const i=this.getLength();if(e>=i){this.insertAt(e,n);return}if(e<0)throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(n,e);const s=this.array_[e];this.array_[e]=n,this.dispatchEvent(new zl(ln.REMOVE,s,e)),this.dispatchEvent(new zl(ln.ADD,n,e))}updateLength_(){this.set(Uv.LENGTH,this.array_.length)}assertUnique_(e,n){for(let i=0,s=this.array_.length;i<s;++i)if(this.array_[i]===e&&i!==n)throw new Error("Duplicate item added to a unique collection")}}class Gr extends ns{constructor(e,n,i){super(e),this.map=n,this.frameState=i!==void 0?i:null}}class gs extends Gr{constructor(e,n,i,s,r,a){super(e,n,r),this.originalEvent=i,this.pixel_=null,this.coordinate_=null,this.dragging=s!==void 0?s:!1,this.activePointers=a}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(e){this.pixel_=e}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(e){this.coordinate_=e}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}}const ft={SINGLECLICK:"singleclick",CLICK:Ie.CLICK,DBLCLICK:Ie.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},yr=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"",pL=yr.includes("safari")&&!yr.includes("chrom");pL&&(yr.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(yr));const xL=yr.includes("webkit")&&!yr.includes("edge"),_1=yr.includes("macintosh"),bL=typeof devicePixelRatio<"u"?devicePixelRatio:1,p1=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,x1=typeof Image<"u"&&Image.prototype.decode,b1=function(){let t=!1;try{const e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch{}return t}(),Id={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown"};class SL extends Pu{constructor(e,n){super(e),this.map_=e,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=n===void 0?1:n,this.down_=null;const i=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=i,this.pointerdownListenerKey_=$e(i,Id.POINTERDOWN,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=$e(i,Id.POINTERMOVE,this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(Ie.TOUCHMOVE,this.boundHandleTouchMove_,b1?{passive:!1}:!1)}emulateClick_(e){let n=new gs(ft.CLICK,this.map_,e);this.dispatchEvent(n),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,n=new gs(ft.DBLCLICK,this.map_,e),this.dispatchEvent(n)):this.clickTimeoutId_=setTimeout(()=>{this.clickTimeoutId_=void 0;const i=new gs(ft.SINGLECLICK,this.map_,e);this.dispatchEvent(i)},250)}updateActivePointers_(e){const n=e,i=n.pointerId;if(n.type==ft.POINTERUP||n.type==ft.POINTERCANCEL){delete this.trackedTouches_[i];for(const s in this.trackedTouches_)if(this.trackedTouches_[s].target!==n.target){delete this.trackedTouches_[s];break}}else(n.type==ft.POINTERDOWN||n.type==ft.POINTERMOVE)&&(this.trackedTouches_[i]=n);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(e){this.updateActivePointers_(e);const n=new gs(ft.POINTERUP,this.map_,e,void 0,void 0,this.activePointers_);this.dispatchEvent(n),this.emulateClicks_&&!n.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(e)&&this.emulateClick_(this.down_),this.activePointers_.length===0&&(this.dragListenerKeys_.forEach(lt),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(e){return e.button===0}handlePointerDown_(e){this.emulateClicks_=this.activePointers_.length===0,this.updateActivePointers_(e);const n=new gs(ft.POINTERDOWN,this.map_,e,void 0,void 0,this.activePointers_);if(this.dispatchEvent(n),this.down_=new PointerEvent(e.type,e),Object.defineProperty(this.down_,"target",{writable:!1,value:e.target}),this.dragListenerKeys_.length===0){const i=this.map_.getOwnerDocument();this.dragListenerKeys_.push($e(i,ft.POINTERMOVE,this.handlePointerMove_,this),$e(i,ft.POINTERUP,this.handlePointerUp_,this),$e(this.element_,ft.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==i&&this.dragListenerKeys_.push($e(this.element_.getRootNode(),ft.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(e){if(this.isMoving_(e)){this.updateActivePointers_(e),this.dragging_=!0;const n=new gs(ft.POINTERDRAG,this.map_,e,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(n)}}relayMoveEvent_(e){this.originalPointerMoveEvent_=e;const n=!!(this.down_&&this.isMoving_(e));this.dispatchEvent(new gs(ft.POINTERMOVE,this.map_,e,n))}handleTouchMove_(e){const n=this.originalPointerMoveEvent_;(!n||n.defaultPrevented)&&(typeof e.cancelable!="boolean"||e.cancelable===!0)&&e.preventDefault()}isMoving_(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(lt(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(Ie.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(lt(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(lt),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}}const ms={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"},Nt={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},_e={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};function Ze(t,e){if(!t)throw new Error(e)}const Uc=1/0;class EL{constructor(e,n){this.priorityFunction_=e,this.keyFunction_=n,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,dl(this.queuedElements_)}dequeue(){const e=this.elements_,n=this.priorities_,i=e[0];e.length==1?(e.length=0,n.length=0):(e[0]=e.pop(),n[0]=n.pop(),this.siftUp_(0));const s=this.keyFunction_(i);return delete this.queuedElements_[s],i}enqueue(e){Ze(!(this.keyFunction_(e)in this.queuedElements_),"Tried to enqueue an `element` that was already added to the queue");const n=this.priorityFunction_(e);return n!=Uc?(this.elements_.push(e),this.priorities_.push(n),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1}getCount(){return this.elements_.length}getLeftChildIndex_(e){return e*2+1}getRightChildIndex_(e){return e*2+2}getParentIndex_(e){return e-1>>1}heapify_(){let e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)}isEmpty(){return this.elements_.length===0}isKeyQueued(e){return e in this.queuedElements_}isQueued(e){return this.isKeyQueued(this.keyFunction_(e))}siftUp_(e){const n=this.elements_,i=this.priorities_,s=n.length,r=n[e],a=i[e],o=e;for(;e<s>>1;){const l=this.getLeftChildIndex_(e),c=this.getRightChildIndex_(e),u=c<s&&i[c]<i[l]?c:l;n[e]=n[u],i[e]=i[u],e=u}n[e]=r,i[e]=a,this.siftDown_(o,e)}siftDown_(e,n){const i=this.elements_,s=this.priorities_,r=i[n],a=s[n];for(;n>e;){const o=this.getParentIndex_(n);if(s[o]>a)i[n]=i[o],s[n]=s[o],n=o;else break}i[n]=r,s[n]=a}reprioritize(){const e=this.priorityFunction_,n=this.elements_,i=this.priorities_;let s=0;const r=n.length;let a,o,l;for(o=0;o<r;++o)a=n[o],l=e(a),l==Uc?delete this.queuedElements_[this.keyFunction_(a)]:(i[s]=l,n[s++]=a);n.length=s,i.length=s,this.heapify_()}}class CL extends EL{constructor(e,n){super(i=>e.apply(null,i),i=>i[0].getKey()),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=n,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(e){const n=super.enqueue(e);return n&&e[0].addEventListener(Ie.CHANGE,this.boundHandleTileChange_),n}getTilesLoading(){return this.tilesLoading_}handleTileChange(e){const n=e.target,i=n.getState();if(i===_e.LOADED||i===_e.ERROR||i===_e.EMPTY){i!==_e.ERROR&&n.removeEventListener(Ie.CHANGE,this.boundHandleTileChange_);const s=n.getKey();s in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[s],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(e,n){let i=0;for(;this.tilesLoading_<e&&i<n&&this.getCount()>0;){const s=this.dequeue()[0],r=s.getKey();s.getState()===_e.IDLE&&!(r in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[r]=!0,++this.tilesLoading_,++i,s.load())}}}function wL(t,e,n,i,s){if(!t||!(n in t.wantedTiles)||!t.wantedTiles[n][e.getKey()])return Uc;const r=t.viewState.center,a=i[0]-r[0],o=i[1]-r[1];return 65536*Math.log(s)+Math.sqrt(a*a+o*o)/s}const Bt={ANIMATING:0,INTERACTING:1},Xn={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"};function st(t,e,n){return Math.min(Math.max(t,e),n)}function ML(t,e,n,i,s,r){const a=s-n,o=r-i;if(a!==0||o!==0){const l=((t-n)*a+(e-i)*o)/(a*a+o*o);l>1?(n=s,i=r):l>0&&(n+=a*l,i+=o*l)}return lr(t,e,n,i)}function lr(t,e,n,i){const s=n-t,r=i-e;return s*s+r*r}function TL(t){const e=t.length;for(let i=0;i<e;i++){let s=i,r=Math.abs(t[i][i]);for(let o=i+1;o<e;o++){const l=Math.abs(t[o][i]);l>r&&(r=l,s=o)}if(r===0)return null;const a=t[s];t[s]=t[i],t[i]=a;for(let o=i+1;o<e;o++){const l=-t[o][i]/t[i][i];for(let c=i;c<e+1;c++)i==c?t[o][c]=0:t[o][c]+=l*t[i][c]}}const n=new Array(e);for(let i=e-1;i>=0;i--){n[i]=t[i][e]/t[i][i];for(let s=i-1;s>=0;s--)t[s][e]-=t[s][i]*n[i]}return n}function jv(t){return t*180/Math.PI}function ws(t){return t*Math.PI/180}function aa(t,e){const n=t%e;return n*e<0?n+e:n}function Bn(t,e,n){return t+n*(e-t)}function Lu(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}function Wl(t,e){return Math.floor(Lu(t,e))}function Ul(t,e){return Math.ceil(Lu(t,e))}function Ad(t,e,n){if(t>=e&&t<n)return t;const i=n-e;return((t-e)%i+i)%i+e}function Hv(t,e,n){return function(i,s,r,a,o){if(!i)return;if(!s&&!e)return i;const l=e?0:r[0]*s,c=e?0:r[1]*s,u=o?o[0]:0,h=o?o[1]:0;let d=t[0]+l/2+u,f=t[2]-l/2+u,g=t[1]+c/2+h,m=t[3]-c/2+h;d>f&&(d=(f+d)/2,f=d),g>m&&(g=(m+g)/2,m=g);let v=st(i[0],d,f),y=st(i[1],g,m);if(a&&n&&s){const _=30*s;v+=-_*Math.log(1+Math.max(0,d-i[0])/_)+_*Math.log(1+Math.max(0,i[0]-f)/_),y+=-_*Math.log(1+Math.max(0,g-i[1])/_)+_*Math.log(1+Math.max(0,i[1]-m)/_)}return[v,y]}}function RL(t){return t}const Ct={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function jc(t){const e=Un();for(let n=0,i=t.length;n<i;++n)bo(e,t[n]);return e}function IL(t,e,n){const i=Math.min.apply(null,t),s=Math.min.apply(null,e),r=Math.max.apply(null,t),a=Math.max.apply(null,e);return Yi(i,s,r,a,n)}function Zf(t,e,n){return n?(n[0]=t[0]-e,n[1]=t[1]-e,n[2]=t[2]+e,n[3]=t[3]+e,n):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function S1(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function Jf(t,e,n){let i,s;return e<t[0]?i=t[0]-e:t[2]<e?i=e-t[2]:i=0,n<t[1]?s=t[1]-n:t[3]<n?s=n-t[3]:s=0,i*i+s*s}function ya(t,e){return Qf(t,e[0],e[1])}function Zr(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function Qf(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]}function Pd(t,e){const n=t[0],i=t[1],s=t[2],r=t[3],a=e[0],o=e[1];let l=Ct.UNKNOWN;return a<n?l=l|Ct.LEFT:a>s&&(l=l|Ct.RIGHT),o<i?l=l|Ct.BELOW:o>r&&(l=l|Ct.ABOVE),l===Ct.UNKNOWN&&(l=Ct.INTERSECTING),l}function Un(){return[1/0,1/0,-1/0,-1/0]}function Yi(t,e,n,i,s){return s?(s[0]=t,s[1]=e,s[2]=n,s[3]=i,s):[t,e,n,i]}function fl(t){return Yi(1/0,1/0,-1/0,-1/0,t)}function E1(t,e){const n=t[0],i=t[1];return Yi(n,i,n,i,e)}function eg(t,e,n,i,s){const r=fl(s);return C1(r,t,e,n,i)}function Go(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function AL(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t}function bo(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function C1(t,e,n,i,s){for(;n<i;n+=s)PL(t,e[n],e[n+1]);return t}function PL(t,e,n){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],n),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],n)}function w1(t,e){let n;return n=e(Ou(t)),n||(n=e(ku(t)),n)||(n=e(Du(t)),n)||(n=e(Mr(t)),n)?n:!1}function Ld(t){let e=0;return gl(t)||(e=Xe(t)*Jt(t)),e}function Ou(t){return[t[0],t[1]]}function ku(t){return[t[2],t[1]]}function _r(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function LL(t,e){let n;if(e==="bottom-left")n=Ou(t);else if(e==="bottom-right")n=ku(t);else if(e==="top-left")n=Mr(t);else if(e==="top-right")n=Du(t);else throw new Error("Invalid corner");return n}function Od(t,e,n,i,s){const[r,a,o,l,c,u,h,d]=M1(t,e,n,i);return Yi(Math.min(r,o,c,h),Math.min(a,l,u,d),Math.max(r,o,c,h),Math.max(a,l,u,d),s)}function M1(t,e,n,i){const s=e*i[0]/2,r=e*i[1]/2,a=Math.cos(n),o=Math.sin(n),l=s*a,c=s*o,u=r*a,h=r*o,d=t[0],f=t[1];return[d-l+h,f-c-u,d-l-h,f-c+u,d+l-h,f+c+u,d+l+h,f+c-u,d-l+h,f-c-u]}function Jt(t){return t[3]-t[1]}function cr(t,e,n){const i=n||Un();return gn(t,e)?(t[0]>e[0]?i[0]=t[0]:i[0]=e[0],t[1]>e[1]?i[1]=t[1]:i[1]=e[1],t[2]<e[2]?i[2]=t[2]:i[2]=e[2],t[3]<e[3]?i[3]=t[3]:i[3]=e[3]):fl(i),i}function Mr(t){return[t[0],t[3]]}function Du(t){return[t[2],t[3]]}function Xe(t){return t[2]-t[0]}function gn(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function gl(t){return t[2]<t[0]||t[3]<t[1]}function OL(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t}function kL(t,e,n){let i=!1;const s=Pd(t,e),r=Pd(t,n);if(s===Ct.INTERSECTING||r===Ct.INTERSECTING)i=!0;else{const a=t[0],o=t[1],l=t[2],c=t[3],u=e[0],h=e[1],d=n[0],f=n[1],g=(f-h)/(d-u);let m,v;r&Ct.ABOVE&&!(s&Ct.ABOVE)&&(m=d-(f-c)/g,i=m>=a&&m<=l),!i&&r&Ct.RIGHT&&!(s&Ct.RIGHT)&&(v=f-(d-l)*g,i=v>=o&&v<=c),!i&&r&Ct.BELOW&&!(s&Ct.BELOW)&&(m=d-(f-o)/g,i=m>=a&&m<=l),!i&&r&Ct.LEFT&&!(s&Ct.LEFT)&&(v=f-(d-a)*g,i=v>=o&&v<=c)}return i}function DL(t,e,n,i){if(gl(t))return fl(n);let s=[];s=[t[0],t[1],t[2],t[1],t[2],t[3],t[0],t[3]],e(s,s,2);const r=[],a=[];for(let o=0,l=s.length;o<l;o+=2)r.push(s[o]),a.push(s[o+1]);return IL(r,a,n)}function T1(t,e){const n=e.getExtent(),i=_r(t);if(e.canWrapX()&&(i[0]<n[0]||i[0]>=n[2])){const s=Xe(n),a=Math.floor((i[0]-n[0])/s)*s;t[0]-=a,t[2]-=a}return t}function R1(t,e,n){if(e.canWrapX()){const i=e.getExtent();if(!isFinite(t[0])||!isFinite(t[2]))return[[i[0],t[1],i[2],t[3]]];T1(t,e);const s=Xe(i);if(Xe(t)>s&&!n)return[[i[0],t[1],i[2],t[3]]];if(t[0]<i[0])return[[t[0]+s,t[1],i[2],t[3]],[i[0],t[1],t[2],t[3]]];if(t[2]>i[2])return[[t[0],t[1],i[2],t[3]],[i[0],t[1],t[2]-s,t[3]]]}return[t]}function NL(t,e){return t[0]+=+e[0],t[1]+=+e[1],t}function Hc(t,e){let n=!0;for(let i=t.length-1;i>=0;--i)if(t[i]!=e[i]){n=!1;break}return n}function tg(t,e){const n=Math.cos(e),i=Math.sin(e),s=t[0]*n-t[1]*i,r=t[1]*n+t[0]*i;return t[0]=s,t[1]=r,t}function FL(t,e){return t[0]*=e,t[1]*=e,t}function I1(t,e){if(e.canWrapX()){const n=Xe(e.getExtent()),i=A1(t,e,n);i&&(t[0]-=i*n)}return t}function A1(t,e,n){const i=e.getExtent();let s=0;return e.canWrapX()&&(t[0]<i[0]||t[0]>i[2])&&(n=n||Xe(i),s=Math.floor((t[0]-i[0])/n)),s}function P1(t){return Math.pow(t,3)}function Pa(t){return 1-P1(1-t)}function BL(t){return 3*t*t-2*t*t*t}function VL(t){return t}const $L=63710088e-1;function Xv(t,e,n){n=n||$L;const i=ws(t[1]),s=ws(e[1]),r=(s-i)/2,a=ws(e[0]-t[0])/2,o=Math.sin(r)*Math.sin(r)+Math.sin(a)*Math.sin(a)*Math.cos(i)*Math.cos(s);return 2*n*Math.atan2(Math.sqrt(o),Math.sqrt(1-o))}function L1(...t){console.warn(...t)}const ng={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};class ml{constructor(e){this.code_=e.code,this.units_=e.units,this.extent_=e.extent!==void 0?e.extent:null,this.worldExtent_=e.worldExtent!==void 0?e.worldExtent:null,this.axisOrientation_=e.axisOrientation!==void 0?e.axisOrientation:"enu",this.global_=e.global!==void 0?e.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||ng[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(e){this.global_=e,this.canWrapX_=!!(e&&this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(e){this.defaultTileGrid_=e}setExtent(e){this.extent_=e,this.canWrapX_=!!(this.global_&&e)}setWorldExtent(e){this.worldExtent_=e}setGetPointResolution(e){this.getPointResolutionFunc_=e}getPointResolutionFunc(){return this.getPointResolutionFunc_}}const vl=6378137,Jr=Math.PI*vl,GL=[-Jr,-Jr,Jr,Jr],zL=[-180,-85,180,85],jl=vl*Math.log(Math.tan(Math.PI/2));class Lr extends ml{constructor(e){super({code:e,units:"m",extent:GL,global:!0,worldExtent:zL,getPointResolution:function(n,i){return n/Math.cosh(i[1]/vl)}})}}const qv=[new Lr("EPSG:3857"),new Lr("EPSG:102100"),new Lr("EPSG:102113"),new Lr("EPSG:900913"),new Lr("http://www.opengis.net/def/crs/EPSG/0/3857"),new Lr("http://www.opengis.net/gml/srs/epsg.xml#3857")];function WL(t,e,n,i){const s=t.length;n=n>1?n:2,i=i??n,e===void 0&&(n>2?e=t.slice():e=new Array(s));for(let r=0;r<s;r+=i){e[r]=Jr*t[r]/180;let a=vl*Math.log(Math.tan(Math.PI*(+t[r+1]+90)/360));a>jl?a=jl:a<-jl&&(a=-jl),e[r+1]=a}return e}function UL(t,e,n,i){const s=t.length;n=n>1?n:2,i=i??n,e===void 0&&(n>2?e=t.slice():e=new Array(s));for(let r=0;r<s;r+=i)e[r]=180*t[r]/Jr,e[r+1]=360*Math.atan(Math.exp(t[r+1]/vl))/Math.PI-90;return e}const jL=6378137,Kv=[-180,-90,180,90],HL=Math.PI*jL/180;class Hs extends ml{constructor(e,n){super({code:e,units:"degrees",extent:Kv,axisOrientation:n,global:!0,metersPerUnit:HL,worldExtent:Kv})}}const Yv=[new Hs("CRS:84"),new Hs("EPSG:4326","neu"),new Hs("urn:ogc:def:crs:OGC:1.3:CRS84"),new Hs("urn:ogc:def:crs:OGC:2:84"),new Hs("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new Hs("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Hs("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let kd={};function gc(t){return kd[t]||kd[t.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function XL(t,e){kd[t]=e}let oa={};function pr(t,e,n){const i=t.getCode(),s=e.getCode();i in oa||(oa[i]={}),oa[i][s]=n}function mc(t,e){return t in oa&&e in oa[t]?oa[t][e]:null}const Xc=.9996,Gn=.00669438,Nu=Gn*Gn,Fu=Nu*Gn,Qs=Gn/(1-Gn),Zv=Math.sqrt(1-Gn),_a=(1-Zv)/(1+Zv),O1=_a*_a,ig=O1*_a,sg=ig*_a,k1=sg*_a,D1=1-Gn/4-3*Nu/64-5*Fu/256,qL=3*Gn/8+3*Nu/32+45*Fu/1024,KL=15*Nu/256+45*Fu/1024,YL=35*Fu/3072,ZL=3/2*_a-27/32*ig+269/512*k1,JL=21/16*O1-55/32*sg,QL=151/96*ig-417/128*k1,eO=1097/512*sg,qc=6378137;function tO(t,e,n){const i=t-5e5,a=(n.north?e:e-1e7)/Xc/(qc*D1),o=a+ZL*Math.sin(2*a)+JL*Math.sin(4*a)+QL*Math.sin(6*a)+eO*Math.sin(8*a),l=Math.sin(o),c=l*l,u=Math.cos(o),h=l/u,d=h*h,f=d*d,g=1-Gn*c,m=Math.sqrt(1-Gn*c),v=qc/m,y=(1-Gn)/g,_=Qs*u**2,p=_*_,x=i/(v*Xc),b=x*x,C=b*x,M=C*x,E=M*x,R=E*x,O=o-h/y*(b/2-M/24*(5+3*d+10*_-4*p-9*Qs))+R/720*(61+90*d+298*_+45*f-252*Qs-3*p);let k=(x-C/6*(1+2*d+_)+E/120*(5-2*_+28*d-3*p+8*Qs+24*f))/u;return k=Ad(k+ws(N1(n.number)),-Math.PI,Math.PI),[jv(k),jv(O)]}const Jv=-80,Qv=84,nO=-180,iO=180;function sO(t,e,n){t=Ad(t,nO,iO),e<Jv?e=Jv:e>Qv&&(e=Qv);const i=ws(e),s=Math.sin(i),r=Math.cos(i),a=s/r,o=a*a,l=o*o,c=ws(t),u=N1(n.number),h=ws(u),d=qc/Math.sqrt(1-Gn*s**2),f=Qs*r**2,g=r*Ad(c-h,-Math.PI,Math.PI),m=g*g,v=m*g,y=v*g,_=y*g,p=_*g,x=qc*(D1*i-qL*Math.sin(2*i)+KL*Math.sin(4*i)-YL*Math.sin(6*i)),b=Xc*d*(g+v/6*(1-o+f)+_/120*(5-18*o+l+72*f-58*Qs))+5e5;let C=Xc*(x+d*a*(m/2+y/24*(5-o+9*f+4*f**2)+p/720*(61-58*o+l+600*f-330*Qs)));return n.north||(C+=1e7),[b,C]}function N1(t){return(t-1)*6-180+3}const rO=[/^EPSG:(\d+)$/,/^urn:ogc:def:crs:EPSG::(\d+)$/,/^http:\/\/www\.opengis\.net\/def\/crs\/EPSG\/0\/(\d+)$/];function F1(t){let e=0;for(const s of rO){const r=t.match(s);if(r){e=parseInt(r[1]);break}}if(!e)return null;let n=0,i=!1;return e>32700&&e<32761?n=e-32700:e>32600&&e<32661&&(i=!0,n=e-32600),n?{number:n,north:i}:null}function e0(t,e){return function(n,i,s,r){const a=n.length;s=s>1?s:2,r=r??s,i||(s>2?i=n.slice():i=new Array(a));for(let o=0;o<a;o+=r){const l=n[o],c=n[o+1],u=t(l,c,e);i[o]=u[0],i[o+1]=u[1]}return i}}function aO(t){return F1(t)?new ml({code:t,units:"m"}):null}function oO(t){const e=F1(t.getCode());return e?{forward:e0(sO,e),inverse:e0(tO,e)}:null}const lO=[oO],cO=[aO];let Dd=!0;function uO(t){Dd=!1}function rg(t,e){if(e!==void 0){for(let n=0,i=t.length;n<i;++n)e[n]=t[n];e=e}else e=t.slice();return e}function Kc(t){XL(t.getCode(),t),pr(t,t,rg)}function hO(t){t.forEach(Kc)}function vt(t){if(typeof t!="string")return t;const e=gc(t);if(e)return e;for(const n of cO){const i=n(t);if(i)return i}return null}function t0(t,e,n,i){t=vt(t);let s;const r=t.getPointResolutionFunc();if(r)s=r(e,n);else{const a=t.getUnits();if(a=="degrees"||i=="degrees")s=e;else{const o=og(t,vt("EPSG:4326"));if(!o&&a!=="degrees")s=e*t.getMetersPerUnit();else{let c=[n[0]-e/2,n[1],n[0]+e/2,n[1],n[0],n[1]-e/2,n[0],n[1]+e/2];c=o(c,c,2);const u=Xv(c.slice(0,2),c.slice(2,4)),h=Xv(c.slice(4,6),c.slice(6,8));s=(u+h)/2}const l=t.getMetersPerUnit();l!==void 0&&(s/=l)}}return s}function Nd(t){hO(t),t.forEach(function(e){t.forEach(function(n){e!==n&&pr(e,n,rg)})})}function dO(t,e,n,i){t.forEach(function(s){e.forEach(function(r){pr(s,r,n),pr(r,s,i)})})}function ag(t,e){return t?typeof t=="string"?vt(t):t:vt(e)}function Fd(t){return function(e,n,i,s){const r=e.length;i=i!==void 0?i:2,s=s??i,n=n!==void 0?n:new Array(r);for(let a=0;a<r;a+=s){const o=t(e.slice(a,a+i)),l=o.length;for(let c=0,u=s;c<u;++c)n[a+c]=c>=l?e[a+c]:o[c]}return n}}function fO(t,e,n,i){const s=vt(t),r=vt(e);pr(s,r,Fd(n)),pr(r,s,Fd(i))}function So(t,e){if(t===e)return!0;const n=t.getUnits()===e.getUnits();return(t.getCode()===e.getCode()||og(t,e)===rg)&&n}function og(t,e){const n=t.getCode(),i=e.getCode();let s=mc(n,i);if(s)return s;let r=null,a=null;for(const l of lO)r||(r=l(t)),a||(a=l(e));if(!r&&!a)return null;const o="EPSG:4326";if(a)if(r)s=Eh(r.inverse,a.forward);else{const l=mc(n,o);l&&(s=Eh(l,a.forward))}else{const l=mc(o,i);l&&(s=Eh(r.inverse,l))}return s&&(Kc(t),Kc(e),pr(t,e,s)),s}function Eh(t,e){return function(n,i,s,r){return i=t(n,i,s,r),e(i,i,s,r)}}function zo(t,e){const n=vt(t),i=vt(e);return og(n,i)}function B1(t,e,n){const i=zo(e,n);if(!i){const s=vt(e).getCode(),r=vt(n).getCode();throw new Error(`No transform available between ${s} and ${r}`)}return i(t,void 0,t.length)}function gO(t,e,n,i){const s=zo(e,n);return DL(t,s,void 0)}function Bd(t,e){return t}function Bi(t,e){return Dd&&!Hc(t,[0,0])&&t[0]>=-180&&t[0]<=180&&t[1]>=-90&&t[1]<=90&&(Dd=!1,L1("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),t}function V1(t,e){return t}function ps(t,e){return t}function n0(t,e,n){return function(i){let s,r;if(t.canWrapX()){const a=t.getExtent(),o=Xe(a);i=i.slice(0),r=A1(i,t,o),r&&(i[0]=i[0]-r*o),i[0]=st(i[0],a[0],a[2]),i[1]=st(i[1],a[1],a[3]),s=n(i)}else s=n(i);return r&&e.canWrapX()&&(s[0]+=r*Xe(e.getExtent())),s}}function mO(){Nd(qv),Nd(Yv),dO(Yv,qv,WL,UL)}mO();new Array(6);function ei(){return[1,0,0,1,0,0]}function vO(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function wt(t,e){const n=e[0],i=e[1];return e[0]=t[0]*n+t[2]*i+t[4],e[1]=t[1]*n+t[3]*i+t[5],e}function Zi(t,e,n,i,s,r,a,o){const l=Math.sin(r),c=Math.cos(r);return t[0]=i*c,t[1]=s*l,t[2]=-i*l,t[3]=s*c,t[4]=a*i*c-o*i*l+e,t[5]=a*s*l+o*s*c+n,t}function $1(t,e){const n=yO(e);Ze(n!==0,"Transformation matrix cannot be inverted");const i=e[0],s=e[1],r=e[2],a=e[3],o=e[4],l=e[5];return t[0]=a/n,t[1]=-s/n,t[2]=-r/n,t[3]=i/n,t[4]=(r*l-a*o)/n,t[5]=-(i*l-s*o)/n,t}function yO(t){return t[0]*t[3]-t[1]*t[2]}const _O=[1e5,1e5,1e5,1e5,2,2];function pO(t){return"matrix("+t.join(", ")+")"}function i0(t){return t.substring(7,t.length-1).split(",").map(parseFloat)}function xO(t,e){const n=i0(t),i=i0(e);for(let s=0;s<6;++s)if(Math.round((n[s]-i[s])*_O[s])!==0)return!1;return!0}function Ms(t,e,n,i,s,r,a){r=r||[],a=a||2;let o=0;for(let l=e;l<n;l+=i){const c=t[l],u=t[l+1];r[o++]=s[0]*c+s[2]*u+s[4],r[o++]=s[1]*c+s[3]*u+s[5];for(let h=2;h<a;h++)r[o++]=t[l+h]}return r&&r.length!=o&&(r.length=o),r}function G1(t,e,n,i,s,r,a){a=a||[];const o=Math.cos(s),l=Math.sin(s),c=r[0],u=r[1];let h=0;for(let d=e;d<n;d+=i){const f=t[d]-c,g=t[d+1]-u;a[h++]=c+f*o-g*l,a[h++]=u+f*l+g*o;for(let m=d+2;m<d+i;++m)a[h++]=t[m]}return a&&a.length!=h&&(a.length=h),a}function bO(t,e,n,i,s,r,a,o){o=o||[];const l=a[0],c=a[1];let u=0;for(let h=e;h<n;h+=i){const d=t[h]-l,f=t[h+1]-c;o[u++]=l+s*d,o[u++]=c+r*f;for(let g=h+2;g<h+i;++g)o[u++]=t[g]}return o&&o.length!=u&&(o.length=u),o}function SO(t,e,n,i,s,r,a){a=a||[];let o=0;for(let l=e;l<n;l+=i){a[o++]=t[l]+s,a[o++]=t[l+1]+r;for(let c=l+2;c<l+i;++c)a[o++]=t[c]}return a&&a.length!=o&&(a.length=o),a}const s0=ei(),EO=[NaN,NaN];class CO extends Ii{constructor(){super(),this.extent_=Un(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=v1((e,n,i)=>{if(!i)return this.getSimplifiedGeometry(n);const s=this.clone();return s.applyTransform(i),s.getSimplifiedGeometry(n)})}simplifyTransformed(e,n){return this.simplifyTransformedInternal(this.getRevision(),e,n)}clone(){return Ve()}closestPointXY(e,n,i,s){return Ve()}containsXY(e,n){return this.closestPointXY(e,n,EO,Number.MIN_VALUE)===0}getClosestPoint(e,n){return n=n||[NaN,NaN],this.closestPointXY(e[0],e[1],n,1/0),n}intersectsCoordinate(e){return this.containsXY(e[0],e[1])}computeExtent(e){return Ve()}getExtent(e){if(this.extentRevision_!=this.getRevision()){const n=this.computeExtent(this.extent_);(isNaN(n[0])||isNaN(n[1]))&&fl(n),this.extentRevision_=this.getRevision()}return OL(this.extent_,e)}rotate(e,n){Ve()}scale(e,n,i){Ve()}simplify(e){return this.getSimplifiedGeometry(e*e)}getSimplifiedGeometry(e){return Ve()}getType(){return Ve()}applyTransform(e){Ve()}intersectsExtent(e){return Ve()}translate(e,n){Ve()}transform(e,n){const i=vt(e),s=i.getUnits()=="tile-pixels"?function(r,a,o){const l=i.getExtent(),c=i.getWorldExtent(),u=Jt(c)/Jt(l);Zi(s0,c[0],c[3],u,-u,0,0,0);const h=Ms(r,0,r.length,o,s0,a),d=zo(i,n);return d?d(h,h,o):h}:zo(i,n);return this.applyTransform(s),this}}class Bu extends CO{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates}computeExtent(e){return eg(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinates(){return Ve()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const n=this.getSimplifiedGeometryInternal(e);return n.getFlatCoordinates().length<this.flatCoordinates.length?n:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}getSimplifiedGeometryInternal(e){return this}getStride(){return this.stride}setFlatCoordinates(e,n){this.stride=r0(e),this.layout=e,this.flatCoordinates=n}setCoordinates(e,n){Ve()}setLayout(e,n,i){let s;if(e)s=r0(e);else{for(let r=0;r<i;++r){if(n.length===0){this.layout="XY",this.stride=2;return}n=n[0]}s=n.length,e=wO(s)}this.layout=e,this.stride=s}applyTransform(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.layout.startsWith("XYZ")?3:2,this.stride),this.changed())}rotate(e,n){const i=this.getFlatCoordinates();if(i){const s=this.getStride();G1(i,0,i.length,s,e,n,i),this.changed()}}scale(e,n,i){n===void 0&&(n=e),i||(i=_r(this.getExtent()));const s=this.getFlatCoordinates();if(s){const r=this.getStride();bO(s,0,s.length,r,e,n,i,s),this.changed()}}translate(e,n){const i=this.getFlatCoordinates();if(i){const s=this.getStride();SO(i,0,i.length,s,e,n,i),this.changed()}}}function wO(t){let e;return t==2?e="XY":t==3?e="XYZ":t==4&&(e="XYZM"),e}function r0(t){let e;return t=="XY"?e=2:t=="XYZ"||t=="XYM"?e=3:t=="XYZM"&&(e=4),e}function MO(t,e,n){const i=t.getFlatCoordinates();if(!i)return null;const s=t.getStride();return Ms(i,0,i.length,s,e,n)}function z1(t,e,n,i){let s=0;const r=t[n-i],a=t[n-i+1];let o=0,l=0;for(;e<n;e+=i){const c=t[e]-r,u=t[e+1]-a;s+=l*c-o*u,o=c,l=u}return s/2}function TO(t,e,n,i){let s=0;for(let r=0,a=n.length;r<a;++r){const o=n[r];s+=z1(t,e,o,i),e=o}return s}function a0(t,e,n,i,s,r,a){const o=t[e],l=t[e+1],c=t[n]-o,u=t[n+1]-l;let h;if(c===0&&u===0)h=e;else{const d=((s-o)*c+(r-l)*u)/(c*c+u*u);if(d>1)h=n;else if(d>0){for(let f=0;f<i;++f)a[f]=Bn(t[e+f],t[n+f],d);a.length=i;return}else h=e}for(let d=0;d<i;++d)a[d]=t[h+d];a.length=i}function W1(t,e,n,i,s){let r=t[e],a=t[e+1];for(e+=i;e<n;e+=i){const o=t[e],l=t[e+1],c=lr(r,a,o,l);c>s&&(s=c),r=o,a=l}return s}function RO(t,e,n,i,s){for(let r=0,a=n.length;r<a;++r){const o=n[r];s=W1(t,e,o,i,s),e=o}return s}function U1(t,e,n,i,s,r,a,o,l,c,u){if(e==n)return c;let h,d;if(s===0){if(d=lr(a,o,t[e],t[e+1]),d<c){for(h=0;h<i;++h)l[h]=t[e+h];return l.length=i,d}return c}u=u||[NaN,NaN];let f=e+i;for(;f<n;)if(a0(t,f-i,f,i,a,o,u),d=lr(a,o,u[0],u[1]),d<c){for(c=d,h=0;h<i;++h)l[h]=u[h];l.length=i,f+=i}else f+=i*Math.max((Math.sqrt(d)-Math.sqrt(c))/s|0,1);if(a0(t,n-i,e,i,a,o,u),d=lr(a,o,u[0],u[1]),d<c){for(c=d,h=0;h<i;++h)l[h]=u[h];l.length=i}return c}function IO(t,e,n,i,s,r,a,o,l,c,u){u=u||[NaN,NaN];for(let h=0,d=n.length;h<d;++h){const f=n[h];c=U1(t,e,f,i,s,r,a,o,l,c,u),e=f}return c}function AO(t,e,n,i){for(let s=0,r=n.length;s<r;++s)t[e++]=n[s];return e}function lg(t,e,n,i){for(let s=0,r=n.length;s<r;++s){const a=n[s];for(let o=0;o<i;++o)t[e++]=a[o]}return e}function PO(t,e,n,i,s){s=s||[];let r=0;for(let a=0,o=n.length;a<o;++a){const l=lg(t,e,n[a],i);s[r++]=l,e=l}return s.length=r,s}function er(t,e,n,i,s){s=s!==void 0?s:[];let r=0;for(let a=e;a<n;a+=i)s[r++]=t.slice(a,a+i);return s.length=r,s}function Yc(t,e,n,i,s){s=s!==void 0?s:[];let r=0;for(let a=0,o=n.length;a<o;++a){const l=n[a];s[r++]=er(t,e,l,i,s[r]),e=l}return s.length=r,s}function o0(t,e,n,i,s){s=s!==void 0?s:[];let r=0;for(let a=0,o=n.length;a<o;++a){const l=n[a];s[r++]=l.length===1&&l[0]===e?[]:Yc(t,e,l,i,s[r]),e=l[l.length-1]}return s.length=r,s}function cg(t,e,n,i,s,r,a){const o=(n-e)/i;if(o<3){for(;e<n;e+=i)r[a++]=t[e],r[a++]=t[e+1];return a}const l=new Array(o);l[0]=1,l[o-1]=1;const c=[e,n-i];let u=0;for(;c.length>0;){const h=c.pop(),d=c.pop();let f=0;const g=t[d],m=t[d+1],v=t[h],y=t[h+1];for(let _=d+i;_<h;_+=i){const p=t[_],x=t[_+1],b=ML(p,x,g,m,v,y);b>f&&(u=_,f=b)}f>s&&(l[(u-e)/i]=1,d+i<u&&c.push(d,u),u+i<h&&c.push(u,h))}for(let h=0;h<o;++h)l[h]&&(r[a++]=t[e+h*i],r[a++]=t[e+h*i+1]);return a}function LO(t,e,n,i,s,r,a,o){for(let l=0,c=n.length;l<c;++l){const u=n[l];a=cg(t,e,u,i,s,r,a),o.push(a),e=u}return a}function Ys(t,e){return e*Math.round(t/e)}function OO(t,e,n,i,s,r,a){if(e==n)return a;let o=Ys(t[e],s),l=Ys(t[e+1],s);e+=i,r[a++]=o,r[a++]=l;let c,u;do if(c=Ys(t[e],s),u=Ys(t[e+1],s),e+=i,e==n)return r[a++]=c,r[a++]=u,a;while(c==o&&u==l);for(;e<n;){const h=Ys(t[e],s),d=Ys(t[e+1],s);if(e+=i,h==c&&d==u)continue;const f=c-o,g=u-l,m=h-o,v=d-l;if(f*v==g*m&&(f<0&&m<f||f==m||f>0&&m>f)&&(g<0&&v<g||g==v||g>0&&v>g)){c=h,u=d;continue}r[a++]=c,r[a++]=u,o=c,l=u,c=h,u=d}return r[a++]=c,r[a++]=u,a}function j1(t,e,n,i,s,r,a,o){for(let l=0,c=n.length;l<c;++l){const u=n[l];a=OO(t,e,u,i,s,r,a),o.push(a),e=u}return a}class Wo extends Bu{constructor(e,n){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,n!==void 0&&!Array.isArray(e[0])?this.setFlatCoordinates(n,e):this.setCoordinates(e,n)}clone(){return new Wo(this.flatCoordinates.slice(),this.layout)}closestPointXY(e,n,i,s){return s<Jf(this.getExtent(),e,n)?s:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(W1(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),U1(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,n,i,s))}getArea(){return z1(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return er(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(e){const n=[];return n.length=cg(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n,0),new Wo(n,"XY")}getType(){return"LinearRing"}intersectsExtent(e){return!1}setCoordinates(e,n){this.setLayout(n,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=lg(this.flatCoordinates,0,e,this.stride),this.changed()}}class xr extends Bu{constructor(e,n){super(),this.setCoordinates(e,n)}clone(){const e=new xr(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,n,i,s){const r=this.flatCoordinates,a=lr(e,n,r[0],r[1]);if(a<s){const o=this.stride;for(let l=0;l<o;++l)i[l]=r[l];return i.length=o,a}return s}getCoordinates(){return this.flatCoordinates.slice()}computeExtent(e){return E1(this.flatCoordinates,e)}getType(){return"Point"}intersectsExtent(e){return Qf(e,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(e,n){this.setLayout(n,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=AO(this.flatCoordinates,0,e,this.stride),this.changed()}}function kO(t,e,n,i,s){return!w1(s,function(a){return!tr(t,e,n,i,a[0],a[1])})}function tr(t,e,n,i,s,r){let a=0,o=t[n-i],l=t[n-i+1];for(;e<n;e+=i){const c=t[e],u=t[e+1];l<=r?u>r&&(c-o)*(r-l)-(s-o)*(u-l)>0&&a++:u<=r&&(c-o)*(r-l)-(s-o)*(u-l)<0&&a--,o=c,l=u}return a!==0}function H1(t,e,n,i,s,r){if(n.length===0||!tr(t,e,n[0],i,s,r))return!1;for(let a=1,o=n.length;a<o;++a)if(tr(t,n[a-1],n[a],i,s,r))return!1;return!0}function ug(t,e,n,i,s,r,a){let o,l,c,u,h,d,f;const g=s[r+1],m=[];for(let _=0,p=n.length;_<p;++_){const x=n[_];for(u=t[x-i],d=t[x-i+1],o=e;o<x;o+=i)h=t[o],f=t[o+1],(g<=d&&f<=g||d<=g&&g<=f)&&(c=(g-d)/(f-d)*(h-u)+u,m.push(c)),u=h,d=f}let v=NaN,y=-1/0;for(m.sort(Hi),u=m[0],o=1,l=m.length;o<l;++o){h=m[o];const _=Math.abs(h-u);_>y&&(c=(u+h)/2,H1(t,e,n,i,c,g)&&(v=c,y=_)),u=h}return isNaN(v)&&(v=s[r]),a?(a.push(v,g,y),a):[v,g,y]}function DO(t,e,n,i,s){let r=[];for(let a=0,o=n.length;a<o;++a){const l=n[a];r=ug(t,e,l,i,s,2*a,r),e=l[l.length-1]}return r}function NO(t,e,n,i,s){let r;for(e+=i;e<n;e+=i)if(r=s(t.slice(e-i,e),t.slice(e,e+i)),r)return r;return!1}function X1(t,e,n,i,s,r){return r=r??C1(Un(),t,e,n,i),gn(s,r)?r[0]>=s[0]&&r[2]<=s[2]||r[1]>=s[1]&&r[3]<=s[3]?!0:NO(t,e,n,i,function(a,o){return kL(s,a,o)}):!1}function q1(t,e,n,i,s){return!!(X1(t,e,n,i,s)||tr(t,e,n,i,s[0],s[1])||tr(t,e,n,i,s[0],s[3])||tr(t,e,n,i,s[2],s[1])||tr(t,e,n,i,s[2],s[3]))}function FO(t,e,n,i,s){if(!q1(t,e,n[0],i,s))return!1;if(n.length===1)return!0;for(let r=1,a=n.length;r<a;++r)if(kO(t,n[r-1],n[r],i,s)&&!X1(t,n[r-1],n[r],i,s))return!1;return!0}function BO(t,e,n,i){for(;e<n-i;){for(let s=0;s<i;++s){const r=t[e+s];t[e+s]=t[n-i+s],t[n-i+s]=r}e+=i,n-=i}}function hg(t,e,n,i){let s=0,r=t[n-i],a=t[n-i+1];for(;e<n;e+=i){const o=t[e],l=t[e+1];s+=(o-r)*(l+a),r=o,a=l}return s===0?void 0:s>0}function VO(t,e,n,i,s){s=s!==void 0?s:!1;for(let r=0,a=n.length;r<a;++r){const o=n[r],l=hg(t,e,o,i);if(r===0){if(s&&l||!s&&!l)return!1}else if(s&&!l||!s&&l)return!1;e=o}return!0}function l0(t,e,n,i,s){s=s!==void 0?s:!1;for(let r=0,a=n.length;r<a;++r){const o=n[r],l=hg(t,e,o,i);(r===0?s&&l||!s&&!l:s&&!l||!s&&l)&&BO(t,e,o,i),e=o}return e}function $O(t,e){const n=[];let i=0,s=0,r;for(let a=0,o=e.length;a<o;++a){const l=e[a],c=hg(t,i,l,2);if(r===void 0&&(r=c),c===r)n.push(e.slice(s,a+1));else{if(n.length===0)continue;n[n.length-1].push(e[s])}s=a+1,i=l}return n}class pa extends Bu{constructor(e,n,i){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,n!==void 0&&i?(this.setFlatCoordinates(n,e),this.ends_=i):this.setCoordinates(e,n)}appendLinearRing(e){this.flatCoordinates?Iu(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new pa(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,n,i,s){return s<Jf(this.getExtent(),e,n)?s:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(RO(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),IO(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,n,i,s))}containsXY(e,n){return H1(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,n)}getArea(){return TO(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(e){let n;return e!==void 0?(n=this.getOrientedFlatCoordinates().slice(),l0(n,0,this.ends_,this.stride,e)):n=this.flatCoordinates,Yc(n,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const e=_r(this.getExtent());this.flatInteriorPoint_=ug(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new xr(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(e){return e<0||this.ends_.length<=e?null:new Wo(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLinearRings(){const e=this.layout,n=this.flatCoordinates,i=this.ends_,s=[];let r=0;for(let a=0,o=i.length;a<o;++a){const l=i[a],c=new Wo(n.slice(r,l),e);s.push(c),r=l}return s}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;VO(e,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=l0(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const n=[],i=[];return n.length=j1(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),n,0,i),new pa(n,"XY",i)}getType(){return"Polygon"}intersectsExtent(e){return FO(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)}setCoordinates(e,n){this.setLayout(n,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const i=PO(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()}}function c0(t){if(gl(t))throw new Error("Cannot create polygon from empty extent");const e=t[0],n=t[1],i=t[2],s=t[3],r=[e,n,e,s,i,s,i,n,e,n];return new pa(r,"XY",[r.length])}function dg(t,e,n,i){const s=Xe(e)/n[0],r=Jt(e)/n[1];return i?Math.min(t,Math.max(s,r)):Math.min(t,Math.min(s,r))}function fg(t,e,n){let i=Math.min(t,e);const s=50;return i*=Math.log(1+s*Math.max(0,t/e-1))/s+1,n&&(i=Math.max(i,n),i/=Math.log(1+s*Math.max(0,n/t-1))/s+1),st(i,n/2,e*2)}function GO(t,e,n,i){return e=e!==void 0?e:!0,function(s,r,a,o){if(s!==void 0){const l=t[0],c=t[t.length-1],u=n?dg(l,n,a,i):l;if(o)return e?fg(s,u,c):st(s,c,u);const h=Math.min(u,s),d=Math.floor(Yf(t,h,r));return t[d]>u&&d<t.length-1?t[d+1]:t[d]}}}function zO(t,e,n,i,s,r){return i=i!==void 0?i:!0,n=n!==void 0?n:0,function(a,o,l,c){if(a!==void 0){const u=s?dg(e,s,l,r):e;if(c)return i?fg(a,u,n):st(a,n,u);const h=1e-9,d=Math.ceil(Math.log(e/u)/Math.log(t)-h),f=-o*(.5-h)+.5,g=Math.min(u,a),m=Math.floor(Math.log(e/g)/Math.log(t)+f),v=Math.max(d,m),y=e/Math.pow(t,v);return st(y,n,u)}}}function u0(t,e,n,i,s){return n=n!==void 0?n:!0,function(r,a,o,l){if(r!==void 0){const c=i?dg(t,i,o,s):t;return!n||!l?st(r,e,c):fg(r,c,e)}}}function gg(t){if(t!==void 0)return 0}function h0(t){if(t!==void 0)return t}function WO(t){const e=2*Math.PI/t;return function(n,i){if(i)return n;if(n!==void 0)return n=Math.floor(n/e+.5)*e,n}}function UO(t){const e=ws(5);return function(n,i){return i||n===void 0?n:Math.abs(n)<=e?0:n}}const jO=42,mg=256,Ch=0;class vi extends Ii{constructor(e){super(),this.on,this.once,this.un,e=Object.assign({},e),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=ag(e.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,e.projection&&uO(),e.center&&(e.center=Bi(e.center,this.projection_)),e.extent&&(e.extent=ps(e.extent,this.projection_)),this.applyOptions_(e)}applyOptions_(e){const n=Object.assign({},e);for(const o in Xn)delete n[o];this.setProperties(n,!0);const i=XO(e);this.maxResolution_=i.maxResolution,this.minResolution_=i.minResolution,this.zoomFactor_=i.zoomFactor,this.resolutions_=e.resolutions,this.padding_=e.padding,this.minZoom_=i.minZoom;const s=HO(e),r=i.constraint,a=qO(e);this.constraints_={center:s,resolution:r,rotation:a},this.setRotation(e.rotation!==void 0?e.rotation:0),this.setCenterInternal(e.center!==void 0?e.center:null),e.resolution!==void 0?this.setResolution(e.resolution):e.zoom!==void 0&&this.setZoom(e.zoom)}get padding(){return this.padding_}set padding(e){let n=this.padding_;this.padding_=e;const i=this.getCenterInternal();if(i){const s=e||[0,0,0,0];n=n||[0,0,0,0];const r=this.getResolution(),a=r/2*(s[3]-n[3]+n[1]-s[1]),o=r/2*(s[0]-n[0]+n[2]-s[2]);this.setCenterInternal([i[0]+a,i[1]-o])}}getUpdatedOptions_(e){const n=this.getProperties();return n.resolution!==void 0?n.resolution=this.getResolution():n.zoom=this.getZoom(),n.center=this.getCenterInternal(),n.rotation=this.getRotation(),Object.assign({},n,e)}animate(e){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const n=new Array(arguments.length);for(let i=0;i<n.length;++i){let s=arguments[i];s.center&&(s=Object.assign({},s),s.center=Bi(s.center,this.getProjection())),s.anchor&&(s=Object.assign({},s),s.anchor=Bi(s.anchor,this.getProjection())),n[i]=s}this.animateInternal.apply(this,n)}animateInternal(e){let n=arguments.length,i;n>1&&typeof arguments[n-1]=="function"&&(i=arguments[n-1],--n);let s=0;for(;s<n&&!this.isDef();++s){const u=arguments[s];u.center&&this.setCenterInternal(u.center),u.zoom!==void 0?this.setZoom(u.zoom):u.resolution&&this.setResolution(u.resolution),u.rotation!==void 0&&this.setRotation(u.rotation)}if(s===n){i&&Hl(i,!0);return}let r=Date.now(),a=this.targetCenter_.slice(),o=this.targetResolution_,l=this.targetRotation_;const c=[];for(;s<n;++s){const u=arguments[s],h={start:r,complete:!1,anchor:u.anchor,duration:u.duration!==void 0?u.duration:1e3,easing:u.easing||BL,callback:i};if(u.center&&(h.sourceCenter=a,h.targetCenter=u.center.slice(),a=h.targetCenter),u.zoom!==void 0?(h.sourceResolution=o,h.targetResolution=this.getResolutionForZoom(u.zoom),o=h.targetResolution):u.resolution&&(h.sourceResolution=o,h.targetResolution=u.resolution,o=h.targetResolution),u.rotation!==void 0){h.sourceRotation=l;const d=aa(u.rotation-l+Math.PI,2*Math.PI)-Math.PI;h.targetRotation=l+d,l=h.targetRotation}KO(h)?h.complete=!0:r+=h.duration,c.push(h)}this.animations_.push(c),this.setHint(Bt.ANIMATING,1),this.updateAnimations_()}getAnimating(){return this.hints_[Bt.ANIMATING]>0}getInteracting(){return this.hints_[Bt.INTERACTING]>0}cancelAnimations(){this.setHint(Bt.ANIMATING,-this.hints_[Bt.ANIMATING]);let e;for(let n=0,i=this.animations_.length;n<i;++n){const s=this.animations_[n];if(s[0].callback&&Hl(s[0].callback,!1),!e)for(let r=0,a=s.length;r<a;++r){const o=s[r];if(!o.complete){e=o.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=e,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const e=Date.now();let n=!1;for(let i=this.animations_.length-1;i>=0;--i){const s=this.animations_[i];let r=!0;for(let a=0,o=s.length;a<o;++a){const l=s[a];if(l.complete)continue;const c=e-l.start;let u=l.duration>0?c/l.duration:1;u>=1?(l.complete=!0,u=1):r=!1;const h=l.easing(u);if(l.sourceCenter){const d=l.sourceCenter[0],f=l.sourceCenter[1],g=l.targetCenter[0],m=l.targetCenter[1];this.nextCenter_=l.targetCenter;const v=d+h*(g-d),y=f+h*(m-f);this.targetCenter_=[v,y]}if(l.sourceResolution&&l.targetResolution){const d=h===1?l.targetResolution:l.sourceResolution+h*(l.targetResolution-l.sourceResolution);if(l.anchor){const f=this.getViewportSize_(this.getRotation()),g=this.constraints_.resolution(d,0,f,!0);this.targetCenter_=this.calculateCenterZoom(g,l.anchor)}this.nextResolution_=l.targetResolution,this.targetResolution_=d,this.applyTargetState_(!0)}if(l.sourceRotation!==void 0&&l.targetRotation!==void 0){const d=h===1?aa(l.targetRotation+Math.PI,2*Math.PI)-Math.PI:l.sourceRotation+h*(l.targetRotation-l.sourceRotation);if(l.anchor){const f=this.constraints_.rotation(d,!0);this.targetCenter_=this.calculateCenterRotate(f,l.anchor)}this.nextRotation_=l.targetRotation,this.targetRotation_=d}if(this.applyTargetState_(!0),n=!0,!l.complete)break}if(r){this.animations_[i]=null,this.setHint(Bt.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const a=s[0].callback;a&&Hl(a,!0)}}this.animations_=this.animations_.filter(Boolean),n&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(e,n){let i;const s=this.getCenterInternal();return s!==void 0&&(i=[s[0]-n[0],s[1]-n[1]],tg(i,e-this.getRotation()),NL(i,n)),i}calculateCenterZoom(e,n){let i;const s=this.getCenterInternal(),r=this.getResolution();if(s!==void 0&&r!==void 0){const a=n[0]-e*(n[0]-s[0])/r,o=n[1]-e*(n[1]-s[1])/r;i=[a,o]}return i}getViewportSize_(e){const n=this.viewportSize_;if(e){const i=n[0],s=n[1];return[Math.abs(i*Math.cos(e))+Math.abs(s*Math.sin(e)),Math.abs(i*Math.sin(e))+Math.abs(s*Math.cos(e))]}return n}setViewportSize(e){this.viewportSize_=Array.isArray(e)?e.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const e=this.getCenterInternal();return e&&Bd(e,this.getProjection())}getCenterInternal(){return this.get(Xn.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(e){return e!==void 0?(e[0]=this.hints_[0],e[1]=this.hints_[1],e):this.hints_.slice()}calculateExtent(e){const n=this.calculateExtentInternal(e);return V1(n,this.getProjection())}calculateExtentInternal(e){e=e||this.getViewportSizeMinusPadding_();const n=this.getCenterInternal();Ze(n,"The view center is not defined");const i=this.getResolution();Ze(i!==void 0,"The view resolution is not defined");const s=this.getRotation();return Ze(s!==void 0,"The view rotation is not defined"),Od(n,i,s,e)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))}setConstrainResolution(e){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:e}))}getProjection(){return this.projection_}getResolution(){return this.get(Xn.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(e,n){return this.getResolutionForExtentInternal(ps(e,this.getProjection()),n)}getResolutionForExtentInternal(e,n){n=n||this.getViewportSizeMinusPadding_();const i=Xe(e)/n[0],s=Jt(e)/n[1];return Math.max(i,s)}getResolutionForValueFunction(e){e=e||2;const n=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,s=Math.log(n/i)/Math.log(e);return function(r){return n/Math.pow(e,r*s)}}getRotation(){return this.get(Xn.ROTATION)}getValueForResolutionFunction(e){const n=Math.log(e||2),i=this.getConstrainedResolution(this.maxResolution_),s=this.minResolution_,r=Math.log(i/s)/n;return function(a){return Math.log(i/a)/n/r}}getViewportSizeMinusPadding_(e){let n=this.getViewportSize_(e);const i=this.padding_;return i&&(n=[n[0]-i[1]-i[3],n[1]-i[0]-i[2]]),n}getState(){const e=this.getProjection(),n=this.getResolution(),i=this.getRotation();let s=this.getCenterInternal();const r=this.padding_;if(r){const a=this.getViewportSizeMinusPadding_();s=wh(s,this.getViewportSize_(),[a[0]/2+r[3],a[1]/2+r[0]],n,i)}return{center:s.slice(0),projection:e!==void 0?e:null,resolution:n,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:i,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let e;const n=this.getResolution();return n!==void 0&&(e=this.getZoomForResolution(n)),e}getZoomForResolution(e){let n=this.minZoom_||0,i,s;if(this.resolutions_){const r=Yf(this.resolutions_,e,1);n=r,i=this.resolutions_[r],r==this.resolutions_.length-1?s=2:s=i/this.resolutions_[r+1]}else i=this.maxResolution_,s=this.zoomFactor_;return n+Math.log(i/e)/Math.log(s)}getResolutionForZoom(e){var n;if((n=this.resolutions_)!=null&&n.length){if(this.resolutions_.length===1)return this.resolutions_[0];const i=st(Math.floor(e),0,this.resolutions_.length-2),s=this.resolutions_[i]/this.resolutions_[i+1];return this.resolutions_[i]/Math.pow(s,st(e-i,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,e-this.minZoom_)}fit(e,n){let i;if(Ze(Array.isArray(e)||typeof e.getSimplifiedGeometry=="function","Invalid extent or geometry provided as `geometry`"),Array.isArray(e)){Ze(!gl(e),"Cannot fit empty extent provided as `geometry`");const s=ps(e,this.getProjection());i=c0(s)}else if(e.getType()==="Circle"){const s=ps(e.getExtent(),this.getProjection());i=c0(s),i.rotate(this.getRotation(),_r(s))}else i=e;this.fitInternal(i,n)}rotatedExtentForGeometry(e){const n=this.getRotation(),i=Math.cos(n),s=Math.sin(-n),r=e.getFlatCoordinates(),a=e.getStride();let o=1/0,l=1/0,c=-1/0,u=-1/0;for(let h=0,d=r.length;h<d;h+=a){const f=r[h]*i-r[h+1]*s,g=r[h]*s+r[h+1]*i;o=Math.min(o,f),l=Math.min(l,g),c=Math.max(c,f),u=Math.max(u,g)}return[o,l,c,u]}fitInternal(e,n){n=n||{};let i=n.size;i||(i=this.getViewportSizeMinusPadding_());const s=n.padding!==void 0?n.padding:[0,0,0,0],r=n.nearest!==void 0?n.nearest:!1;let a;n.minResolution!==void 0?a=n.minResolution:n.maxZoom!==void 0?a=this.getResolutionForZoom(n.maxZoom):a=0;const o=this.rotatedExtentForGeometry(e);let l=this.getResolutionForExtentInternal(o,[i[0]-s[1]-s[3],i[1]-s[0]-s[2]]);l=isNaN(l)?a:Math.max(l,a),l=this.getConstrainedResolution(l,r?0:1);const c=this.getRotation(),u=Math.sin(c),h=Math.cos(c),d=_r(o);d[0]+=(s[1]-s[3])/2*l,d[1]+=(s[0]-s[2])/2*l;const f=d[0]*h-d[1]*u,g=d[1]*h+d[0]*u,m=this.getConstrainedCenter([f,g],l),v=n.callback?n.callback:$o;n.duration!==void 0?this.animateInternal({resolution:l,center:m,duration:n.duration,easing:n.easing},v):(this.targetResolution_=l,this.targetCenter_=m,this.applyTargetState_(!1,!0),Hl(v,!0))}centerOn(e,n,i){this.centerOnInternal(Bi(e,this.getProjection()),n,i)}centerOnInternal(e,n,i){this.setCenterInternal(wh(e,n,i,this.getResolution(),this.getRotation()))}calculateCenterShift(e,n,i,s){let r;const a=this.padding_;if(a&&e){const o=this.getViewportSizeMinusPadding_(-i),l=wh(e,s,[o[0]/2+a[3],o[1]/2+a[0]],n,i);r=[e[0]-l[0],e[1]-l[1]]}return r}isDef(){return!!this.getCenterInternal()&&this.getResolution()!==void 0}adjustCenter(e){const n=Bd(this.targetCenter_,this.getProjection());this.setCenter([n[0]+e[0],n[1]+e[1]])}adjustCenterInternal(e){const n=this.targetCenter_;this.setCenterInternal([n[0]+e[0],n[1]+e[1]])}adjustResolution(e,n){n=n&&Bi(n,this.getProjection()),this.adjustResolutionInternal(e,n)}adjustResolutionInternal(e,n){const i=this.getAnimating()||this.getInteracting(),s=this.getViewportSize_(this.getRotation()),r=this.constraints_.resolution(this.targetResolution_*e,0,s,i);n&&(this.targetCenter_=this.calculateCenterZoom(r,n)),this.targetResolution_*=e,this.applyTargetState_()}adjustZoom(e,n){this.adjustResolution(Math.pow(this.zoomFactor_,-e),n)}adjustRotation(e,n){n&&(n=Bi(n,this.getProjection())),this.adjustRotationInternal(e,n)}adjustRotationInternal(e,n){const i=this.getAnimating()||this.getInteracting(),s=this.constraints_.rotation(this.targetRotation_+e,i);n&&(this.targetCenter_=this.calculateCenterRotate(s,n)),this.targetRotation_+=e,this.applyTargetState_()}setCenter(e){this.setCenterInternal(e&&Bi(e,this.getProjection()))}setCenterInternal(e){this.targetCenter_=e,this.applyTargetState_()}setHint(e,n){return this.hints_[e]+=n,this.changed(),this.hints_[e]}setResolution(e){this.targetResolution_=e,this.applyTargetState_()}setRotation(e){this.targetRotation_=e,this.applyTargetState_()}setZoom(e){this.setResolution(this.getResolutionForZoom(e))}applyTargetState_(e,n){const i=this.getAnimating()||this.getInteracting()||n,s=this.constraints_.rotation(this.targetRotation_,i),r=this.getViewportSize_(s),a=this.constraints_.resolution(this.targetResolution_,0,r,i),o=this.constraints_.center(this.targetCenter_,a,r,i,this.calculateCenterShift(this.targetCenter_,a,s,r));this.get(Xn.ROTATION)!==s&&this.set(Xn.ROTATION,s),this.get(Xn.RESOLUTION)!==a&&(this.set(Xn.RESOLUTION,a),this.set("zoom",this.getZoom(),!0)),(!o||!this.get(Xn.CENTER)||!Hc(this.get(Xn.CENTER),o))&&this.set(Xn.CENTER,o),this.getAnimating()&&!e&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(e,n,i){e=e!==void 0?e:200;const s=n||0,r=this.constraints_.rotation(this.targetRotation_),a=this.getViewportSize_(r),o=this.constraints_.resolution(this.targetResolution_,s,a),l=this.constraints_.center(this.targetCenter_,o,a,!1,this.calculateCenterShift(this.targetCenter_,o,r,a));if(e===0&&!this.cancelAnchor_){this.targetResolution_=o,this.targetRotation_=r,this.targetCenter_=l,this.applyTargetState_();return}i=i||(e===0?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,(this.getResolution()!==o||this.getRotation()!==r||!this.getCenterInternal()||!Hc(this.getCenterInternal(),l))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:r,center:l,resolution:o,duration:e,easing:Pa,anchor:i}))}beginInteraction(){this.resolveConstraints(0),this.setHint(Bt.INTERACTING,1)}endInteraction(e,n,i){i=i&&Bi(i,this.getProjection()),this.endInteractionInternal(e,n,i)}endInteractionInternal(e,n,i){this.getInteracting()&&(this.setHint(Bt.INTERACTING,-1),this.resolveConstraints(e,n,i))}getConstrainedCenter(e,n){const i=this.getViewportSize_(this.getRotation());return this.constraints_.center(e,n||this.getResolution(),i)}getConstrainedZoom(e,n){const i=this.getResolutionForZoom(e);return this.getZoomForResolution(this.getConstrainedResolution(i,n))}getConstrainedResolution(e,n){n=n||0;const i=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(e,n,i)}}function Hl(t,e){setTimeout(function(){t(e)},0)}function HO(t){if(t.extent!==void 0){const n=t.smoothExtentConstraint!==void 0?t.smoothExtentConstraint:!0;return Hv(t.extent,t.constrainOnlyCenter,n)}const e=ag(t.projection,"EPSG:3857");if(t.multiWorld!==!0&&e.isGlobal()){const n=e.getExtent().slice();return n[0]=-1/0,n[2]=1/0,Hv(n,!1,!1)}return RL}function XO(t){let e,n,i,a=t.minZoom!==void 0?t.minZoom:Ch,o=t.maxZoom!==void 0?t.maxZoom:28;const l=t.zoomFactor!==void 0?t.zoomFactor:2,c=t.multiWorld!==void 0?t.multiWorld:!1,u=t.smoothResolutionConstraint!==void 0?t.smoothResolutionConstraint:!0,h=t.showFullExtent!==void 0?t.showFullExtent:!1,d=ag(t.projection,"EPSG:3857"),f=d.getExtent();let g=t.constrainOnlyCenter,m=t.extent;if(!c&&!m&&d.isGlobal()&&(g=!1,m=f),t.resolutions!==void 0){const v=t.resolutions;n=v[a],i=v[o]!==void 0?v[o]:v[v.length-1],t.constrainResolution?e=GO(v,u,!g&&m,h):e=u0(n,i,u,!g&&m,h)}else{const y=(f?Math.max(Xe(f),Jt(f)):360*ng.degrees/d.getMetersPerUnit())/mg/Math.pow(2,Ch),_=y/Math.pow(2,28-Ch);n=t.maxResolution,n!==void 0?a=0:n=y/Math.pow(l,a),i=t.minResolution,i===void 0&&(t.maxZoom!==void 0?t.maxResolution!==void 0?i=n/Math.pow(l,o):i=y/Math.pow(l,o):i=_),o=a+Math.floor(Math.log(n/i)/Math.log(l)),i=n/Math.pow(l,o-a),t.constrainResolution?e=zO(l,n,i,u,!g&&m,h):e=u0(n,i,u,!g&&m,h)}return{constraint:e,maxResolution:n,minResolution:i,minZoom:a,zoomFactor:l}}function qO(t){if(t.enableRotation!==void 0?t.enableRotation:!0){const n=t.constrainRotation;return n===void 0||n===!0?UO():n===!1?h0:typeof n=="number"?WO(n):h0}return gg}function KO(t){return!(t.sourceCenter&&t.targetCenter&&!Hc(t.sourceCenter,t.targetCenter)||t.sourceResolution!==t.targetResolution||t.sourceRotation!==t.targetRotation)}function wh(t,e,n,i,s){const r=Math.cos(-s);let a=Math.sin(-s),o=t[0]*r-t[1]*a,l=t[1]*r+t[0]*a;o+=(e[0]/2-n[0])*i,l+=(n[1]-e[1]/2)*i,a=-a;const c=o*r-l*a,u=l*r+o*a;return[c,u]}const Xl="ol-hidden",Vu="ol-unselectable",vg="ol-control",d0="ol-collapsed",YO=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z0-9]+?)\\s*$`].join(""),"i"),f0=["style","variant","weight","size","lineHeight","family"],K1=function(t){const e=t.match(YO);if(!e)return null;const n={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"};for(let i=0,s=f0.length;i<s;++i){const r=e[i+1];r!==void 0&&(n[f0[i]]=r)}return n.families=n.family.split(/,\s?/),n};function St(t,e,n,i){let s;return n&&n.length?s=n.shift():p1?s=new OffscreenCanvas(t||300,e||300):s=document.createElement("canvas"),t&&(s.width=t),e&&(s.height=e),s.getContext("2d",i)}let Mh;function Zc(){return Mh||(Mh=St(1,1)),Mh}function $u(t){const e=t.canvas;e.width=1,e.height=1,t.clearRect(0,0,1,1)}function g0(t,e){const n=e.parentNode;n&&n.replaceChild(t,e)}function ZO(t){for(;t.lastChild;)t.lastChild.remove()}function JO(t,e){const n=t.childNodes;for(let i=0;;++i){const s=n[i],r=e[i];if(!s&&!r)break;if(s!==r){if(!s){t.appendChild(r);continue}if(!r){t.removeChild(s),--i;continue}t.insertBefore(r,s)}}}class Gu extends Ii{constructor(e){super();const n=e.element;n&&!e.target&&!n.style.pointerEvents&&(n.style.pointerEvents="auto"),this.element=n||null,this.target_=null,this.map_=null,this.listenerKeys=[],e.render&&(this.render=e.render),e.target&&this.setTarget(e.target)}disposeInternal(){var e;(e=this.element)==null||e.remove(),super.disposeInternal()}getMap(){return this.map_}setMap(e){var n;this.map_&&((n=this.element)==null||n.remove());for(let i=0,s=this.listenerKeys.length;i<s;++i)lt(this.listenerKeys[i]);if(this.listenerKeys.length=0,this.map_=e,e){const i=this.target_??e.getOverlayContainerStopEvent();this.element&&i.appendChild(this.element),this.render!==$o&&this.listenerKeys.push($e(e,ms.POSTRENDER,this.render,this)),e.render()}}render(e){}setTarget(e){this.target_=typeof e=="string"?document.getElementById(e):e}}const QO=Object.freeze(Object.defineProperty({__proto__:null,default:Gu},Symbol.toStringTag,{value:"Module"}));class ek extends Gu{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=e.collapsed!==void 0?e.collapsed:!0,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=e.collapsible!==void 0,this.collapsible_=e.collapsible!==void 0?e.collapsible:!0,this.collapsible_||(this.collapsed_=!1),this.attributions_=e.attributions;const n=e.className!==void 0?e.className:"ol-attribution",i=e.tipLabel!==void 0?e.tipLabel:"Attributions",s=e.expandClassName!==void 0?e.expandClassName:n+"-expand",r=e.collapseLabel!==void 0?e.collapseLabel:"",a=e.collapseClassName!==void 0?e.collapseClassName:n+"-collapse";typeof r=="string"?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=r,this.collapseLabel_.className=a):this.collapseLabel_=r;const o=e.label!==void 0?e.label:"i";typeof o=="string"?(this.label_=document.createElement("span"),this.label_.textContent=o,this.label_.className=s):this.label_=o;const l=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=i,this.toggleButton_.appendChild(l),this.toggleButton_.addEventListener(Ie.CLICK,this.handleClick_.bind(this),!1);const c=n+" "+Vu+" "+vg+(this.collapsed_&&this.collapsible_?" "+d0:"")+(this.collapsible_?"":" ol-uncollapsible"),u=this.element;u.className=c,u.appendChild(this.toggleButton_),u.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(e){const n=this.getMap().getAllLayers(),i=new Set(n.flatMap(s=>s.getAttributions(e)));if(this.attributions_!==void 0&&(Array.isArray(this.attributions_)?this.attributions_.forEach(s=>i.add(s)):i.add(this.attributions_)),!this.overrideCollapsible_){const s=!n.some(r=>{var a;return((a=r.getSource())==null?void 0:a.getAttributionsCollapsible())===!1});this.setCollapsible(s)}return Array.from(i)}async updateElement_(e){if(!e){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}const n=await Promise.all(this.collectSourceAttributions_(e).map(s=>vL(()=>s))),i=n.length>0;if(this.renderedVisible_!=i&&(this.element.style.display=i?"":"none",this.renderedVisible_=i),!Fs(n,this.renderedAttributions_)){ZO(this.ulElement_);for(let s=0,r=n.length;s<r;++s){const a=document.createElement("li");a.innerHTML=n[s],this.ulElement_.appendChild(a)}this.renderedAttributions_=n}}handleClick_(e){e.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(d0),this.collapsed_?g0(this.collapseLabel_,this.label_):g0(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(e){this.userCollapsed_=e,!(!this.collapsible_||this.collapsed_===e)&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(e){this.updateElement_(e.frameState)}}class tk extends Gu{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target});const n=e.className!==void 0?e.className:"ol-rotate",i=e.label!==void 0?e.label:"",s=e.compassClassName!==void 0?e.compassClassName:"ol-compass";this.label_=null,typeof i=="string"?(this.label_=document.createElement("span"),this.label_.className=s,this.label_.textContent=i):(this.label_=i,this.label_.classList.add(s));const r=e.tipLabel?e.tipLabel:"Reset rotation",a=document.createElement("button");a.className=n+"-reset",a.setAttribute("type","button"),a.title=r,a.appendChild(this.label_),a.addEventListener(Ie.CLICK,this.handleClick_.bind(this),!1);const o=n+" "+Vu+" "+vg,l=this.element;l.className=o,l.appendChild(a),this.callResetNorth_=e.resetNorth?e.resetNorth:void 0,this.duration_=e.duration!==void 0?e.duration:250,this.autoHide_=e.autoHide!==void 0?e.autoHide:!0,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(Xl)}handleClick_(e){e.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const n=this.getMap().getView();if(!n)return;const i=n.getRotation();i!==void 0&&(this.duration_>0&&i%(2*Math.PI)!==0?n.animate({rotation:0,duration:this.duration_,easing:Pa}):n.setRotation(0))}render(e){const n=e.frameState;if(!n)return;const i=n.viewState.rotation;if(i!=this.rotation_){const s="rotate("+i+"rad)";if(this.autoHide_){const r=this.element.classList.contains(Xl);!r&&i===0?this.element.classList.add(Xl):r&&i!==0&&this.element.classList.remove(Xl)}this.label_.style.transform=s}this.rotation_=i}}class nk extends Gu{constructor(e){e=e||{},super({element:document.createElement("div"),target:e.target});const n=e.className!==void 0?e.className:"ol-zoom",i=e.delta!==void 0?e.delta:1,s=e.zoomInClassName!==void 0?e.zoomInClassName:n+"-in",r=e.zoomOutClassName!==void 0?e.zoomOutClassName:n+"-out",a=e.zoomInLabel!==void 0?e.zoomInLabel:"+",o=e.zoomOutLabel!==void 0?e.zoomOutLabel:"",l=e.zoomInTipLabel!==void 0?e.zoomInTipLabel:"Zoom in",c=e.zoomOutTipLabel!==void 0?e.zoomOutTipLabel:"Zoom out",u=document.createElement("button");u.className=s,u.setAttribute("type","button"),u.title=l,u.appendChild(typeof a=="string"?document.createTextNode(a):a),u.addEventListener(Ie.CLICK,this.handleClick_.bind(this,i),!1);const h=document.createElement("button");h.className=r,h.setAttribute("type","button"),h.title=c,h.appendChild(typeof o=="string"?document.createTextNode(o):o),h.addEventListener(Ie.CLICK,this.handleClick_.bind(this,-i),!1);const d=n+" "+Vu+" "+vg,f=this.element;f.className=d,f.appendChild(u),f.appendChild(h),this.duration_=e.duration!==void 0?e.duration:250}handleClick_(e,n){n.preventDefault(),this.zoomByDelta_(e)}zoomByDelta_(e){const i=this.getMap().getView();if(!i)return;const s=i.getZoom();if(s!==void 0){const r=i.getConstrainedZoom(s+e);this.duration_>0?(i.getAnimating()&&i.cancelAnimations(),i.animate({zoom:r,duration:this.duration_,easing:Pa})):i.setZoom(r)}}}function ik(t){t=t||{};const e=new xi;return(t.zoom!==void 0?t.zoom:!0)&&e.push(new nk(t.zoomOptions)),(t.rotate!==void 0?t.rotate:!0)&&e.push(new tk(t.rotateOptions)),(t.attribution!==void 0?t.attribution:!0)&&e.push(new ek(t.attributionOptions)),e}class sk{constructor(e,n,i){this.decay_=e,this.minVelocity_=n,this.delay_=i,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(e,n){this.points_.push(e,n,Date.now())}end(){if(this.points_.length<6)return!1;const e=Date.now()-this.delay_,n=this.points_.length-3;if(this.points_[n+2]<e)return!1;let i=n-3;for(;i>0&&this.points_[i+2]>e;)i-=3;const s=this.points_[n+2]-this.points_[i+2];if(s<1e3/60)return!1;const r=this.points_[n]-this.points_[i],a=this.points_[n+1]-this.points_[i+1];return this.angle_=Math.atan2(a,r),this.initialVelocity_=Math.sqrt(r*r+a*a)/s,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}}const m0={ACTIVE:"active"};class yl extends Ii{constructor(e){super(),this.on,this.once,this.un,e&&e.handleEvent&&(this.handleEvent=e.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(m0.ACTIVE)}getMap(){return this.map_}handleEvent(e){return!0}setActive(e){this.set(m0.ACTIVE,e)}setMap(e){this.map_=e}}function rk(t,e,n){const i=t.getCenterInternal();if(i){const s=[i[0]+e[0],i[1]+e[1]];t.animateInternal({duration:n!==void 0?n:250,easing:VL,center:t.getConstrainedCenter(s)})}}function yg(t,e,n,i){const s=t.getZoom();if(s===void 0)return;const r=t.getConstrainedZoom(s+e),a=t.getResolutionForZoom(r);t.getAnimating()&&t.cancelAnimations(),t.animate({resolution:a,anchor:n,duration:i!==void 0?i:250,easing:Pa})}class ak extends yl{constructor(e){super(),e=e||{},this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:250}handleEvent(e){let n=!1;if(e.type==ft.DBLCLICK){const i=e.originalEvent,s=e.map,r=e.coordinate,a=i.shiftKey?-this.delta_:this.delta_,o=s.getView();yg(o,a,r,this.duration_),i.preventDefault(),n=!0}return!n}}function Vd(t){const e=arguments;return function(n){let i=!0;for(let s=0,r=e.length;s<r&&(i=i&&e[s](n),!!i);++s);return i}}const ok=function(t){const e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},lk=function(t){const e=t.map.getTargetElement(),n=e.getRootNode(),i=t.map.getOwnerDocument().activeElement;return n instanceof ShadowRoot?n.host.contains(i):e.contains(i)},Y1=function(t){const e=t.map.getTargetElement(),n=e.getRootNode();return(n instanceof ShadowRoot?n.host:e).hasAttribute("tabindex")?lk(t):!0},ck=Vo,Z1=function(t){const e=t.originalEvent;return e instanceof PointerEvent&&e.button==0&&!(xL&&_1&&e.ctrlKey)},J1=function(t){const e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},uk=function(t){const e=t.originalEvent;return _1?e.metaKey:e.ctrlKey},hk=function(t){const e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},Q1=function(t){const e=t.originalEvent,n=e.target.tagName;return n!=="INPUT"&&n!=="SELECT"&&n!=="TEXTAREA"&&!e.target.isContentEditable},Th=function(t){const e=t.originalEvent;return e instanceof PointerEvent&&e.pointerType=="mouse"},dk=function(t){const e=t.originalEvent;return e instanceof PointerEvent&&e.isPrimary&&e.button===0};class _l extends yl{constructor(e){e=e||{},super(e),e.handleDownEvent&&(this.handleDownEvent=e.handleDownEvent),e.handleDragEvent&&(this.handleDragEvent=e.handleDragEvent),e.handleMoveEvent&&(this.handleMoveEvent=e.handleMoveEvent),e.handleUpEvent&&(this.handleUpEvent=e.handleUpEvent),e.stopDown&&(this.stopDown=e.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(e){return!1}handleDragEvent(e){}handleEvent(e){if(!e.originalEvent)return!0;let n=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==ft.POINTERDRAG)this.handleDragEvent(e),e.originalEvent.preventDefault();else if(e.type==ft.POINTERUP){const i=this.handleUpEvent(e);this.handlingDownUpSequence=i&&this.targetPointers.length>0}}else if(e.type==ft.POINTERDOWN){const i=this.handleDownEvent(e);this.handlingDownUpSequence=i,n=this.stopDown(i)}else e.type==ft.POINTERMOVE&&this.handleMoveEvent(e);return!n}handleMoveEvent(e){}handleUpEvent(e){return!1}stopDown(e){return e}updateTrackedPointers_(e){e.activePointers&&(this.targetPointers=e.activePointers)}}function _g(t){const e=t.length;let n=0,i=0;for(let s=0;s<e;s++)n+=t[s].clientX,i+=t[s].clientY;return{clientX:n/e,clientY:i/e}}class fk extends _l{constructor(e){super({stopDown:Au}),e=e||{},this.kinetic_=e.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;const n=e.condition?e.condition:Vd(J1,dk);this.condition_=e.onFocusOnly?Vd(Y1,n):n,this.noKinetic_=!1}handleDragEvent(e){const n=e.map;this.panning_||(this.panning_=!0,n.getView().beginInteraction());const i=this.targetPointers,s=n.getEventPixel(_g(i));if(i.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(s[0],s[1]),this.lastCentroid){const r=[this.lastCentroid[0]-s[0],s[1]-this.lastCentroid[1]],o=e.map.getView();FL(r,o.getResolution()),tg(r,o.getRotation()),o.adjustCenterInternal(r)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=s,this.lastPointersCount_=i.length,e.originalEvent.preventDefault()}handleUpEvent(e){const n=e.map,i=n.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const s=this.kinetic_.getDistance(),r=this.kinetic_.getAngle(),a=i.getCenterInternal(),o=n.getPixelFromCoordinateInternal(a),l=n.getCoordinateFromPixelInternal([o[0]-s*Math.cos(r),o[1]-s*Math.sin(r)]);i.animateInternal({center:i.getConstrainedCenter(l),duration:500,easing:Pa})}return this.panning_&&(this.panning_=!1,i.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(e){if(this.targetPointers.length>0&&this.condition_(e)){const i=e.map.getView();return this.lastCentroid=null,i.getAnimating()&&i.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}}class gk extends _l{constructor(e){e=e||{},super({stopDown:Au}),this.condition_=e.condition?e.condition:ok,this.lastAngle_=void 0,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){if(!Th(e))return;const n=e.map,i=n.getView();if(i.getConstraints().rotation===gg)return;const s=n.getSize(),r=e.pixel,a=Math.atan2(s[1]/2-r[1],r[0]-s[0]/2);if(this.lastAngle_!==void 0){const o=a-this.lastAngle_;i.adjustRotationInternal(-o)}this.lastAngle_=a}handleUpEvent(e){return Th(e)?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){return Th(e)&&Z1(e)&&this.condition_(e)?(e.map.getView().beginInteraction(),this.lastAngle_=void 0,!0):!1}}class mk extends Ru{constructor(e){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+e,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const e=this.startPixel_,n=this.endPixel_,i="px",s=this.element_.style;s.left=Math.min(e[0],n[0])+i,s.top=Math.min(e[1],n[1])+i,s.width=Math.abs(n[0]-e[0])+i,s.height=Math.abs(n[1]-e[1])+i}setMap(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const n=this.element_.style;n.left="inherit",n.top="inherit",n.width="inherit",n.height="inherit"}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(e,n){this.startPixel_=e,this.endPixel_=n,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){if(!this.map_)return;const e=this.startPixel_,n=this.endPixel_,s=[e,[e[0],n[1]],n,[n[0],e[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);s[4]=s[0].slice(),this.geometry_?this.geometry_.setCoordinates([s]):this.geometry_=new pa([s])}getGeometry(){return this.geometry_}}const Or={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"};class Ua extends ns{constructor(e,n,i){super(e),this.coordinate=n,this.mapBrowserEvent=i}}class vk extends _l{constructor(e){super(),this.on,this.once,this.un,e=e??{},this.box_=new mk(e.className||"ol-dragbox"),this.minArea_=e.minArea??64,e.onBoxEnd&&(this.onBoxEnd=e.onBoxEnd),this.startPixel_=null,this.condition_=e.condition??Z1,this.boxEndCondition_=e.boxEndCondition??this.defaultBoxEndCondition}defaultBoxEndCondition(e,n,i){const s=i[0]-n[0],r=i[1]-n[1];return s*s+r*r>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(e){this.startPixel_&&(this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new Ua(Or.BOXDRAG,e.coordinate,e)))}handleUpEvent(e){if(!this.startPixel_)return!1;const n=this.boxEndCondition_(e,this.startPixel_,e.pixel);return n&&this.onBoxEnd(e),this.dispatchEvent(new Ua(n?Or.BOXEND:Or.BOXCANCEL,e.coordinate,e)),this.box_.setMap(null),this.startPixel_=null,!1}handleDownEvent(e){return this.condition_(e)?(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new Ua(Or.BOXSTART,e.coordinate,e)),!0):!1}onBoxEnd(e){}setActive(e){e||(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new Ua(Or.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setActive(e)}setMap(e){this.getMap()&&(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new Ua(Or.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setMap(e)}}class yk extends vk{constructor(e){e=e||{};const n=e.condition?e.condition:hk;super({condition:n,className:e.className||"ol-dragzoom",minArea:e.minArea}),this.duration_=e.duration!==void 0?e.duration:200,this.out_=e.out!==void 0?e.out:!1}onBoxEnd(e){const i=this.getMap().getView();let s=this.getGeometry();if(this.out_){const r=i.rotatedExtentForGeometry(s),a=i.getResolutionForExtentInternal(r),o=i.getResolution()/a;s=s.clone(),s.scale(o*o)}i.fitInternal(s,{duration:this.duration_,easing:Pa})}}const Xs={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown"};class _k extends yl{constructor(e){super(),e=e||{},this.defaultCondition_=function(n){return J1(n)&&Q1(n)},this.condition_=e.condition!==void 0?e.condition:this.defaultCondition_,this.duration_=e.duration!==void 0?e.duration:100,this.pixelDelta_=e.pixelDelta!==void 0?e.pixelDelta:128}handleEvent(e){let n=!1;if(e.type==Ie.KEYDOWN){const i=e.originalEvent,s=i.key;if(this.condition_(e)&&(s==Xs.DOWN||s==Xs.LEFT||s==Xs.RIGHT||s==Xs.UP)){const a=e.map.getView(),o=a.getResolution()*this.pixelDelta_;let l=0,c=0;s==Xs.DOWN?c=-o:s==Xs.LEFT?l=-o:s==Xs.RIGHT?l=o:c=o;const u=[l,c];tg(u,a.getRotation()),rk(a,u,this.duration_),i.preventDefault(),n=!0}}return!n}}class pk extends yl{constructor(e){super(),e=e||{},this.condition_=e.condition?e.condition:function(n){return!uk(n)&&Q1(n)},this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:100}handleEvent(e){let n=!1;if(e.type==Ie.KEYDOWN||e.type==Ie.KEYPRESS){const i=e.originalEvent,s=i.key;if(this.condition_(e)&&(s==="+"||s==="-")){const r=e.map,a=s==="+"?this.delta_:-this.delta_,o=r.getView();yg(o,a,void 0,this.duration_),i.preventDefault(),n=!0}}return!n}}class xk extends yl{constructor(e){e=e||{},super(e),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=e.maxDelta!==void 0?e.maxDelta:1,this.duration_=e.duration!==void 0?e.duration:250,this.timeout_=e.timeout!==void 0?e.timeout:80,this.useAnchor_=e.useAnchor!==void 0?e.useAnchor:!0,this.constrainResolution_=e.constrainResolution!==void 0?e.constrainResolution:!1;const n=e.condition?e.condition:ck;this.condition_=e.onFocusOnly?Vd(Y1,n):n,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const e=this.getMap();if(!e)return;e.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_?e.getCoordinateFromPixel(this.lastAnchor_):null)}handleEvent(e){if(!this.condition_(e)||e.type!==Ie.WHEEL)return!0;const i=e.map,s=e.originalEvent;s.preventDefault(),this.useAnchor_&&(this.lastAnchor_=e.pixel);let r;if(e.type==Ie.WHEEL&&(r=s.deltaY,s.deltaMode===WheelEvent.DOM_DELTA_LINE&&(r*=40)),r===0)return!1;this.lastDelta_=r;const a=Date.now();this.startTime_===void 0&&(this.startTime_=a),(!this.mode_||a-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(r)<4?"trackpad":"wheel");const o=i.getView();if(this.mode_==="trackpad"&&!(o.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(o.getAnimating()&&o.cancelAnimations(),o.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),o.adjustZoom(-r/this.deltaPerZoom_,this.lastAnchor_?i.getCoordinateFromPixel(this.lastAnchor_):null),this.startTime_=a,!1;this.totalDelta_+=r;const l=Math.max(this.timeout_-(a-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,i),l),!1}handleWheelZoom_(e){const n=e.getView();n.getAnimating()&&n.cancelAnimations();let i=-st(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(n.getConstrainResolution()||this.constrainResolution_)&&(i=i?i>0?1:-1:0),yg(n,i,this.lastAnchor_?e.getCoordinateFromPixel(this.lastAnchor_):null,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(e){this.useAnchor_=e,e||(this.lastAnchor_=null)}}class bk extends _l{constructor(e){e=e||{};const n=e;n.stopDown||(n.stopDown=Au),super(n),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=e.threshold!==void 0?e.threshold:.3,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){let n=0;const i=this.targetPointers[0],s=this.targetPointers[1],r=Math.atan2(s.clientY-i.clientY,s.clientX-i.clientX);if(this.lastAngle_!==void 0){const l=r-this.lastAngle_;this.rotationDelta_+=l,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),n=l}this.lastAngle_=r;const a=e.map,o=a.getView();o.getConstraints().rotation!==gg&&(this.anchor_=a.getCoordinateFromPixelInternal(a.getEventPixel(_g(this.targetPointers))),this.rotating_&&(a.render(),o.adjustRotationInternal(n,this.anchor_)))}handleUpEvent(e){return this.targetPointers.length<2?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){if(this.targetPointers.length>=2){const n=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1}}class Sk extends _l{constructor(e){e=e||{};const n=e;n.stopDown||(n.stopDown=Au),super(n),this.anchor_=null,this.duration_=e.duration!==void 0?e.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(e){let n=1;const i=this.targetPointers[0],s=this.targetPointers[1],r=i.clientX-s.clientX,a=i.clientY-s.clientY,o=Math.sqrt(r*r+a*a);this.lastDistance_!==void 0&&(n=this.lastDistance_/o),this.lastDistance_=o;const l=e.map,c=l.getView();n!=1&&(this.lastScaleDelta_=n),this.anchor_=l.getCoordinateFromPixelInternal(l.getEventPixel(_g(this.targetPointers))),l.render(),c.adjustResolutionInternal(n,this.anchor_)}handleUpEvent(e){if(this.targetPointers.length<2){const i=e.map.getView(),s=this.lastScaleDelta_>1?1:-1;return i.endInteraction(this.duration_,s),!1}return!0}handleDownEvent(e){if(this.targetPointers.length>=2){const n=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1}}function Ek(t){t=t||{};const e=new xi,n=new sk(-.005,.05,100);return(t.altShiftDragRotate!==void 0?t.altShiftDragRotate:!0)&&e.push(new gk),(t.doubleClickZoom!==void 0?t.doubleClickZoom:!0)&&e.push(new ak({delta:t.zoomDelta,duration:t.zoomDuration})),(t.dragPan!==void 0?t.dragPan:!0)&&e.push(new fk({onFocusOnly:t.onFocusOnly,kinetic:n})),(t.pinchRotate!==void 0?t.pinchRotate:!0)&&e.push(new bk),(t.pinchZoom!==void 0?t.pinchZoom:!0)&&e.push(new Sk({duration:t.zoomDuration})),(t.keyboard!==void 0?t.keyboard:!0)&&(e.push(new _k),e.push(new pk({delta:t.zoomDelta,duration:t.zoomDuration}))),(t.mouseWheelZoom!==void 0?t.mouseWheelZoom:!0)&&e.push(new xk({onFocusOnly:t.onFocusOnly,duration:t.zoomDuration})),(t.shiftDragZoom!==void 0?t.shiftDragZoom:!0)&&e.push(new yk({duration:t.zoomDuration})),e}const et={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"};class ex extends Ii{constructor(e){super(),this.on,this.once,this.un,this.background_=e.background;const n=Object.assign({},e);typeof e.properties=="object"&&(delete n.properties,Object.assign(n,e.properties)),n[et.OPACITY]=e.opacity!==void 0?e.opacity:1,Ze(typeof n[et.OPACITY]=="number","Layer opacity must be a number"),n[et.VISIBLE]=e.visible!==void 0?e.visible:!0,n[et.Z_INDEX]=e.zIndex,n[et.MAX_RESOLUTION]=e.maxResolution!==void 0?e.maxResolution:1/0,n[et.MIN_RESOLUTION]=e.minResolution!==void 0?e.minResolution:0,n[et.MIN_ZOOM]=e.minZoom!==void 0?e.minZoom:-1/0,n[et.MAX_ZOOM]=e.maxZoom!==void 0?e.maxZoom:1/0,this.className_=n.className!==void 0?n.className:"ol-layer",delete n.className,this.setProperties(n),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(e){const n=this.state_||{layer:this,managed:e===void 0?!0:e},i=this.getZIndex();return n.opacity=st(Math.round(this.getOpacity()*100)/100,0,1),n.visible=this.getVisible(),n.extent=this.getExtent(),n.zIndex=i===void 0&&!n.managed?1/0:i,n.maxResolution=this.getMaxResolution(),n.minResolution=Math.max(this.getMinResolution(),0),n.minZoom=this.getMinZoom(),n.maxZoom=this.getMaxZoom(),this.state_=n,n}getLayersArray(e){return Ve()}getLayerStatesArray(e){return Ve()}getExtent(){return this.get(et.EXTENT)}getMaxResolution(){return this.get(et.MAX_RESOLUTION)}getMinResolution(){return this.get(et.MIN_RESOLUTION)}getMinZoom(){return this.get(et.MIN_ZOOM)}getMaxZoom(){return this.get(et.MAX_ZOOM)}getOpacity(){return this.get(et.OPACITY)}getSourceState(){return Ve()}getVisible(){return this.get(et.VISIBLE)}getZIndex(){return this.get(et.Z_INDEX)}setBackground(e){this.background_=e,this.changed()}setExtent(e){this.set(et.EXTENT,e)}setMaxResolution(e){this.set(et.MAX_RESOLUTION,e)}setMinResolution(e){this.set(et.MIN_RESOLUTION,e)}setMaxZoom(e){this.set(et.MAX_ZOOM,e)}setMinZoom(e){this.set(et.MIN_ZOOM,e)}setOpacity(e){Ze(typeof e=="number","Layer opacity must be a number"),this.set(et.OPACITY,e)}setVisible(e){this.set(et.VISIBLE,e)}setZIndex(e){this.set(et.Z_INDEX,e)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}}class Gi extends ns{constructor(e,n){super(e),this.layer=n}}const Rh={LAYERS:"layers"};class Tr extends ex{constructor(e){e=e||{};const n=Object.assign({},e);delete n.layers;let i=e.layers;super(n),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(Rh.LAYERS,this.handleLayersChanged_),i?Array.isArray(i)?i=new xi(i.slice(),{unique:!0}):Ze(typeof i.getArray=="function","Expected `layers` to be an array or a `Collection`"):i=new xi(void 0,{unique:!0}),this.setLayers(i)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(lt),this.layersListenerKeys_.length=0;const e=this.getLayers();this.layersListenerKeys_.push($e(e,ln.ADD,this.handleLayersAdd_,this),$e(e,ln.REMOVE,this.handleLayersRemove_,this));for(const i in this.listenerKeys_)this.listenerKeys_[i].forEach(lt);dl(this.listenerKeys_);const n=e.getArray();for(let i=0,s=n.length;i<s;i++){const r=n[i];this.registerLayerListeners_(r),this.dispatchEvent(new Gi("addlayer",r))}this.changed()}registerLayerListeners_(e){const n=[$e(e,ma.PROPERTYCHANGE,this.handleLayerChange_,this),$e(e,Ie.CHANGE,this.handleLayerChange_,this)];e instanceof Tr&&n.push($e(e,"addlayer",this.handleLayerGroupAdd_,this),$e(e,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[He(e)]=n}handleLayerGroupAdd_(e){this.dispatchEvent(new Gi("addlayer",e.layer))}handleLayerGroupRemove_(e){this.dispatchEvent(new Gi("removelayer",e.layer))}handleLayersAdd_(e){const n=e.element;this.registerLayerListeners_(n),this.dispatchEvent(new Gi("addlayer",n)),this.changed()}handleLayersRemove_(e){const n=e.element,i=He(n);this.listenerKeys_[i].forEach(lt),delete this.listenerKeys_[i],this.dispatchEvent(new Gi("removelayer",n)),this.changed()}getLayers(){return this.get(Rh.LAYERS)}setLayers(e){const n=this.getLayers();if(n){const i=n.getArray();for(let s=0,r=i.length;s<r;++s)this.dispatchEvent(new Gi("removelayer",i[s]))}this.set(Rh.LAYERS,e)}getLayersArray(e){return e=e!==void 0?e:[],this.getLayers().forEach(function(n){n.getLayersArray(e)}),e}getLayerStatesArray(e){const n=e!==void 0?e:[],i=n.length;this.getLayers().forEach(function(a){a.getLayerStatesArray(n)});const s=this.getLayerState();let r=s.zIndex;!e&&s.zIndex===void 0&&(r=0);for(let a=i,o=n.length;a<o;a++){const l=n[a];l.opacity*=s.opacity,l.visible=l.visible&&s.visible,l.maxResolution=Math.min(l.maxResolution,s.maxResolution),l.minResolution=Math.max(l.minResolution,s.minResolution),l.minZoom=Math.max(l.minZoom,s.minZoom),l.maxZoom=Math.min(l.maxZoom,s.maxZoom),s.extent!==void 0&&(l.extent!==void 0?l.extent=cr(l.extent,s.extent):l.extent=s.extent),l.zIndex===void 0&&(l.zIndex=r)}return n}getSourceState(){return"ready"}}const Ck=Object.freeze(Object.defineProperty({__proto__:null,GroupEvent:Gi,default:Tr},Symbol.toStringTag,{value:"Module"})),Vn={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"};class zu extends ex{constructor(e){const n=Object.assign({},e);delete n.source,super(n),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,e.render&&(this.render=e.render),e.map&&this.setMap(e.map),this.addChangeListener(et.SOURCE,this.handleSourcePropertyChange_);const i=e.source?e.source:null;this.setSource(i)}getLayersArray(e){return e=e||[],e.push(this),e}getLayerStatesArray(e){return e=e||[],e.push(this.getLayerState()),e}getSource(){return this.get(et.SOURCE)||null}getRenderSource(){return this.getSource()}getSourceState(){const e=this.getSource();return e?e.getState():"undefined"}handleSourceChange_(){this.changed(),!(this.sourceReady_||this.getSource().getState()!=="ready")&&(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&(lt(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;const e=this.getSource();e&&(this.sourceChangeKey_=$e(e,Ie.CHANGE,this.handleSourceChange_,this),e.getState()==="ready"&&(this.sourceReady_=!0,setTimeout(()=>{this.dispatchEvent("sourceready")},0)),this.clearRenderer()),this.changed()}getFeatures(e){return this.renderer_?this.renderer_.getFeatures(e):Promise.resolve([])}getData(e){return!this.renderer_||!this.rendered?null:this.renderer_.getData(e)}isVisible(e){let n;const i=this.getMapInternal();!e&&i&&(e=i.getView()),e instanceof vi?n={viewState:e.getState(),extent:e.calculateExtent()}:n=e,!n.layerStatesArray&&i&&(n.layerStatesArray=i.getLayerGroup().getLayerStatesArray());let s;if(n.layerStatesArray){if(s=n.layerStatesArray.find(a=>a.layer===this),!s)return!1}else s=this.getLayerState();const r=this.getExtent();return pg(s,n.viewState)&&(!r||gn(r,n.extent))}getAttributions(e){var r;if(!this.isVisible(e))return[];const n=(r=this.getSource())==null?void 0:r.getAttributions();if(!n)return[];const i=e instanceof vi?e.getViewStateAndExtent():e;let s=n(i);return Array.isArray(s)||(s=[s]),s}render(e,n){const i=this.getRenderer();return i.prepareFrame(e)?(this.rendered=!0,i.renderFrame(e,n)):null}unrender(){this.rendered=!1}getDeclutter(){}renderDeclutter(e,n){}renderDeferred(e){const n=this.getRenderer();n&&n.renderDeferred(e)}setMapInternal(e){e||this.unrender(),this.set(et.MAP,e)}getMapInternal(){return this.get(et.MAP)}setMap(e){this.mapPrecomposeKey_&&(lt(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&(lt(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=$e(e,Vn.PRECOMPOSE,this.handlePrecompose_,this),this.mapRenderKey_=$e(this,Ie.CHANGE,e.render,e),this.changed())}handlePrecompose_(e){const n=e.frameState.layerStatesArray,i=this.getLayerState(!1);Ze(!n.some(s=>s.layer===i.layer),"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both."),n.push(i)}setSource(e){this.set(et.SOURCE,e)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}clearRenderer(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_)}disposeInternal(){this.clearRenderer(),this.setSource(null),super.disposeInternal()}}function pg(t,e){if(!t.visible)return!1;const n=e.resolution;if(n<t.minResolution||n>=t.maxResolution)return!1;const i=e.zoom;return i>t.minZoom&&i<=t.maxZoom}function tx(t,e,n=0,i=t.length-1,s=wk){for(;i>n;){if(i-n>600){const l=i-n+1,c=e-n+1,u=Math.log(l),h=.5*Math.exp(2*u/3),d=.5*Math.sqrt(u*h*(l-h)/l)*(c-l/2<0?-1:1),f=Math.max(n,Math.floor(e-c*h/l+d)),g=Math.min(i,Math.floor(e+(l-c)*h/l+d));tx(t,e,f,g,s)}const r=t[e];let a=n,o=i;for(ja(t,n,e),s(t[i],r)>0&&ja(t,n,i);a<o;){for(ja(t,a,o),a++,o--;s(t[a],r)<0;)a++;for(;s(t[o],r)>0;)o--}s(t[n],r)===0?ja(t,n,o):(o++,ja(t,o,i)),o<=e&&(n=o+1),e<=o&&(i=o-1)}}function ja(t,e,n){const i=t[e];t[e]=t[n],t[n]=i}function wk(t,e){return t<e?-1:t>e?1:0}let nx=class{constructor(e=9){this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(e){let n=this.data;const i=[];if(!Kl(e,n))return i;const s=this.toBBox,r=[];for(;n;){for(let a=0;a<n.children.length;a++){const o=n.children[a],l=n.leaf?s(o):o;Kl(e,l)&&(n.leaf?i.push(o):Ah(e,l)?this._all(o,i):r.push(o))}n=r.pop()}return i}collides(e){let n=this.data;if(!Kl(e,n))return!1;const i=[];for(;n;){for(let s=0;s<n.children.length;s++){const r=n.children[s],a=n.leaf?this.toBBox(r):r;if(Kl(e,a)){if(n.leaf||Ah(e,a))return!0;i.push(r)}}n=i.pop()}return!1}load(e){if(!(e&&e.length))return this;if(e.length<this._minEntries){for(let i=0;i<e.length;i++)this.insert(e[i]);return this}let n=this._build(e.slice(),0,e.length-1,0);if(!this.data.children.length)this.data=n;else if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){const i=this.data;this.data=n,n=i}this._insert(n,this.data.height-n.height-1,!0)}return this}insert(e){return e&&this._insert(e,this.data.height-1),this}clear(){return this.data=zr([]),this}remove(e,n){if(!e)return this;let i=this.data;const s=this.toBBox(e),r=[],a=[];let o,l,c;for(;i||r.length;){if(i||(i=r.pop(),l=r[r.length-1],o=a.pop(),c=!0),i.leaf){const u=Mk(e,i.children,n);if(u!==-1)return i.children.splice(u,1),r.push(i),this._condense(r),this}!c&&!i.leaf&&Ah(i,s)?(r.push(i),a.push(o),o=0,l=i,i=i.children[0]):l?(o++,i=l.children[o],c=!1):i=null}return this}toBBox(e){return e}compareMinX(e,n){return e.minX-n.minX}compareMinY(e,n){return e.minY-n.minY}toJSON(){return this.data}fromJSON(e){return this.data=e,this}_all(e,n){const i=[];for(;e;)e.leaf?n.push(...e.children):i.push(...e.children),e=i.pop();return n}_build(e,n,i,s){const r=i-n+1;let a=this._maxEntries,o;if(r<=a)return o=zr(e.slice(n,i+1)),kr(o,this.toBBox),o;s||(s=Math.ceil(Math.log(r)/Math.log(a)),a=Math.ceil(r/Math.pow(a,s-1))),o=zr([]),o.leaf=!1,o.height=s;const l=Math.ceil(r/a),c=l*Math.ceil(Math.sqrt(a));v0(e,n,i,c,this.compareMinX);for(let u=n;u<=i;u+=c){const h=Math.min(u+c-1,i);v0(e,u,h,l,this.compareMinY);for(let d=u;d<=h;d+=l){const f=Math.min(d+l-1,h);o.children.push(this._build(e,d,f,s-1))}}return kr(o,this.toBBox),o}_chooseSubtree(e,n,i,s){for(;s.push(n),!(n.leaf||s.length-1===i);){let r=1/0,a=1/0,o;for(let l=0;l<n.children.length;l++){const c=n.children[l],u=Ih(c),h=Ik(e,c)-u;h<a?(a=h,r=u<r?u:r,o=c):h===a&&u<r&&(r=u,o=c)}n=o||n.children[0]}return n}_insert(e,n,i){const s=i?e:this.toBBox(e),r=[],a=this._chooseSubtree(s,this.data,n,r);for(a.children.push(e),to(a,s);n>=0&&r[n].children.length>this._maxEntries;)this._split(r,n),n--;this._adjustParentBBoxes(s,r,n)}_split(e,n){const i=e[n],s=i.children.length,r=this._minEntries;this._chooseSplitAxis(i,r,s);const a=this._chooseSplitIndex(i,r,s),o=zr(i.children.splice(a,i.children.length-a));o.height=i.height,o.leaf=i.leaf,kr(i,this.toBBox),kr(o,this.toBBox),n?e[n-1].children.push(o):this._splitRoot(i,o)}_splitRoot(e,n){this.data=zr([e,n]),this.data.height=e.height+1,this.data.leaf=!1,kr(this.data,this.toBBox)}_chooseSplitIndex(e,n,i){let s,r=1/0,a=1/0;for(let o=n;o<=i-n;o++){const l=eo(e,0,o,this.toBBox),c=eo(e,o,i,this.toBBox),u=Ak(l,c),h=Ih(l)+Ih(c);u<r?(r=u,s=o,a=h<a?h:a):u===r&&h<a&&(a=h,s=o)}return s||i-n}_chooseSplitAxis(e,n,i){const s=e.leaf?this.compareMinX:Tk,r=e.leaf?this.compareMinY:Rk,a=this._allDistMargin(e,n,i,s),o=this._allDistMargin(e,n,i,r);a<o&&e.children.sort(s)}_allDistMargin(e,n,i,s){e.children.sort(s);const r=this.toBBox,a=eo(e,0,n,r),o=eo(e,i-n,i,r);let l=ql(a)+ql(o);for(let c=n;c<i-n;c++){const u=e.children[c];to(a,e.leaf?r(u):u),l+=ql(a)}for(let c=i-n-1;c>=n;c--){const u=e.children[c];to(o,e.leaf?r(u):u),l+=ql(o)}return l}_adjustParentBBoxes(e,n,i){for(let s=i;s>=0;s--)to(n[s],e)}_condense(e){for(let n=e.length-1,i;n>=0;n--)e[n].children.length===0?n>0?(i=e[n-1].children,i.splice(i.indexOf(e[n]),1)):this.clear():kr(e[n],this.toBBox)}};function Mk(t,e,n){if(!n)return e.indexOf(t);for(let i=0;i<e.length;i++)if(n(t,e[i]))return i;return-1}function kr(t,e){eo(t,0,t.children.length,e,t)}function eo(t,e,n,i,s){s||(s=zr(null)),s.minX=1/0,s.minY=1/0,s.maxX=-1/0,s.maxY=-1/0;for(let r=e;r<n;r++){const a=t.children[r];to(s,t.leaf?i(a):a)}return s}function to(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function Tk(t,e){return t.minX-e.minX}function Rk(t,e){return t.minY-e.minY}function Ih(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function ql(t){return t.maxX-t.minX+(t.maxY-t.minY)}function Ik(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}function Ak(t,e){const n=Math.max(t.minX,e.minX),i=Math.max(t.minY,e.minY),s=Math.min(t.maxX,e.maxX),r=Math.min(t.maxY,e.maxY);return Math.max(0,s-n)*Math.max(0,r-i)}function Ah(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function Kl(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function zr(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function v0(t,e,n,i,s){const r=[e,n];for(;r.length;){if(n=r.pop(),e=r.pop(),n-e<=i)continue;const a=e+Math.ceil((n-e)/i/2)*i;tx(t,a,e,n,s),r.push(e,a,a,n)}}const xg=[NaN,NaN,NaN,0];let Ph;function Pk(){return Ph||(Ph=St(1,1,void 0,{willReadFrequently:!0,desynchronized:!0})),Ph}const Lk=/^rgba?\(\s*(\d+%?)\s+(\d+%?)\s+(\d+%?)(?:\s*\/\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,Ok=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)(?:\s*,\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,kk=/^rgba?\(\s*(\d+%)\s*,\s*(\d+%)\s*,\s*(\d+%)(?:\s*,\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,Dk=/^#([\da-f]{3,4}|[\da-f]{6}|[\da-f]{8})$/i;function Yl(t,e){return t.endsWith("%")?Number(t.substring(0,t.length-1))/e:Number(t)}function Eo(t){throw new Error('failed to parse "'+t+'" as color')}function ix(t){if(t.toLowerCase().startsWith("rgb")){const r=t.match(Ok)||t.match(Lk)||t.match(kk);if(r){const a=r[4],o=100/255;return[st(Yl(r[1],o)+.5|0,0,255),st(Yl(r[2],o)+.5|0,0,255),st(Yl(r[3],o)+.5|0,0,255),a!==void 0?st(Yl(a,100),0,1):1]}Eo(t)}if(t.startsWith("#")){if(Dk.test(t)){const r=t.substring(1),a=r.length<=4?1:2,o=[0,0,0,255];for(let l=0,c=r.length;l<c;l+=a){let u=parseInt(r.substring(l,l+a),16);a===1&&(u+=u<<4),o[l/a]=u}return o[3]=o[3]/255,o}Eo(t)}const e=Pk();e.fillStyle="#abcdef";let n=e.fillStyle;e.fillStyle=t,e.fillStyle===n&&(e.fillStyle="#fedcba",n=e.fillStyle,e.fillStyle=t,e.fillStyle===n&&Eo(t));const i=e.fillStyle;if(i.startsWith("#")||i.startsWith("rgba"))return ix(i);e.clearRect(0,0,1,1),e.fillRect(0,0,1,1);const s=Array.from(e.getImageData(0,0,1,1).data);return s[3]=Lu(s[3]/255,3),s}function Nk(t){return typeof t=="string"?t:Sg(t)}const Fk=1024,Ha={};let Lh=0;function Bk(t){if(t.length===4)return t;const e=t.slice();return e[3]=1,e}function Oh(t){return t>.0031308?Math.pow(t,1/2.4)*269.025-14.025:t*3294.6}function kh(t){return t>.2068965?Math.pow(t,3):(t-4/29)*(108/841)}function Dh(t){return t>10.314724?Math.pow((t+14.025)/269.025,2.4):t/3294.6}function Nh(t){return t>.0088564?Math.pow(t,1/3):t/(108/841)+4/29}function y0(t){const e=Dh(t[0]),n=Dh(t[1]),i=Dh(t[2]),s=Nh(e*.222488403+n*.716873169+i*.06060791),r=500*(Nh(e*.452247074+n*.399439023+i*.148375274)-s),a=200*(s-Nh(e*.016863605+n*.117638439+i*.865350722)),o=Math.atan2(a,r)*(180/Math.PI);return[116*s-16,Math.sqrt(r*r+a*a),o<0?o+360:o,t[3]]}function Vk(t){const e=(t[0]+16)/116,n=t[1],i=t[2]*Math.PI/180,s=kh(e),r=kh(e+n/500*Math.cos(i)),a=kh(e-n/200*Math.sin(i)),o=Oh(r*3.021973625-s*1.617392459-a*.404875592),l=Oh(r*-.943766287+s*1.916279586+a*.027607165),c=Oh(r*.069407491-s*.22898585+a*1.159737864);return[st(o+.5|0,0,255),st(l+.5|0,0,255),st(c+.5|0,0,255),t[3]]}function bg(t){if(t==="none")return xg;if(Ha.hasOwnProperty(t))return Ha[t];if(Lh>=Fk){let n=0;for(const i in Ha)n++&3||(delete Ha[i],--Lh)}const e=ix(t);e.length!==4&&Eo(t);for(const n of e)isNaN(n)&&Eo(t);return Ha[t]=e,++Lh,e}function xa(t){return Array.isArray(t)?t:bg(t)}function Sg(t){let e=t[0];e!=(e|0)&&(e=e+.5|0);let n=t[1];n!=(n|0)&&(n=n+.5|0);let i=t[2];i!=(i|0)&&(i=i+.5|0);const s=t[3]===void 0?1:Math.round(t[3]*1e3)/1e3;return"rgba("+e+","+n+","+i+","+s+")"}function _0(t){return t[0]>0&&t[1]>0}function $k(t,e,n){return n===void 0&&(n=[0,0]),n[0]=t[0]*e+.5|0,n[1]=t[1]*e+.5|0,n}function yn(t,e){return Array.isArray(t)?t:(e===void 0?e=[t,t]:(e[0]=t,e[1]=t),e)}let Rr=0;const Yt=1<<Rr++,Fe=1<<Rr++,cn=1<<Rr++,Kn=1<<Rr++,br=1<<Rr++,no=1<<Rr++,Zl=Math.pow(2,Rr)-1,Eg={[Yt]:"boolean",[Fe]:"number",[cn]:"string",[Kn]:"color",[br]:"number[]",[no]:"size"},Gk=Object.keys(Eg).map(Number).sort(Hi);function zk(t){return t in Eg}function io(t){const e=[];for(const n of Gk)so(t,n)&&e.push(Eg[n]);return e.length===0?"untyped":e.length<3?e.join(" or "):e.slice(0,-1).join(", ")+", or "+e[e.length-1]}function so(t,e){return(t&e)===e}function ls(t,e){return t===e}class xt{constructor(e,n){if(!zk(e))throw new Error(`literal expressions must have a specific type, got ${io(e)}`);this.type=e,this.value=n}}class Wk{constructor(e,n,...i){this.type=e,this.operator=n,this.args=i}}function sx(){return{variables:new Set,properties:new Set,featureId:!1,geometryType:!1,mapState:!1}}function Lt(t,e,n){switch(typeof t){case"boolean":{if(ls(e,cn))return new xt(cn,t?"true":"false");if(!so(e,Yt))throw new Error(`got a boolean, but expected ${io(e)}`);return new xt(Yt,t)}case"number":{if(ls(e,no))return new xt(no,yn(t));if(ls(e,Yt))return new xt(Yt,!!t);if(ls(e,cn))return new xt(cn,t.toString());if(!so(e,Fe))throw new Error(`got a number, but expected ${io(e)}`);return new xt(Fe,t)}case"string":{if(ls(e,Kn))return new xt(Kn,bg(t));if(ls(e,Yt))return new xt(Yt,!!t);if(!so(e,cn))throw new Error(`got a string, but expected ${io(e)}`);return new xt(cn,t)}}if(!Array.isArray(t))throw new Error("expression must be an array or a primitive value");if(t.length===0)throw new Error("empty expression");if(typeof t[0]=="string")return eD(t,e,n);for(const i of t)if(typeof i!="number")throw new Error("expected an array of numbers");if(ls(e,no)){if(t.length!==2)throw new Error(`expected an array of two values for a size, got ${t.length}`);return new xt(no,t)}if(ls(e,Kn)){if(t.length===3)return new xt(Kn,[...t,1]);if(t.length===4)return new xt(Kn,t);throw new Error(`expected an array of 3 or 4 values for a color, got ${t.length}`)}if(!so(e,br))throw new Error(`got an array of numbers, but expected ${io(e)}`);return new xt(br,t)}const W={Get:"get",Var:"var",Concat:"concat",GeometryType:"geometry-type",LineMetric:"line-metric",Any:"any",All:"all",Not:"!",Resolution:"resolution",Zoom:"zoom",Time:"time",Equal:"==",NotEqual:"!=",GreaterThan:">",GreaterThanOrEqualTo:">=",LessThan:"<",LessThanOrEqualTo:"<=",Multiply:"*",Divide:"/",Add:"+",Subtract:"-",Clamp:"clamp",Mod:"%",Pow:"^",Abs:"abs",Floor:"floor",Ceil:"ceil",Round:"round",Sin:"sin",Cos:"cos",Atan:"atan",Sqrt:"sqrt",Match:"match",Between:"between",Interpolate:"interpolate",Coalesce:"coalesce",Case:"case",In:"in",Number:"number",String:"string",Array:"array",Color:"color",Id:"id",Band:"band",Palette:"palette",ToString:"to-string",Has:"has"},Uk={[W.Get]:Se(Le(1,1/0),p0),[W.Var]:Se(Le(1,1),jk),[W.Has]:Se(Le(1,1/0),p0),[W.Id]:Se(Hk,Dr),[W.Concat]:Se(Le(2,1/0),je(cn)),[W.GeometryType]:Se(Xk,Dr),[W.LineMetric]:Se(Dr),[W.Resolution]:Se(Fh,Dr),[W.Zoom]:Se(Fh,Dr),[W.Time]:Se(Fh,Dr),[W.Any]:Se(Le(2,1/0),je(Yt)),[W.All]:Se(Le(2,1/0),je(Yt)),[W.Not]:Se(Le(1,1),je(Yt)),[W.Equal]:Se(Le(2,2),je(Zl)),[W.NotEqual]:Se(Le(2,2),je(Zl)),[W.GreaterThan]:Se(Le(2,2),je(Fe)),[W.GreaterThanOrEqualTo]:Se(Le(2,2),je(Fe)),[W.LessThan]:Se(Le(2,2),je(Fe)),[W.LessThanOrEqualTo]:Se(Le(2,2),je(Fe)),[W.Multiply]:Se(Le(2,1/0),x0),[W.Coalesce]:Se(Le(2,1/0),x0),[W.Divide]:Se(Le(2,2),je(Fe)),[W.Add]:Se(Le(2,1/0),je(Fe)),[W.Subtract]:Se(Le(2,2),je(Fe)),[W.Clamp]:Se(Le(3,3),je(Fe)),[W.Mod]:Se(Le(2,2),je(Fe)),[W.Pow]:Se(Le(2,2),je(Fe)),[W.Abs]:Se(Le(1,1),je(Fe)),[W.Floor]:Se(Le(1,1),je(Fe)),[W.Ceil]:Se(Le(1,1),je(Fe)),[W.Round]:Se(Le(1,1),je(Fe)),[W.Sin]:Se(Le(1,1),je(Fe)),[W.Cos]:Se(Le(1,1),je(Fe)),[W.Atan]:Se(Le(1,2),je(Fe)),[W.Sqrt]:Se(Le(1,1),je(Fe)),[W.Match]:Se(Le(4,1/0),b0,Kk),[W.Between]:Se(Le(3,3),je(Fe)),[W.Interpolate]:Se(Le(6,1/0),b0,Yk),[W.Case]:Se(Le(3,1/0),qk,Zk),[W.In]:Se(Le(2,2),Jk),[W.Number]:Se(Le(1,1/0),je(Zl)),[W.String]:Se(Le(1,1/0),je(Zl)),[W.Array]:Se(Le(1,1/0),je(Fe)),[W.Color]:Se(Le(1,4),je(Fe)),[W.Band]:Se(Le(1,3),je(Fe)),[W.Palette]:Se(Le(2,2),Qk),[W.ToString]:Se(Le(1,1),je(Yt|Fe|cn|Kn))};function p0(t,e,n){const i=t.length-1,s=new Array(i);for(let r=0;r<i;++r){const a=t[r+1];switch(typeof a){case"number":{s[r]=new xt(Fe,a);break}case"string":{s[r]=new xt(cn,a);break}default:throw new Error(`expected a string key or numeric array index for a get operation, got ${a}`)}r===0&&n.properties.add(String(a))}return s}function jk(t,e,n){const i=t[1];if(typeof i!="string")throw new Error("expected a string argument for var operation");return n.variables.add(i),[new xt(cn,i)]}function Hk(t,e,n){n.featureId=!0}function Xk(t,e,n){n.geometryType=!0}function Fh(t,e,n){n.mapState=!0}function Dr(t,e,n){const i=t[0];if(t.length!==1)throw new Error(`expected no arguments for ${i} operation`);return[]}function Le(t,e){return function(n,i,s){const r=n[0],a=n.length-1;if(t===e){if(a!==t){const o=t===1?"":"s";throw new Error(`expected ${t} argument${o} for ${r}, got ${a}`)}}else if(a<t||a>e){const o=e===1/0?`${t} or more`:`${t} to ${e}`;throw new Error(`expected ${o} arguments for ${r}, got ${a}`)}}}function x0(t,e,n){const i=t.length-1,s=new Array(i);for(let r=0;r<i;++r){const a=Lt(t[r+1],e,n);s[r]=a}return s}function je(t){return function(e,n,i){const s=e.length-1,r=new Array(s);for(let a=0;a<s;++a){const o=Lt(e[a+1],t,i);r[a]=o}return r}}function qk(t,e,n){const i=t[0],s=t.length-1;if(s%2===0)throw new Error(`expected an odd number of arguments for ${i}, got ${s} instead`)}function b0(t,e,n){const i=t[0],s=t.length-1;if(s%2===1)throw new Error(`expected an even number of arguments for operation ${i}, got ${s} instead`)}function Kk(t,e,n){const i=t.length-1,s=cn|Fe|Yt,r=Lt(t[1],s,n),a=Lt(t[t.length-1],e,n),o=new Array(i-2);for(let l=0;l<i-2;l+=2){try{const c=Lt(t[l+2],r.type,n);o[l]=c}catch(c){throw new Error(`failed to parse argument ${l+1} of match expression: ${c.message}`)}try{const c=Lt(t[l+3],a.type,n);o[l+1]=c}catch(c){throw new Error(`failed to parse argument ${l+2} of match expression: ${c.message}`)}}return[r,...o,a]}function Yk(t,e,n){const i=t[1];let s;switch(i[0]){case"linear":s=1;break;case"exponential":const l=i[1];if(typeof l!="number"||l<=0)throw new Error(`expected a number base for exponential interpolation, got ${JSON.stringify(l)} instead`);s=l;break;default:throw new Error(`invalid interpolation type: ${JSON.stringify(i)}`)}const r=new xt(Fe,s);let a;try{a=Lt(t[2],Fe,n)}catch(l){throw new Error(`failed to parse argument 1 in interpolate expression: ${l.message}`)}const o=new Array(t.length-3);for(let l=0;l<o.length;l+=2){try{const c=Lt(t[l+3],Fe,n);o[l]=c}catch(c){throw new Error(`failed to parse argument ${l+2} for interpolate expression: ${c.message}`)}try{const c=Lt(t[l+4],e,n);o[l+1]=c}catch(c){throw new Error(`failed to parse argument ${l+3} for interpolate expression: ${c.message}`)}}return[r,a,...o]}function Zk(t,e,n){const i=Lt(t[t.length-1],e,n),s=new Array(t.length-1);for(let r=0;r<s.length-1;r+=2){try{const a=Lt(t[r+1],Yt,n);s[r]=a}catch(a){throw new Error(`failed to parse argument ${r} of case expression: ${a.message}`)}try{const a=Lt(t[r+2],i.type,n);s[r+1]=a}catch(a){throw new Error(`failed to parse argument ${r+1} of case expression: ${a.message}`)}}return s[s.length-1]=i,s}function Jk(t,e,n){let i=t[2];if(!Array.isArray(i))throw new Error('the second argument for the "in" operator must be an array');let s;if(typeof i[0]=="string"){if(i[0]!=="literal")throw new Error('for the "in" operator, a string array should be wrapped in a "literal" operator to disambiguate from expressions');if(!Array.isArray(i[1]))throw new Error('failed to parse "in" expression: the literal operator must be followed by an array');i=i[1],s=cn}else s=Fe;const r=new Array(i.length);for(let o=0;o<r.length;o++)try{const l=Lt(i[o],s,n);r[o]=l}catch(l){throw new Error(`failed to parse haystack item ${o} for "in" expression: ${l.message}`)}return[Lt(t[1],s,n),...r]}function Qk(t,e,n){let i;try{i=Lt(t[1],Fe,n)}catch(a){throw new Error(`failed to parse first argument in palette expression: ${a.message}`)}const s=t[2];if(!Array.isArray(s))throw new Error("the second argument of palette must be an array");const r=new Array(s.length);for(let a=0;a<r.length;a++){let o;try{o=Lt(s[a],Kn,n)}catch(l){throw new Error(`failed to parse color at index ${a} in palette expression: ${l.message}`)}if(!(o instanceof xt))throw new Error(`the palette color at index ${a} must be a literal value`);r[a]=o}return[i,...r]}function Se(...t){return function(e,n,i){const s=e[0];let r;for(let a=0;a<t.length;a++){const o=t[a](e,n,i);if(a==t.length-1){if(!o)throw new Error("expected last argument validator to return the parsed args");r=o}}return new Wk(n,s,...r)}}function eD(t,e,n){const i=t[0],s=Uk[i];if(!s)throw new Error(`unknown operator: ${i}`);return s(t,e,n)}function rx(t){if(!t)return"";const e=t.getType();switch(e){case"Point":case"LineString":case"Polygon":return e;case"MultiPoint":case"MultiLineString":case"MultiPolygon":return e.substring(5);case"Circle":return"Polygon";case"GeometryCollection":return rx(t.getGeometries()[0]);default:return""}}function ax(){return{variables:{},properties:{},resolution:NaN,featureId:null,geometryType:""}}function is(t,e,n){const i=Lt(t,e,n);return ni(i)}function ni(t,e){if(t instanceof xt){if(t.type===Kn&&typeof t.value=="string"){const i=bg(t.value);return function(){return i}}return function(){return t.value}}const n=t.operator;switch(n){case W.Number:case W.String:case W.Coalesce:return tD(t);case W.Get:case W.Var:case W.Has:return nD(t);case W.Id:return i=>i.featureId;case W.GeometryType:return i=>i.geometryType;case W.Concat:{const i=t.args.map(s=>ni(s));return s=>"".concat(...i.map(r=>r(s).toString()))}case W.Resolution:return i=>i.resolution;case W.Any:case W.All:case W.Between:case W.In:case W.Not:return sD(t);case W.Equal:case W.NotEqual:case W.LessThan:case W.LessThanOrEqualTo:case W.GreaterThan:case W.GreaterThanOrEqualTo:return iD(t);case W.Multiply:case W.Divide:case W.Add:case W.Subtract:case W.Clamp:case W.Mod:case W.Pow:case W.Abs:case W.Floor:case W.Ceil:case W.Round:case W.Sin:case W.Cos:case W.Atan:case W.Sqrt:return rD(t);case W.Case:return aD(t);case W.Match:return oD(t);case W.Interpolate:return lD(t);case W.ToString:return cD(t);default:throw new Error(`Unsupported operator ${n}`)}}function tD(t,e){const n=t.operator,i=t.args.length,s=new Array(i);for(let r=0;r<i;++r)s[r]=ni(t.args[r]);switch(n){case W.Coalesce:return r=>{for(let a=0;a<i;++a){const o=s[a](r);if(typeof o<"u"&&o!==null)return o}throw new Error("Expected one of the values to be non-null")};case W.Number:case W.String:return r=>{for(let a=0;a<i;++a){const o=s[a](r);if(typeof o===n)return o}throw new Error(`Expected one of the values to be a ${n}`)};default:throw new Error(`Unsupported assertion operator ${n}`)}}function nD(t,e){const i=t.args[0].value;switch(t.operator){case W.Get:return s=>{const r=t.args;let a=s.properties[i];for(let o=1,l=r.length;o<l;++o){const u=r[o].value;a=a[u]}return a};case W.Var:return s=>s.variables[i];case W.Has:return s=>{const r=t.args;if(!(i in s.properties))return!1;let a=s.properties[i];for(let o=1,l=r.length;o<l;++o){const u=r[o].value;if(!a||!Object.hasOwn(a,u))return!1;a=a[u]}return!0};default:throw new Error(`Unsupported accessor operator ${t.operator}`)}}function iD(t,e){const n=t.operator,i=ni(t.args[0]),s=ni(t.args[1]);switch(n){case W.Equal:return r=>i(r)===s(r);case W.NotEqual:return r=>i(r)!==s(r);case W.LessThan:return r=>i(r)<s(r);case W.LessThanOrEqualTo:return r=>i(r)<=s(r);case W.GreaterThan:return r=>i(r)>s(r);case W.GreaterThanOrEqualTo:return r=>i(r)>=s(r);default:throw new Error(`Unsupported comparison operator ${n}`)}}function sD(t,e){const n=t.operator,i=t.args.length,s=new Array(i);for(let r=0;r<i;++r)s[r]=ni(t.args[r]);switch(n){case W.Any:return r=>{for(let a=0;a<i;++a)if(s[a](r))return!0;return!1};case W.All:return r=>{for(let a=0;a<i;++a)if(!s[a](r))return!1;return!0};case W.Between:return r=>{const a=s[0](r),o=s[1](r),l=s[2](r);return a>=o&&a<=l};case W.In:return r=>{const a=s[0](r);for(let o=1;o<i;++o)if(a===s[o](r))return!0;return!1};case W.Not:return r=>!s[0](r);default:throw new Error(`Unsupported logical operator ${n}`)}}function rD(t,e){const n=t.operator,i=t.args.length,s=new Array(i);for(let r=0;r<i;++r)s[r]=ni(t.args[r]);switch(n){case W.Multiply:return r=>{let a=1;for(let o=0;o<i;++o)a*=s[o](r);return a};case W.Divide:return r=>s[0](r)/s[1](r);case W.Add:return r=>{let a=0;for(let o=0;o<i;++o)a+=s[o](r);return a};case W.Subtract:return r=>s[0](r)-s[1](r);case W.Clamp:return r=>{const a=s[0](r),o=s[1](r);if(a<o)return o;const l=s[2](r);return a>l?l:a};case W.Mod:return r=>s[0](r)%s[1](r);case W.Pow:return r=>Math.pow(s[0](r),s[1](r));case W.Abs:return r=>Math.abs(s[0](r));case W.Floor:return r=>Math.floor(s[0](r));case W.Ceil:return r=>Math.ceil(s[0](r));case W.Round:return r=>Math.round(s[0](r));case W.Sin:return r=>Math.sin(s[0](r));case W.Cos:return r=>Math.cos(s[0](r));case W.Atan:return i===2?r=>Math.atan2(s[0](r),s[1](r)):r=>Math.atan(s[0](r));case W.Sqrt:return r=>Math.sqrt(s[0](r));default:throw new Error(`Unsupported numeric operator ${n}`)}}function aD(t,e){const n=t.args.length,i=new Array(n);for(let s=0;s<n;++s)i[s]=ni(t.args[s]);return s=>{for(let r=0;r<n-1;r+=2)if(i[r](s))return i[r+1](s);return i[n-1](s)}}function oD(t,e){const n=t.args.length,i=new Array(n);for(let s=0;s<n;++s)i[s]=ni(t.args[s]);return s=>{const r=i[0](s);for(let a=1;a<n-1;a+=2)if(r===i[a](s))return i[a+1](s);return i[n-1](s)}}function lD(t,e){const n=t.args.length,i=new Array(n);for(let s=0;s<n;++s)i[s]=ni(t.args[s]);return s=>{const r=i[0](s),a=i[1](s);let o,l;for(let c=2;c<n;c+=2){const u=i[c](s);let h=i[c+1](s);const d=Array.isArray(h);if(d&&(h=Bk(h)),u>=a)return c===2?h:d?uD(r,a,o,l,u,h):ro(r,a,o,l,u,h);o=u,l=h}return l}}function cD(t,e){const n=t.operator,i=t.args.length,s=new Array(i);for(let r=0;r<i;++r)s[r]=ni(t.args[r]);switch(n){case W.ToString:return r=>{const a=s[0](r);return t.args[0].type===Kn?Sg(a):a.toString()};default:throw new Error(`Unsupported convert operator ${n}`)}}function ro(t,e,n,i,s,r){const a=s-n;if(a===0)return i;const o=e-n,l=t===1?o/a:(Math.pow(t,o)-1)/(Math.pow(t,a)-1);return i+l*(r-i)}function uD(t,e,n,i,s,r){if(s-n===0)return i;const o=y0(i),l=y0(r);let c=l[2]-o[2];c>180?c-=360:c<-180&&(c+=360);const u=[ro(t,e,n,o[0],s,l[0]),ro(t,e,n,o[1],s,l[1]),o[2]+ro(t,e,n,0,s,c),ro(t,e,n,i[3],s,r[3])];return Vk(u)}const Oe={IDLE:0,LOADING:1,LOADED:2,ERROR:3};function hD(t,e,n){const i=t;let s=!0,r=!1,a=!1;const o=[Wc(i,Ie.LOAD,function(){a=!0,r||e()})];return i.src&&x1?(r=!0,i.decode().then(function(){s&&e()}).catch(function(l){s&&(a?e():n())})):o.push(Wc(i,Ie.ERROR,n)),function(){s=!1,o.forEach(lt)}}function dD(t,e){return new Promise((n,i)=>{function s(){a(),n(t)}function r(){a(),i(new Error("Image load error"))}function a(){t.removeEventListener("load",s),t.removeEventListener("error",r)}t.addEventListener("load",s),t.addEventListener("error",r)})}function fD(t,e){return e&&(t.src=e),t.src&&x1?new Promise((n,i)=>t.decode().then(()=>n(t)).catch(s=>t.complete&&t.width?n(t):i(s))):dD(t)}class gD{constructor(){this.cache_={},this.patternCache_={},this.cacheSize_=0,this.maxCacheSize_=1024}clear(){this.cache_={},this.patternCache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let e=0;for(const n in this.cache_){const i=this.cache_[n];!(e++&3)&&!i.hasListener()&&(delete this.cache_[n],delete this.patternCache_[n],--this.cacheSize_)}}}get(e,n,i){const s=Bh(e,n,i);return s in this.cache_?this.cache_[s]:null}getPattern(e,n,i){const s=Bh(e,n,i);return s in this.patternCache_?this.patternCache_[s]:null}set(e,n,i,s,r){const a=Bh(e,n,i),o=a in this.cache_;this.cache_[a]=s,r&&(s.getImageState()===Oe.IDLE&&s.load(),s.getImageState()===Oe.LOADING?s.ready().then(()=>{this.patternCache_[a]=Zc().createPattern(s.getImage(1),"repeat")}):this.patternCache_[a]=Zc().createPattern(s.getImage(1),"repeat")),o||++this.cacheSize_}setSize(e){this.maxCacheSize_=e,this.expire()}}function Bh(t,e,n){const i=n?xa(n):"null";return e+":"+t+":"+i}const $n=new gD;let Xa=null;class ox extends Pu{constructor(e,n,i,s,r){super(),this.hitDetectionImage_=null,this.image_=e,this.crossOrigin_=i,this.canvas_={},this.color_=r,this.imageState_=s===void 0?Oe.IDLE:s,this.size_=e&&e.width&&e.height?[e.width,e.height]:null,this.src_=n,this.tainted_,this.ready_=null}initializeImage_(){this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(this.tainted_===void 0&&this.imageState_===Oe.LOADED){Xa||(Xa=St(1,1,void 0,{willReadFrequently:!0})),Xa.drawImage(this.image_,0,0);try{Xa.getImageData(0,0,1,1),this.tainted_=!1}catch{Xa=null,this.tainted_=!0}}return this.tainted_===!0}dispatchChangeEvent_(){this.dispatchEvent(Ie.CHANGE)}handleImageError_(){this.imageState_=Oe.ERROR,this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=Oe.LOADED,this.size_=[this.image_.width,this.image_.height],this.dispatchChangeEvent_()}getImage(e){return this.image_||this.initializeImage_(),this.replaceColor_(e),this.canvas_[e]?this.canvas_[e]:this.image_}getPixelRatio(e){return this.replaceColor_(e),this.canvas_[e]?e:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){const e=this.size_[0],n=this.size_[1],i=St(e,n);i.fillRect(0,0,e,n),this.hitDetectionImage_=i.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===Oe.IDLE){this.image_||this.initializeImage_(),this.imageState_=Oe.LOADING;try{this.src_!==void 0&&(this.image_.src=this.src_)}catch{this.handleImageError_()}this.image_ instanceof HTMLImageElement&&fD(this.image_,this.src_).then(e=>{this.image_=e,this.handleImageLoad_()}).catch(this.handleImageError_.bind(this))}}replaceColor_(e){if(!this.color_||this.canvas_[e]||this.imageState_!==Oe.LOADED)return;const n=this.image_,i=St(Math.ceil(n.width*e),Math.ceil(n.height*e)),s=i.canvas;i.scale(e,e),i.drawImage(n,0,0),i.globalCompositeOperation="multiply",i.fillStyle=Nk(this.color_),i.fillRect(0,0,s.width/e,s.height/e),i.globalCompositeOperation="destination-in",i.drawImage(n,0,0),this.canvas_[e]=s}ready(){return this.ready_||(this.ready_=new Promise(e=>{if(this.imageState_===Oe.LOADED||this.imageState_===Oe.ERROR)e();else{const n=()=>{(this.imageState_===Oe.LOADED||this.imageState_===Oe.ERROR)&&(this.removeEventListener(Ie.CHANGE,n),e())};this.addEventListener(Ie.CHANGE,n)}})),this.ready_}}function Cg(t,e,n,i,s,r){let a=e===void 0?void 0:$n.get(e,n,s);return a||(a=new ox(t,t&&"src"in t?t.src||void 0:e,n,i,s),$n.set(e,n,s,a,r)),r&&a&&!$n.getPattern(e,n,s)&&$n.set(e,n,s,a,r),a}function bi(t){return t?Array.isArray(t)?Sg(t):typeof t=="object"&&"src"in t?mD(t):t:null}function mD(t){if(!t.offset||!t.size)return $n.getPattern(t.src,"anonymous",t.color);const e=t.src+":"+t.offset,n=$n.getPattern(e,void 0,t.color);if(n)return n;const i=$n.get(t.src,"anonymous",null);if(i.getImageState()!==Oe.LOADED)return null;const s=St(t.size[0],t.size[1]);return s.drawImage(i.getImage(1),t.offset[0],t.offset[1],t.size[0],t.size[1],0,0,t.size[0],t.size[1]),Cg(s.canvas,e,void 0,Oe.LOADED,t.color,!0),$n.getPattern(e,void 0,t.color)}const lx="10px sans-serif",un="#000",ba="round",Xi=[],qi=0,Sa="round",Uo=10,jo="#000",Ho="center",Jc="middle",nr=[0,0,0,0],Xo=1,Vi=new Ii;let Wr=null,$d;const Gd={},vD=function(){const e="32px ",n=["monospace","serif"],i=n.length,s="wmytzilWMYTZIL@#/&?$%10";let r,a;function o(c,u,h){let d=!0;for(let f=0;f<i;++f){const g=n[f];if(a=Qc(c+" "+u+" "+e+g,s),h!=g){const m=Qc(c+" "+u+" "+e+h+","+g,s);d=d&&m!=a}}return!!d}function l(){let c=!0;const u=Vi.getKeys();for(let h=0,d=u.length;h<d;++h){const f=u[h];if(Vi.get(f)<100){const[g,m,v]=f.split(`
`);o(g,m,v)?(dl(Gd),Wr=null,$d=void 0,Vi.set(f,100)):(Vi.set(f,Vi.get(f)+1,!0),c=!1)}}c&&(clearInterval(r),r=void 0)}return function(c){const u=K1(c);if(!u)return;const h=u.families;for(let d=0,f=h.length;d<f;++d){const g=h[d],m=u.style+`
`+u.weight+`
`+g;Vi.get(m)===void 0&&(Vi.set(m,100,!0),o(u.style,u.weight,g)||(Vi.set(m,0,!0),r===void 0&&(r=setInterval(l,32))))}}}(),yD=function(){let t;return function(e){let n=Gd[e];if(n==null){if(p1){const i=K1(e),s=cx(e,"g");n=(isNaN(Number(i.lineHeight))?1.2:Number(i.lineHeight))*(s.actualBoundingBoxAscent+s.actualBoundingBoxDescent)}else t||(t=document.createElement("div"),t.innerHTML="M",t.style.minHeight="0",t.style.maxHeight="none",t.style.height="auto",t.style.padding="0",t.style.border="none",t.style.position="absolute",t.style.display="block",t.style.left="-99999px"),t.style.font=e,document.body.appendChild(t),n=t.offsetHeight,document.body.removeChild(t);Gd[e]=n}return n}}();function cx(t,e){return Wr||(Wr=St(1,1)),t!=$d&&(Wr.font=t,$d=Wr.font),Wr.measureText(e)}function Qc(t,e){return cx(t,e).width}function S0(t,e,n){if(e in n)return n[e];const i=e.split(`
`).reduce((s,r)=>Math.max(s,Qc(t,r)),0);return n[e]=i,i}function _D(t,e){const n=[],i=[],s=[];let r=0,a=0,o=0,l=0;for(let c=0,u=e.length;c<=u;c+=2){const h=e[c];if(h===`
`||c===u){r=Math.max(r,a),s.push(a),a=0,o+=l,l=0;continue}const d=e[c+1]||t.font,f=Qc(d,h);n.push(f),a+=f;const g=yD(d);i.push(g),l=Math.max(l,g)}return{width:r,height:o,widths:n,heights:i,lineWidths:s}}function pD(t,e,n,i,s,r,a,o,l,c,u){t.save(),n!==1&&(t.globalAlpha===void 0?t.globalAlpha=h=>h.globalAlpha*=n:t.globalAlpha*=n),e&&t.transform.apply(t,e),i.contextInstructions?(t.translate(l,c),t.scale(u[0],u[1]),xD(i,t)):u[0]<0||u[1]<0?(t.translate(l,c),t.scale(u[0],u[1]),t.drawImage(i,s,r,a,o,0,0,a,o)):t.drawImage(i,s,r,a,o,l,c,a*u[0],o*u[1]),t.restore()}function xD(t,e){const n=t.contextInstructions;for(let i=0,s=n.length;i<s;i+=2)Array.isArray(n[i+1])?e[n[i]].apply(e,n[i+1]):e[n[i]]=n[i+1]}class Wu{constructor(e){this.opacity_=e.opacity,this.rotateWithView_=e.rotateWithView,this.rotation_=e.rotation,this.scale_=e.scale,this.scaleArray_=yn(e.scale),this.displacement_=e.displacement,this.declutterMode_=e.declutterMode}clone(){const e=this.getScale();return new Wu({opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return Ve()}getImage(e){return Ve()}getHitDetectionImage(){return Ve()}getPixelRatio(e){return 1}getImageState(){return Ve()}getImageSize(){return Ve()}getOrigin(){return Ve()}getSize(){return Ve()}setDisplacement(e){this.displacement_=e}setOpacity(e){this.opacity_=e}setRotateWithView(e){this.rotateWithView_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=yn(e)}listenImageChange(e){Ve()}load(){Ve()}unlistenImageChange(e){Ve()}ready(){return Promise.resolve()}}class Ea extends Wu{constructor(e){super({opacity:1,rotateWithView:e.rotateWithView!==void 0?e.rotateWithView:!1,rotation:e.rotation!==void 0?e.rotation:0,scale:e.scale!==void 0?e.scale:1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode}),this.hitDetectionCanvas_=null,this.fill_=e.fill!==void 0?e.fill:null,this.origin_=[0,0],this.points_=e.points,this.radius=e.radius,this.radius2_=e.radius2,this.angle_=e.angle!==void 0?e.angle:0,this.stroke_=e.stroke!==void 0?e.stroke:null,this.size_,this.renderOptions_,this.imageState_=this.fill_&&this.fill_.loading()?Oe.LOADING:Oe.LOADED,this.imageState_===Oe.LOADING&&this.ready().then(()=>this.imageState_=Oe.LOADED),this.render()}clone(){const e=this.getScale(),n=new Ea({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n}getAnchor(){const e=this.size_,n=this.getDisplacement(),i=this.getScaleArray();return[e[0]/2-n[0]/i[0],e[1]/2+n[1]/i[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(e){this.fill_=e,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.createHitDetectionCanvas_(this.renderOptions_)),this.hitDetectionCanvas_}getImage(e){var r,a;const n=(r=this.fill_)==null?void 0:r.getKey(),i=`${e},${this.angle_},${this.radius},${this.radius2_},${this.points_},${n}`+Object.values(this.renderOptions_).join(",");let s=(a=$n.get(i,null,null))==null?void 0:a.getImage(1);if(!s){const o=this.renderOptions_,l=Math.ceil(o.size*e),c=St(l,l);this.draw_(o,c,e),s=c.canvas,$n.set(i,null,null,new ox(s,void 0,null,Oe.LOADED,null))}return s}getPixelRatio(e){return e}getImageSize(){return this.size_}getImageState(){return this.imageState_}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e,this.render()}listenImageChange(e){}load(){}unlistenImageChange(e){}calculateLineJoinSize_(e,n,i){if(n===0||this.points_===1/0||e!=="bevel"&&e!=="miter")return n;let s=this.radius,r=this.radius2_===void 0?s:this.radius2_;if(s<r){const C=s;s=r,r=C}const a=this.radius2_===void 0?this.points_:this.points_*2,o=2*Math.PI/a,l=r*Math.sin(o),c=Math.sqrt(r*r-l*l),u=s-c,h=Math.sqrt(l*l+u*u),d=h/l;if(e==="miter"&&d<=i)return d*n;const f=n/2/d,g=n/2*(u/h),v=Math.sqrt((s+f)*(s+f)+g*g)-s;if(this.radius2_===void 0||e==="bevel")return v*2;const y=s*Math.sin(o),_=Math.sqrt(s*s-y*y),p=r-_,b=Math.sqrt(y*y+p*p)/y;if(b<=i){const C=b*n/2-r-s;return 2*Math.max(v,C)}return v*2}createRenderOptions(){let e=ba,n=Sa,i=0,s=null,r=0,a,o=0;this.stroke_&&(a=bi(this.stroke_.getColor()??jo),o=this.stroke_.getWidth()??Xo,s=this.stroke_.getLineDash(),r=this.stroke_.getLineDashOffset()??0,n=this.stroke_.getLineJoin()??Sa,e=this.stroke_.getLineCap()??ba,i=this.stroke_.getMiterLimit()??Uo);const l=this.calculateLineJoinSize_(n,o,i),c=Math.max(this.radius,this.radius2_||0),u=Math.ceil(2*c+l);return{strokeStyle:a,strokeWidth:o,size:u,lineCap:e,lineDash:s,lineDashOffset:r,lineJoin:n,miterLimit:i}}render(){this.renderOptions_=this.createRenderOptions();const e=this.renderOptions_.size;this.hitDetectionCanvas_=null,this.size_=[e,e]}draw_(e,n,i){if(n.scale(i,i),n.translate(e.size/2,e.size/2),this.createPath_(n),this.fill_){let s=this.fill_.getColor();s===null&&(s=un),n.fillStyle=bi(s),n.fill()}e.strokeStyle&&(n.strokeStyle=e.strokeStyle,n.lineWidth=e.strokeWidth,e.lineDash&&(n.setLineDash(e.lineDash),n.lineDashOffset=e.lineDashOffset),n.lineCap=e.lineCap,n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit,n.stroke())}createHitDetectionCanvas_(e){let n;if(this.fill_){let i=this.fill_.getColor(),s=0;typeof i=="string"&&(i=xa(i)),i===null?s=1:Array.isArray(i)&&(s=i.length===4?i[3]:1),s===0&&(n=St(e.size,e.size),this.drawHitDetectionCanvas_(e,n))}return n?n.canvas:this.getImage(1)}createPath_(e){let n=this.points_;const i=this.radius;if(n===1/0)e.arc(0,0,i,0,2*Math.PI);else{const s=this.radius2_===void 0?i:this.radius2_;this.radius2_!==void 0&&(n*=2);const r=this.angle_-Math.PI/2,a=2*Math.PI/n;for(let o=0;o<n;o++){const l=r+o*a,c=o%2===0?i:s;e.lineTo(c*Math.cos(l),c*Math.sin(l))}e.closePath()}}drawHitDetectionCanvas_(e,n){n.translate(e.size/2,e.size/2),this.createPath_(n),n.fillStyle=un,n.fill(),e.strokeStyle&&(n.strokeStyle=e.strokeStyle,n.lineWidth=e.strokeWidth,e.lineDash&&(n.setLineDash(e.lineDash),n.lineDashOffset=e.lineDashOffset),n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit,n.stroke())}ready(){return this.fill_?this.fill_.ready():Promise.resolve()}}class La extends Ea{constructor(e){e=e||{radius:5},super({points:1/0,fill:e.fill,radius:e.radius,stroke:e.stroke,scale:e.scale!==void 0?e.scale:1,rotation:e.rotation!==void 0?e.rotation:0,rotateWithView:e.rotateWithView!==void 0?e.rotateWithView:!1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode})}clone(){const e=this.getScale(),n=new La({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n}setRadius(e){this.radius=e,this.render()}}class wi{constructor(e){e=e||{},this.patternImage_=null,this.color_=null,e.color!==void 0&&this.setColor(e.color)}clone(){const e=this.getColor();return new wi({color:Array.isArray(e)?e.slice():e||void 0})}getColor(){return this.color_}setColor(e){if(e!==null&&typeof e=="object"&&"src"in e){const n=Cg(null,e.src,"anonymous",void 0,e.offset?null:e.color?e.color:null,!(e.offset&&e.size));n.ready().then(()=>{this.patternImage_=null}),n.getImageState()===Oe.IDLE&&n.load(),n.getImageState()===Oe.LOADING&&(this.patternImage_=n)}this.color_=e}getKey(){const e=this.getColor();return e?e instanceof CanvasPattern||e instanceof CanvasGradient?He(e):typeof e=="object"&&"src"in e?e.src+":"+e.offset:xa(e).toString():""}loading(){return!!this.patternImage_}ready(){return this.patternImage_?this.patternImage_.ready():Promise.resolve()}}function E0(t,e,n,i){return n!==void 0&&i!==void 0?[n/t,i/e]:n!==void 0?n/t:i!==void 0?i/e:1}class Uu extends Wu{constructor(e){e=e||{};const n=e.opacity!==void 0?e.opacity:1,i=e.rotation!==void 0?e.rotation:0,s=e.scale!==void 0?e.scale:1,r=e.rotateWithView!==void 0?e.rotateWithView:!1;super({opacity:n,rotation:i,scale:s,displacement:e.displacement!==void 0?e.displacement:[0,0],rotateWithView:r,declutterMode:e.declutterMode}),this.anchor_=e.anchor!==void 0?e.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=e.anchorOrigin!==void 0?e.anchorOrigin:"top-left",this.anchorXUnits_=e.anchorXUnits!==void 0?e.anchorXUnits:"fraction",this.anchorYUnits_=e.anchorYUnits!==void 0?e.anchorYUnits:"fraction",this.crossOrigin_=e.crossOrigin!==void 0?e.crossOrigin:null;const a=e.img!==void 0?e.img:null;let o=e.src;Ze(!(o!==void 0&&a),"`image` and `src` cannot be provided at the same time"),(o===void 0||o.length===0)&&a&&(o=a.src||He(a)),Ze(o!==void 0&&o.length>0,"A defined and non-empty `src` or `image` must be provided"),Ze(!((e.width!==void 0||e.height!==void 0)&&e.scale!==void 0),"`width` or `height` cannot be provided together with `scale`");let l;if(e.src!==void 0?l=Oe.IDLE:a!==void 0&&("complete"in a?a.complete?l=a.src?Oe.LOADED:Oe.IDLE:l=Oe.LOADING:l=Oe.LOADED),this.color_=e.color!==void 0?xa(e.color):null,this.iconImage_=Cg(a,o,this.crossOrigin_,l,this.color_),this.offset_=e.offset!==void 0?e.offset:[0,0],this.offsetOrigin_=e.offsetOrigin!==void 0?e.offsetOrigin:"top-left",this.origin_=null,this.size_=e.size!==void 0?e.size:null,this.initialOptions_,e.width!==void 0||e.height!==void 0){let c,u;if(e.size)[c,u]=e.size;else{const h=this.getImage(1);if(h.width&&h.height)c=h.width,u=h.height;else if(h instanceof HTMLImageElement){this.initialOptions_=e;const d=()=>{if(this.unlistenImageChange(d),!this.initialOptions_)return;const f=this.iconImage_.getSize();this.setScale(E0(f[0],f[1],e.width,e.height))};this.listenImageChange(d);return}}c!==void 0&&this.setScale(E0(c,u,e.width,e.height))}}clone(){let e,n,i;return this.initialOptions_?(n=this.initialOptions_.width,i=this.initialOptions_.height):(e=this.getScale(),e=Array.isArray(e)?e.slice():e),new Uu({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:e,width:n,height:i,size:this.size_!==null?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getAnchor(){let e=this.normalizedAnchor_;if(!e){e=this.anchor_;const s=this.getSize();if(this.anchorXUnits_=="fraction"||this.anchorYUnits_=="fraction"){if(!s)return null;e=this.anchor_.slice(),this.anchorXUnits_=="fraction"&&(e[0]*=s[0]),this.anchorYUnits_=="fraction"&&(e[1]*=s[1])}if(this.anchorOrigin_!="top-left"){if(!s)return null;e===this.anchor_&&(e=this.anchor_.slice()),(this.anchorOrigin_=="top-right"||this.anchorOrigin_=="bottom-right")&&(e[0]=-e[0]+s[0]),(this.anchorOrigin_=="bottom-left"||this.anchorOrigin_=="bottom-right")&&(e[1]=-e[1]+s[1])}this.normalizedAnchor_=e}const n=this.getDisplacement(),i=this.getScaleArray();return[e[0]-n[0]/i[0],e[1]+n[1]/i[1]]}setAnchor(e){this.anchor_=e,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(e){return this.iconImage_.getImage(e)}getPixelRatio(e){return this.iconImage_.getPixelRatio(e)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let e=this.offset_;if(this.offsetOrigin_!="top-left"){const n=this.getSize(),i=this.iconImage_.getSize();if(!n||!i)return null;e=e.slice(),(this.offsetOrigin_=="top-right"||this.offsetOrigin_=="bottom-right")&&(e[0]=i[0]-n[0]-e[0]),(this.offsetOrigin_=="bottom-left"||this.offsetOrigin_=="bottom-right")&&(e[1]=i[1]-n[1]-e[1])}return this.origin_=e,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){const e=this.getScaleArray();if(this.size_)return this.size_[0]*e[0];if(this.iconImage_.getImageState()==Oe.LOADED)return this.iconImage_.getSize()[0]*e[0]}getHeight(){const e=this.getScaleArray();if(this.size_)return this.size_[1]*e[1];if(this.iconImage_.getImageState()==Oe.LOADED)return this.iconImage_.getSize()[1]*e[1]}setScale(e){delete this.initialOptions_,super.setScale(e)}listenImageChange(e){this.iconImage_.addEventListener(Ie.CHANGE,e)}load(){this.iconImage_.load()}unlistenImageChange(e){this.iconImage_.removeEventListener(Ie.CHANGE,e)}ready(){return this.iconImage_.ready()}}class Ts{constructor(e){e=e||{},this.color_=e.color!==void 0?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=e.lineDash!==void 0?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}clone(){const e=this.getColor();return new Ts({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(e){this.color_=e}setLineCap(e){this.lineCap_=e}setLineDash(e){this.lineDash_=e}setLineDashOffset(e){this.lineDashOffset_=e}setLineJoin(e){this.lineJoin_=e}setMiterLimit(e){this.miterLimit_=e}setWidth(e){this.width_=e}}class zn{constructor(e){e=e||{},this.geometry_=null,this.geometryFunction_=C0,e.geometry!==void 0&&this.setGeometry(e.geometry),this.fill_=e.fill!==void 0?e.fill:null,this.image_=e.image!==void 0?e.image:null,this.renderer_=e.renderer!==void 0?e.renderer:null,this.hitDetectionRenderer_=e.hitDetectionRenderer!==void 0?e.hitDetectionRenderer:null,this.stroke_=e.stroke!==void 0?e.stroke:null,this.text_=e.text!==void 0?e.text:null,this.zIndex_=e.zIndex}clone(){let e=this.getGeometry();return e&&typeof e=="object"&&(e=e.clone()),new zn({geometry:e??void 0,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer()??void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(e){this.renderer_=e}setHitDetectionRenderer(e){this.hitDetectionRenderer_=e}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(e){this.fill_=e}getImage(){return this.image_}setImage(e){this.image_=e}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e}getText(){return this.text_}setText(e){this.text_=e}getZIndex(){return this.zIndex_}setGeometry(e){typeof e=="function"?this.geometryFunction_=e:typeof e=="string"?this.geometryFunction_=function(n){return n.get(e)}:e?e!==void 0&&(this.geometryFunction_=function(){return e}):this.geometryFunction_=C0,this.geometry_=e}setZIndex(e){this.zIndex_=e}}function bD(t){let e;if(typeof t=="function")e=t;else{let n;Array.isArray(t)?n=t:(Ze(typeof t.getZIndex=="function","Expected an `Style` or an array of `Style`"),n=[t]),e=function(){return n}}return e}let Vh=null;function ux(t,e){if(!Vh){const n=new wi({color:"rgba(255,255,255,0.4)"}),i=new Ts({color:"#3399CC",width:1.25});Vh=[new zn({image:new La({fill:n,stroke:i,radius:5}),fill:n,stroke:i})]}return Vh}function C0(t){return t.getGeometry()}const SD="#333";class wg{constructor(e){e=e||{},this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.keepUpright_=e.keepUpright,this.scale_=e.scale,this.scaleArray_=yn(e.scale!==void 0?e.scale:1),this.text_=e.text,this.textAlign_=e.textAlign,this.justify_=e.justify,this.repeat_=e.repeat,this.textBaseline_=e.textBaseline,this.fill_=e.fill!==void 0?e.fill:new wi({color:SD}),this.maxAngle_=e.maxAngle!==void 0?e.maxAngle:Math.PI/4,this.placement_=e.placement!==void 0?e.placement:"point",this.overflow_=!!e.overflow,this.stroke_=e.stroke!==void 0?e.stroke:null,this.offsetX_=e.offsetX!==void 0?e.offsetX:0,this.offsetY_=e.offsetY!==void 0?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=e.padding===void 0?null:e.padding,this.declutterMode_=e.declutterMode}clone(){const e=this.getScale();return new wg({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),keepUpright:this.getKeepUpright(),scale:Array.isArray(e)?e.slice():e,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0,declutterMode:this.getDeclutterMode()})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getRepeat(){return this.repeat_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getKeepUpright(){return this.keepUpright_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}getDeclutterMode(){return this.declutterMode_}setOverflow(e){this.overflow_=e}setFont(e){this.font_=e}setMaxAngle(e){this.maxAngle_=e}setOffsetX(e){this.offsetX_=e}setOffsetY(e){this.offsetY_=e}setPlacement(e){this.placement_=e}setRepeat(e){this.repeat_=e}setRotateWithView(e){this.rotateWithView_=e}setKeepUpright(e){this.keepUpright_=e}setFill(e){this.fill_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=yn(e!==void 0?e:1)}setStroke(e){this.stroke_=e}setText(e){this.text_=e}setTextAlign(e){this.textAlign_=e}setJustify(e){this.justify_=e}setTextBaseline(e){this.textBaseline_=e}setBackgroundFill(e){this.backgroundFill_=e}setBackgroundStroke(e){this.backgroundStroke_=e}setPadding(e){this.padding_=e}}function ED(t){return!0}function CD(t){const e=sx(),n=wD(t,e),i=ax();return function(s,r){if(i.properties=s.getPropertiesInternal(),i.resolution=r,e.featureId){const a=s.getId();a!==void 0?i.featureId=a:i.featureId=null}return e.geometryType&&(i.geometryType=rx(s.getGeometry())),n(i)}}function w0(t){const e=sx(),n=t.length,i=new Array(n);for(let a=0;a<n;++a)i[a]=zd(t[a],e);const s=ax(),r=new Array(n);return function(a,o){if(s.properties=a.getPropertiesInternal(),s.resolution=o,e.featureId){const c=a.getId();c!==void 0?s.featureId=c:s.featureId=null}let l=0;for(let c=0;c<n;++c){const u=i[c](s);u&&(r[l]=u,l+=1)}return r.length=l,r}}function wD(t,e){const n=t.length,i=new Array(n);for(let s=0;s<n;++s){const r=t[s],a="filter"in r?is(r.filter,Yt,e):ED;let o;if(Array.isArray(r.style)){const l=r.style.length;o=new Array(l);for(let c=0;c<l;++c)o[c]=zd(r.style[c],e)}else o=[zd(r.style,e)];i[s]={filter:a,styles:o}}return function(s){const r=[];let a=!1;for(let o=0;o<n;++o){const l=i[o].filter;if(l(s)&&!(t[o].else&&a)){a=!0;for(const c of i[o].styles){const u=c(s);u&&r.push(u)}}}return r}}function zd(t,e){const n=qo(t,"",e),i=Ko(t,"",e),s=MD(t,e),r=TD(t,e),a=mn(t,"z-index",e);if(!n&&!i&&!s&&!r&&!va(t))throw new Error("No fill, stroke, point, or text symbolizer properties in style: "+JSON.stringify(t));const o=new zn;return function(l){let c=!0;if(n){const u=n(l);u&&(c=!1),o.setFill(u)}if(i){const u=i(l);u&&(c=!1),o.setStroke(u)}if(s){const u=s(l);u&&(c=!1),o.setText(u)}if(r){const u=r(l);u&&(c=!1),o.setImage(u)}return a&&o.setZIndex(a(l)),c?null:o}}function qo(t,e,n){let i;if(e+"fill-pattern-src"in t)i=PD(t,e+"fill-",n);else{if(t[e+"fill-color"]==="none")return r=>null;i=Mg(t,e+"fill-color",n)}if(!i)return null;const s=new wi;return function(r){const a=i(r);return a===xg?null:(s.setColor(a),s)}}function Ko(t,e,n){const i=mn(t,e+"stroke-width",n),s=Mg(t,e+"stroke-color",n);if(!i&&!s)return null;const r=zi(t,e+"stroke-line-cap",n),a=zi(t,e+"stroke-line-join",n),o=hx(t,e+"stroke-line-dash",n),l=mn(t,e+"stroke-line-dash-offset",n),c=mn(t,e+"stroke-miter-limit",n),u=new Ts;return function(h){if(s){const d=s(h);if(d===xg)return null;u.setColor(d)}if(i&&u.setWidth(i(h)),r){const d=r(h);if(d!=="butt"&&d!=="round"&&d!=="square")throw new Error("Expected butt, round, or square line cap");u.setLineCap(d)}if(a){const d=a(h);if(d!=="bevel"&&d!=="round"&&d!=="miter")throw new Error("Expected bevel, round, or miter line join");u.setLineJoin(d)}return o&&u.setLineDash(o(h)),l&&u.setLineDashOffset(l(h)),c&&u.setMiterLimit(c(h)),u}}function MD(t,e){const n="text-",i=zi(t,n+"value",e);if(!i)return null;const s=qo(t,n,e),r=qo(t,n+"background-",e),a=Ko(t,n,e),o=Ko(t,n+"background-",e),l=zi(t,n+"font",e),c=mn(t,n+"max-angle",e),u=mn(t,n+"offset-x",e),h=mn(t,n+"offset-y",e),d=la(t,n+"overflow",e),f=zi(t,n+"placement",e),g=mn(t,n+"repeat",e),m=ju(t,n+"scale",e),v=la(t,n+"rotate-with-view",e),y=mn(t,n+"rotation",e),_=zi(t,n+"align",e),p=zi(t,n+"justify",e),x=zi(t,n+"baseline",e),b=la(t,n+"keep-upright",e),C=hx(t,n+"padding",e),M=Hu(t,n+"declutter-mode"),E=new wg({declutterMode:M});return function(R){if(E.setText(i(R)),s&&E.setFill(s(R)),r&&E.setBackgroundFill(r(R)),a&&E.setStroke(a(R)),o&&E.setBackgroundStroke(o(R)),l&&E.setFont(l(R)),c&&E.setMaxAngle(c(R)),u&&E.setOffsetX(u(R)),h&&E.setOffsetY(h(R)),d&&E.setOverflow(d(R)),f){const O=f(R);if(O!=="point"&&O!=="line")throw new Error("Expected point or line for text-placement");E.setPlacement(O)}if(g&&E.setRepeat(g(R)),m&&E.setScale(m(R)),v&&E.setRotateWithView(v(R)),y&&E.setRotation(y(R)),_){const O=_(R);if(O!=="left"&&O!=="center"&&O!=="right"&&O!=="end"&&O!=="start")throw new Error("Expected left, right, center, start, or end for text-align");E.setTextAlign(O)}if(p){const O=p(R);if(O!=="left"&&O!=="right"&&O!=="center")throw new Error("Expected left, right, or center for text-justify");E.setJustify(O)}if(x){const O=x(R);if(O!=="bottom"&&O!=="top"&&O!=="middle"&&O!=="alphabetic"&&O!=="hanging")throw new Error("Expected bottom, top, middle, alphabetic, or hanging for text-baseline");E.setTextBaseline(O)}return C&&E.setPadding(C(R)),b&&E.setKeepUpright(b(R)),E}}function TD(t,e){return"icon-src"in t?RD(t,e):"shape-points"in t?ID(t,e):"circle-radius"in t?AD(t,e):null}function RD(t,e){const n="icon-",i=n+"src",s=dx(t[i],i),r=eu(t,n+"anchor",e),a=ju(t,n+"scale",e),o=mn(t,n+"opacity",e),l=eu(t,n+"displacement",e),c=mn(t,n+"rotation",e),u=la(t,n+"rotate-with-view",e),h=T0(t,n+"anchor-origin"),d=R0(t,n+"anchor-x-units"),f=R0(t,n+"anchor-y-units"),g=DD(t,n+"color"),m=OD(t,n+"cross-origin"),v=kD(t,n+"offset"),y=T0(t,n+"offset-origin"),_=tu(t,n+"width"),p=tu(t,n+"height"),x=LD(t,n+"size"),b=Hu(t,n+"declutter-mode"),C=new Uu({src:s,anchorOrigin:h,anchorXUnits:d,anchorYUnits:f,color:g,crossOrigin:m,offset:v,offsetOrigin:y,height:p,width:_,size:x,declutterMode:b});return function(M){return o&&C.setOpacity(o(M)),l&&C.setDisplacement(l(M)),c&&C.setRotation(c(M)),u&&C.setRotateWithView(u(M)),a&&C.setScale(a(M)),r&&C.setAnchor(r(M)),C}}function ID(t,e){const n="shape-",i=n+"points",s=n+"radius",r=Wd(t[i],i),a=Wd(t[s],s),o=qo(t,n,e),l=Ko(t,n,e),c=ju(t,n+"scale",e),u=eu(t,n+"displacement",e),h=mn(t,n+"rotation",e),d=la(t,n+"rotate-with-view",e),f=tu(t,n+"radius2"),g=tu(t,n+"angle"),m=Hu(t,n+"declutter-mode"),v=new Ea({points:r,radius:a,radius2:f,angle:g,declutterMode:m});return function(y){return o&&v.setFill(o(y)),l&&v.setStroke(l(y)),u&&v.setDisplacement(u(y)),h&&v.setRotation(h(y)),d&&v.setRotateWithView(d(y)),c&&v.setScale(c(y)),v}}function AD(t,e){const n="circle-",i=qo(t,n,e),s=Ko(t,n,e),r=mn(t,n+"radius",e),a=ju(t,n+"scale",e),o=eu(t,n+"displacement",e),l=mn(t,n+"rotation",e),c=la(t,n+"rotate-with-view",e),u=Hu(t,n+"declutter-mode"),h=new La({radius:5,declutterMode:u});return function(d){return r&&h.setRadius(r(d)),i&&h.setFill(i(d)),s&&h.setStroke(s(d)),o&&h.setDisplacement(o(d)),l&&h.setRotation(l(d)),c&&h.setRotateWithView(c(d)),a&&h.setScale(a(d)),h}}function mn(t,e,n){if(!(e in t))return;const i=is(t[e],Fe,n);return function(s){return Wd(i(s),e)}}function zi(t,e,n){if(!(e in t))return null;const i=is(t[e],cn,n);return function(s){return dx(i(s),e)}}function PD(t,e,n){const i=zi(t,e+"pattern-src",n),s=M0(t,e+"pattern-offset",n),r=M0(t,e+"pattern-size",n),a=Mg(t,e+"color",n);return function(o){return{src:i(o),offset:s&&s(o),size:r&&r(o),color:a&&a(o)}}}function la(t,e,n){if(!(e in t))return null;const i=is(t[e],Yt,n);return function(s){const r=i(s);if(typeof r!="boolean")throw new Error(`Expected a boolean for ${e}`);return r}}function Mg(t,e,n){if(!(e in t))return null;const i=is(t[e],Kn,n);return function(s){return fx(i(s),e)}}function hx(t,e,n){if(!(e in t))return null;const i=is(t[e],br,n);return function(s){return pl(i(s),e)}}function eu(t,e,n){if(!(e in t))return null;const i=is(t[e],br,n);return function(s){const r=pl(i(s),e);if(r.length!==2)throw new Error(`Expected two numbers for ${e}`);return r}}function M0(t,e,n){if(!(e in t))return null;const i=is(t[e],br,n);return function(s){return gx(i(s),e)}}function ju(t,e,n){if(!(e in t))return null;const i=is(t[e],br|Fe,n);return function(s){return ND(i(s),e)}}function tu(t,e){const n=t[e];if(n!==void 0){if(typeof n!="number")throw new Error(`Expected a number for ${e}`);return n}}function LD(t,e){const n=t[e];if(n!==void 0){if(typeof n=="number")return yn(n);if(!Array.isArray(n))throw new Error(`Expected a number or size array for ${e}`);if(n.length!==2||typeof n[0]!="number"||typeof n[1]!="number")throw new Error(`Expected a number or size array for ${e}`);return n}}function OD(t,e){const n=t[e];if(n!==void 0){if(typeof n!="string")throw new Error(`Expected a string for ${e}`);return n}}function T0(t,e){const n=t[e];if(n!==void 0){if(n!=="bottom-left"&&n!=="bottom-right"&&n!=="top-left"&&n!=="top-right")throw new Error(`Expected bottom-left, bottom-right, top-left, or top-right for ${e}`);return n}}function R0(t,e){const n=t[e];if(n!==void 0){if(n!=="pixels"&&n!=="fraction")throw new Error(`Expected pixels or fraction for ${e}`);return n}}function kD(t,e){const n=t[e];if(n!==void 0)return pl(n,e)}function Hu(t,e){const n=t[e];if(n!==void 0){if(typeof n!="string")throw new Error(`Expected a string for ${e}`);if(n!=="declutter"&&n!=="obstacle"&&n!=="none")throw new Error(`Expected declutter, obstacle, or none for ${e}`);return n}}function DD(t,e){const n=t[e];if(n!==void 0)return fx(n,e)}function pl(t,e){if(!Array.isArray(t))throw new Error(`Expected an array for ${e}`);const n=t.length;for(let i=0;i<n;++i)if(typeof t[i]!="number")throw new Error(`Expected an array of numbers for ${e}`);return t}function dx(t,e){if(typeof t!="string")throw new Error(`Expected a string for ${e}`);return t}function Wd(t,e){if(typeof t!="number")throw new Error(`Expected a number for ${e}`);return t}function fx(t,e){if(typeof t=="string")return t;const n=pl(t,e),i=n.length;if(i<3||i>4)throw new Error(`Expected a color with 3 or 4 values for ${e}`);return n}function gx(t,e){const n=pl(t,e);if(n.length!==2)throw new Error(`Expected an array of two numbers for ${e}`);return n}function ND(t,e){return typeof t=="number"?t:gx(t,e)}const I0={RENDER_ORDER:"renderOrder"};class mx extends zu{constructor(e){e=e||{};const n=Object.assign({},e);delete n.style,delete n.renderBuffer,delete n.updateWhileAnimating,delete n.updateWhileInteracting,super(n),this.declutter_=e.declutter?String(e.declutter):void 0,this.renderBuffer_=e.renderBuffer!==void 0?e.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(e.style),this.updateWhileAnimating_=e.updateWhileAnimating!==void 0?e.updateWhileAnimating:!1,this.updateWhileInteracting_=e.updateWhileInteracting!==void 0?e.updateWhileInteracting:!1}getDeclutter(){return this.declutter_}getFeatures(e){return super.getFeatures(e)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(I0.RENDER_ORDER)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(e,n){const i=this.getDeclutter();i in e.declutter||(e.declutter[i]=new nx(9)),this.getRenderer().renderDeclutter(e,n)}setRenderOrder(e){this.set(I0.RENDER_ORDER,e)}setStyle(e){this.style_=e===void 0?ux:e;const n=FD(e);this.styleFunction_=e===null?void 0:bD(n),this.changed()}setDeclutter(e){this.declutter_=e?String(e):void 0,this.changed()}}function FD(t){if(t===void 0)return ux;if(!t)return null;if(typeof t=="function"||t instanceof zn)return t;if(!Array.isArray(t))return w0([t]);if(t.length===0)return[];const e=t.length,n=t[0];if(n instanceof zn){const s=new Array(e);for(let r=0;r<e;++r){const a=t[r];if(!(a instanceof zn))throw new Error("Expected a list of style instances");s[r]=a}return s}if("style"in n){const s=new Array(e);for(let r=0;r<e;++r){const a=t[r];if(!("style"in a))throw new Error("Expected a list of rules with a style property");s[r]=a}return CD(s)}return w0(t)}class vx extends ns{constructor(e,n,i,s){super(e),this.inversePixelTransform=n,this.frameState=i,this.context=s}}class BD extends Ru{constructor(e){super(),this.map_=e}dispatchRenderEvent(e,n){Ve()}calculateMatrices2D(e){const n=e.viewState,i=e.coordinateToPixelTransform,s=e.pixelToCoordinateTransform;Zi(i,e.size[0]/2,e.size[1]/2,1/n.resolution,-1/n.resolution,-n.rotation,-n.center[0],-n.center[1]),$1(s,i)}forEachFeatureAtCoordinate(e,n,i,s,r,a,o,l){let c;const u=n.viewState;function h(x,b,C,M){return r.call(a,b,x?C:null,M)}const d=u.projection,f=I1(e.slice(),d),g=[[0,0]];if(d.canWrapX()&&s){const x=d.getExtent(),b=Xe(x);g.push([-b,0],[b,0])}const m=n.layerStatesArray,v=m.length,y=[],_=[];for(let x=0;x<g.length;x++)for(let b=v-1;b>=0;--b){const C=m[b],M=C.layer;if(M.hasRenderer()&&pg(C,u)&&o.call(l,M)){const E=M.getRenderer(),R=M.getSource();if(E&&R){const O=R.getWrapX()?f:e,k=h.bind(null,C.managed);_[0]=O[0]+g[x][0],_[1]=O[1]+g[x][1],c=E.forEachFeatureAtCoordinate(_,n,i,k,y)}if(c)return c}}if(y.length===0)return;const p=1/y.length;return y.forEach((x,b)=>x.distanceSq+=b*p),y.sort((x,b)=>x.distanceSq-b.distanceSq),y.some(x=>c=x.callback(x.feature,x.layer,x.geometry)),c}hasFeatureAtCoordinate(e,n,i,s,r,a){return this.forEachFeatureAtCoordinate(e,n,i,s,Vo,this,r,a)!==void 0}getMap(){return this.map_}renderFrame(e){Ve()}scheduleExpireIconCache(e){$n.canExpireCache()&&e.postRenderFunctions.push(VD)}}function VD(t,e){$n.expire()}class $D extends BD{constructor(e){super(e),this.fontChangeListenerKey_=$e(Vi,ma.PROPERTYCHANGE,e.redrawText,e),this.element_=document.createElement("div");const n=this.element_.style;n.position="absolute",n.width="100%",n.height="100%",n.zIndex="0",this.element_.className=Vu+" ol-layers";const i=e.getViewport();i.insertBefore(this.element_,i.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(e,n){const i=this.getMap();if(i.hasListener(e)){const s=new vx(e,void 0,n);i.dispatchEvent(s)}}disposeInternal(){lt(this.fontChangeListenerKey_),this.element_.remove(),super.disposeInternal()}renderFrame(e){if(!e){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(e),this.dispatchRenderEvent(Vn.PRECOMPOSE,e);const n=e.layerStatesArray.sort((o,l)=>o.zIndex-l.zIndex);n.some(o=>o.layer instanceof mx&&o.layer.getDeclutter())&&(e.declutter={});const s=e.viewState;this.children_.length=0;const r=[];let a=null;for(let o=0,l=n.length;o<l;++o){const c=n[o];e.layerIndex=o;const u=c.layer,h=u.getSourceState();if(!pg(c,s)||h!="ready"&&h!="undefined"){u.unrender();continue}const d=u.render(e,a);d&&(d!==a&&(this.children_.push(d),a=d),r.push(c))}this.declutter(e,r),JO(this.element_,this.children_),this.dispatchRenderEvent(Vn.POSTCOMPOSE,e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}declutter(e,n){if(e.declutter){for(let i=n.length-1;i>=0;--i){const s=n[i],r=s.layer;r.getDeclutter()&&r.renderDeclutter(e,s)}n.forEach(i=>i.layer.renderDeferred(e))}}}function yx(t){if(t instanceof zu){t.setMapInternal(null);return}t instanceof Tr&&t.getLayers().forEach(yx)}function _x(t,e){if(t instanceof zu){t.setMapInternal(e);return}if(t instanceof Tr){const n=t.getLayers().getArray();for(let i=0,s=n.length;i<s;++i)_x(n[i],e)}}let GD=class extends Ii{constructor(e){super(),e=e||{},this.on,this.once,this.un;const n=zD(e);this.renderComplete_=!1,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=e.maxTilesLoading!==void 0?e.maxTilesLoading:16,this.pixelRatio_=e.pixelRatio!==void 0?e.pixelRatio:bL,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=ei(),this.pixelToCoordinateTransform_=ei(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=e.moveTolerance,this.keyboardEventTarget_=n.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,this.resizeObserver_=new ResizeObserver(()=>this.updateSize()),this.controls=n.controls||ik(),this.interactions=n.interactions||Ek({onFocusOnly:!0}),this.overlays_=n.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new CL(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(Nt.LAYERGROUP,this.handleLayerGroupChanged_),this.addChangeListener(Nt.VIEW,this.handleViewChanged_),this.addChangeListener(Nt.SIZE,this.handleSizeChanged_),this.addChangeListener(Nt.TARGET,this.handleTargetChanged_),this.setProperties(n.values);const i=this;e.view&&!(e.view instanceof vi)&&e.view.then(function(s){i.setView(new vi(s))}),this.controls.addEventListener(ln.ADD,s=>{s.element.setMap(this)}),this.controls.addEventListener(ln.REMOVE,s=>{s.element.setMap(null)}),this.interactions.addEventListener(ln.ADD,s=>{s.element.setMap(this)}),this.interactions.addEventListener(ln.REMOVE,s=>{s.element.setMap(null)}),this.overlays_.addEventListener(ln.ADD,s=>{this.addOverlayInternal_(s.element)}),this.overlays_.addEventListener(ln.REMOVE,s=>{const r=s.element.getId();r!==void 0&&delete this.overlayIdIndex_[r.toString()],s.element.setMap(null)}),this.controls.forEach(s=>{s.setMap(this)}),this.interactions.forEach(s=>{s.setMap(this)}),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(e){this.getControls().push(e)}addInteraction(e){this.getInteractions().push(e)}addLayer(e){this.getLayerGroup().getLayers().push(e)}handleLayerAdd_(e){_x(e.layer,this)}addOverlay(e){this.getOverlays().push(e)}addOverlayInternal_(e){const n=e.getId();n!==void 0&&(this.overlayIdIndex_[n.toString()]=e),e.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(e,n,i){if(!this.frameState_||!this.renderer_)return;const s=this.getCoordinateFromPixelInternal(e);i=i!==void 0?i:{};const r=i.hitTolerance!==void 0?i.hitTolerance:0,a=i.layerFilter!==void 0?i.layerFilter:Vo,o=i.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(s,this.frameState_,r,o,n,null,a,null)}getFeaturesAtPixel(e,n){const i=[];return this.forEachFeatureAtPixel(e,function(s){i.push(s)},n),i}getAllLayers(){const e=[];function n(i){i.forEach(function(s){s instanceof Tr?n(s.getLayers()):e.push(s)})}return n(this.getLayers()),e}hasFeatureAtPixel(e,n){if(!this.frameState_||!this.renderer_)return!1;const i=this.getCoordinateFromPixelInternal(e);n=n!==void 0?n:{};const s=n.layerFilter!==void 0?n.layerFilter:Vo,r=n.hitTolerance!==void 0?n.hitTolerance:0,a=n.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(i,this.frameState_,r,a,s,null)}getEventCoordinate(e){return this.getCoordinateFromPixel(this.getEventPixel(e))}getEventCoordinateInternal(e){return this.getCoordinateFromPixelInternal(this.getEventPixel(e))}getEventPixel(e){const i=this.viewport_.getBoundingClientRect(),s=this.getSize(),r=i.width/s[0],a=i.height/s[1],o="changedTouches"in e?e.changedTouches[0]:e;return[(o.clientX-i.left)/r,(o.clientY-i.top)/a]}getTarget(){return this.get(Nt.TARGET)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(e){return Bd(this.getCoordinateFromPixelInternal(e),this.getView().getProjection())}getCoordinateFromPixelInternal(e){const n=this.frameState_;return n?wt(n.pixelToCoordinateTransform,e.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(e){const n=this.overlayIdIndex_[e.toString()];return n!==void 0?n:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(Nt.LAYERGROUP)}setLayers(e){const n=this.getLayerGroup();if(e instanceof xi){n.setLayers(e);return}const i=n.getLayers();i.clear(),i.extend(e)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const e=this.getLayerGroup().getLayerStatesArray();for(let n=0,i=e.length;n<i;++n){const s=e[n];if(!s.visible)continue;const r=s.layer.getRenderer();if(r&&!r.ready)return!0;const a=s.layer.getSource();if(a&&a.loading)return!0}return!1}getPixelFromCoordinate(e){const n=Bi(e,this.getView().getProjection());return this.getPixelFromCoordinateInternal(n)}getPixelFromCoordinateInternal(e){const n=this.frameState_;return n?wt(n.coordinateToPixelTransform,e.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(Nt.SIZE)}getView(){return this.get(Nt.VIEW)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const e=this.getTargetElement();return e?e.ownerDocument:document}getTilePriority(e,n,i,s){return wL(this.frameState_,e,n,i,s)}handleBrowserEvent(e,n){n=n||e.type;const i=new gs(n,this,e);this.handleMapBrowserEvent(i)}handleMapBrowserEvent(e){if(!this.frameState_)return;const n=e.originalEvent,i=n.type;if(i===Id.POINTERDOWN||i===Ie.WHEEL||i===Ie.KEYDOWN){const s=this.getOwnerDocument(),r=this.viewport_.getRootNode?this.viewport_.getRootNode():s,a=n.target,o=r instanceof ShadowRoot?r.host===a?r.host.ownerDocument:r:r===s?s.documentElement:r;if(this.overlayContainerStopEvent_.contains(a)||!o.contains(a))return}if(e.frameState=this.frameState_,this.dispatchEvent(e)!==!1){const s=this.getInteractions().getArray().slice();for(let r=s.length-1;r>=0;r--){const a=s[r];if(a.getMap()!==this||!a.getActive()||!this.getTargetElement())continue;if(!a.handleEvent(e)||e.propagationStopped)break}}}handlePostRender(){const e=this.frameState_,n=this.tileQueue_;if(!n.isEmpty()){let s=this.maxTilesLoading_,r=s;if(e){const a=e.viewHints;if(a[Bt.ANIMATING]||a[Bt.INTERACTING]){const o=Date.now()-e.time>8;s=o?0:8,r=o?0:2}}n.getTilesLoading()<s&&(n.reprioritize(),n.loadMoreTiles(s,r))}e&&this.renderer_&&!e.animate&&(this.renderComplete_?(this.hasListener(Vn.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(Vn.RENDERCOMPLETE,e),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new Gr(ms.LOADEND,this,e)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new Gr(ms.LOADSTART,this,e))));const i=this.postRenderFunctions_;if(e)for(let s=0,r=i.length;s<r;++s)i[s](this,e);i.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let i=0,s=this.targetChangeHandlerKeys_.length;i<s;++i)lt(this.targetChangeHandlerKeys_[i]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(Ie.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(Ie.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,this.viewport_.remove()}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);const i=this.targetElement_.getRootNode();i instanceof ShadowRoot&&this.resizeObserver_.unobserve(i.host),this.setSize(void 0)}const e=this.getTarget(),n=typeof e=="string"?document.getElementById(e):e;if(this.targetElement_=n,!n)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{n.appendChild(this.viewport_),this.renderer_||(this.renderer_=new $D(this)),this.mapBrowserEventHandler_=new SL(this,this.moveTolerance_);for(const r in ft)this.mapBrowserEventHandler_.addEventListener(ft[r],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(Ie.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(Ie.WHEEL,this.boundHandleBrowserEvent_,b1?{passive:!1}:!1);let i;if(this.keyboardEventTarget_)i=this.keyboardEventTarget_;else{const r=n.getRootNode();i=r instanceof ShadowRoot?r.host:n}this.targetChangeHandlerKeys_=[$e(i,Ie.KEYDOWN,this.handleBrowserEvent,this),$e(i,Ie.KEYPRESS,this.handleBrowserEvent,this)];const s=n.getRootNode();s instanceof ShadowRoot&&this.resizeObserver_.observe(s.host),this.resizeObserver_.observe(n)}this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(lt(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(lt(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const e=this.getView();e&&(this.updateViewportSize_(this.getSize()),this.viewPropertyListenerKey_=$e(e,ma.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=$e(e,Ie.CHANGE,this.handleViewPropertyChanged_,this),e.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(lt),this.layerGroupPropertyListenerKeys_=null);const e=this.getLayerGroup();e&&(this.handleLayerAdd_(new Gi("addlayer",e)),this.layerGroupPropertyListenerKeys_=[$e(e,ma.PROPERTYCHANGE,this.render,this),$e(e,Ie.CHANGE,this.render,this),$e(e,"addlayer",this.handleLayerAdd_,this),$e(e,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){const e=this.getLayerGroup().getLayerStatesArray();for(let n=0,i=e.length;n<i;++n){const s=e[n].layer;s.hasRenderer()&&s.getRenderer().handleFontsChanged()}}render(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(e){return this.getControls().remove(e)}removeInteraction(e){return this.getInteractions().remove(e)}removeLayer(e){return this.getLayerGroup().getLayers().remove(e)}handleLayerRemove_(e){yx(e.layer)}removeOverlay(e){return this.getOverlays().remove(e)}renderFrame_(e){const n=this.getSize(),i=this.getView(),s=this.frameState_;let r=null;if(n!==void 0&&_0(n)&&i&&i.isDef()){const a=i.getHints(this.frameState_?this.frameState_.viewHints:void 0),o=i.getState();if(r={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutter:null,extent:Od(o.center,o.resolution,o.rotation,n),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:n,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:o,viewHints:a,wantedTiles:{},mapId:He(this),renderTargets:{}},o.nextCenter&&o.nextResolution){const l=isNaN(o.nextRotation)?o.rotation:o.nextRotation;r.nextExtent=Od(o.nextCenter,o.nextResolution,l,n)}}this.frameState_=r,this.renderer_.renderFrame(r),r&&(r.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,r.postRenderFunctions),s&&(!this.previousExtent_||!gl(this.previousExtent_)&&!Go(r.extent,this.previousExtent_))&&(this.dispatchEvent(new Gr(ms.MOVESTART,this,s)),this.previousExtent_=fl(this.previousExtent_)),this.previousExtent_&&!r.viewHints[Bt.ANIMATING]&&!r.viewHints[Bt.INTERACTING]&&!Go(r.extent,this.previousExtent_)&&(this.dispatchEvent(new Gr(ms.MOVEEND,this,r)),S1(r.extent,this.previousExtent_))),this.dispatchEvent(new Gr(ms.POSTRENDER,this,r)),this.renderComplete_=(this.hasListener(ms.LOADSTART)||this.hasListener(ms.LOADEND)||this.hasListener(Vn.RENDERCOMPLETE))&&!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady(),this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()},0))}setLayerGroup(e){const n=this.getLayerGroup();n&&this.handleLayerRemove_(new Gi("removelayer",n)),this.set(Nt.LAYERGROUP,e)}setSize(e){this.set(Nt.SIZE,e)}setTarget(e){this.set(Nt.TARGET,e)}setView(e){if(!e||e instanceof vi){this.set(Nt.VIEW,e);return}this.set(Nt.VIEW,new vi);const n=this;e.then(function(i){n.setView(new vi(i))})}updateSize(){const e=this.getTargetElement();let n;if(e){const s=getComputedStyle(e),r=e.offsetWidth-parseFloat(s.borderLeftWidth)-parseFloat(s.paddingLeft)-parseFloat(s.paddingRight)-parseFloat(s.borderRightWidth),a=e.offsetHeight-parseFloat(s.borderTopWidth)-parseFloat(s.paddingTop)-parseFloat(s.paddingBottom)-parseFloat(s.borderBottomWidth);!isNaN(r)&&!isNaN(a)&&(n=[Math.max(0,r),Math.max(0,a)],!_0(n)&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)&&L1("No map visible because the map container's width or height are 0."))}const i=this.getSize();n&&(!i||!Fs(n,i))&&(this.setSize(n),this.updateViewportSize_(n))}updateViewportSize_(e){const n=this.getView();n&&n.setViewportSize(e)}};function zD(t){let e=null;t.keyboardEventTarget!==void 0&&(e=typeof t.keyboardEventTarget=="string"?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);const n={},i=t.layers&&typeof t.layers.getLayers=="function"?t.layers:new Tr({layers:t.layers});n[Nt.LAYERGROUP]=i,n[Nt.TARGET]=t.target,n[Nt.VIEW]=t.view instanceof vi?t.view:new vi;let s;t.controls!==void 0&&(Array.isArray(t.controls)?s=new xi(t.controls.slice()):(Ze(typeof t.controls.getArray=="function","Expected `controls` to be an array or an `ol/Collection.js`"),s=t.controls));let r;t.interactions!==void 0&&(Array.isArray(t.interactions)?r=new xi(t.interactions.slice()):(Ze(typeof t.interactions.getArray=="function","Expected `interactions` to be an array or an `ol/Collection.js`"),r=t.interactions));let a;return t.overlays!==void 0?Array.isArray(t.overlays)?a=new xi(t.overlays.slice()):(Ze(typeof t.overlays.getArray=="function","Expected `overlays` to be an array or an `ol/Collection.js`"),a=t.overlays):a=new xi,{controls:s,interactions:r,keyboardEventTarget:e,overlays:a,values:n}}class xl extends Ii{constructor(e){if(super(),this.on,this.once,this.un,this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),e)if(typeof e.getSimplifiedGeometry=="function"){const n=e;this.setGeometry(n)}else{const n=e;this.setProperties(n)}}clone(){const e=new xl(this.hasProperties()?this.getProperties():null);e.setGeometryName(this.getGeometryName());const n=this.getGeometry();n&&e.setGeometry(n.clone());const i=this.getStyle();return i&&e.setStyle(i),e}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&(lt(this.geometryChangeKey_),this.geometryChangeKey_=null);const e=this.getGeometry();e&&(this.geometryChangeKey_=$e(e,Ie.CHANGE,this.handleGeometryChange_,this)),this.changed()}setGeometry(e){this.set(this.geometryName_,e)}setStyle(e){this.style_=e,this.styleFunction_=e?WD(e):void 0,this.changed()}setId(e){this.id_=e,this.changed()}setGeometryName(e){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=e,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}}function WD(t){if(typeof t=="function")return t;let e;return Array.isArray(t)?e=t:(Ze(typeof t.getZIndex=="function","Expected an `ol/style/Style` or an array of `ol/style/Style.js`"),e=[t]),function(){return e}}class Tg extends Bu{constructor(e,n){super(),n&&!Array.isArray(e[0])?this.setFlatCoordinates(n,e):this.setCoordinates(e,n)}appendPoint(e){Iu(this.flatCoordinates,e.getFlatCoordinates()),this.changed()}clone(){const e=new Tg(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,n,i,s){if(s<Jf(this.getExtent(),e,n))return s;const r=this.flatCoordinates,a=this.stride;for(let o=0,l=r.length;o<l;o+=a){const c=lr(e,n,r[o],r[o+1]);if(c<s){s=c;for(let u=0;u<a;++u)i[u]=r[o+u];i.length=a}}return s}getCoordinates(){return er(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getPoint(e){const n=this.flatCoordinates.length/this.stride;return e<0||n<=e?null:new xr(this.flatCoordinates.slice(e*this.stride,(e+1)*this.stride),this.layout)}getPoints(){const e=this.flatCoordinates,n=this.layout,i=this.stride,s=[];for(let r=0,a=e.length;r<a;r+=i){const o=new xr(e.slice(r,r+i),n);s.push(o)}return s}getType(){return"MultiPoint"}intersectsExtent(e){const n=this.flatCoordinates,i=this.stride;for(let s=0,r=n.length;s<r;s+=i){const a=n[s],o=n[s+1];if(Qf(e,a,o))return!0}return!1}setCoordinates(e,n){this.setLayout(n,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=lg(this.flatCoordinates,0,e,this.stride),this.changed()}}class Rg extends Pu{constructor(e,n,i){super(),i=i||{},this.tileCoord=e,this.state=n,this.key="",this.transition_=i.transition===void 0?250:i.transition,this.transitionStarts_={},this.interpolate=!!i.interpolate}changed(){this.dispatchEvent(Ie.CHANGE)}release(){this.setState(_e.EMPTY)}getKey(){return this.key+"/"+this.tileCoord}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(e){if(this.state!==_e.EMPTY){if(this.state!==_e.ERROR&&this.state>e)throw new Error("Tile load sequence violation");this.state=e,this.changed()}}load(){Ve()}getAlpha(e,n){if(!this.transition_)return 1;let i=this.transitionStarts_[e];if(!i)i=n,this.transitionStarts_[e]=i;else if(i===-1)return 1;const s=n-i+1e3/60;return s>=this.transition_?1:P1(s/this.transition_)}inTransition(e){return this.transition_?this.transitionStarts_[e]!==-1:!1}endTransition(e){this.transition_&&(this.transitionStarts_[e]=-1)}disposeInternal(){this.release(),super.disposeInternal()}}function Ud(t){return t instanceof Image||t instanceof HTMLCanvasElement||t instanceof HTMLVideoElement||t instanceof ImageBitmap?t:null}const UD=new Error("disposed"),jD=[256,256];class A0 extends Rg{constructor(e){const n=_e.IDLE;super(e.tileCoord,n,{transition:e.transition,interpolate:e.interpolate}),this.loader_=e.loader,this.data_=null,this.error_=null,this.size_=e.size||null,this.controller_=e.controller||null}getSize(){if(this.size_)return this.size_;const e=Ud(this.data_);return e?[e.width,e.height]:jD}getData(){return this.data_}getError(){return this.error_}load(){if(this.state!==_e.IDLE&&this.state!==_e.ERROR)return;this.state=_e.LOADING,this.changed();const e=this;this.loader_().then(function(n){e.data_=n,e.state=_e.LOADED,e.changed()}).catch(function(n){e.error_=n,e.state=_e.ERROR,e.changed()})}disposeInternal(){this.controller_&&(this.controller_.abort(UD),this.controller_=null),super.disposeInternal()}}class px extends Rg{constructor(e,n,i,s,r,a){super(e,n,a),this.crossOrigin_=s,this.src_=i,this.key=i,this.image_=new Image,s!==null&&(this.image_.crossOrigin=s),this.unlisten_=null,this.tileLoadFunction_=r}getImage(){return this.image_}setImage(e){this.image_=e,this.state=_e.LOADED,this.unlistenImage_(),this.changed()}handleImageError_(){this.state=_e.ERROR,this.unlistenImage_(),this.image_=HD(),this.changed()}handleImageLoad_(){const e=this.image_;e.naturalWidth&&e.naturalHeight?this.state=_e.LOADED:this.state=_e.EMPTY,this.unlistenImage_(),this.changed()}load(){this.state==_e.ERROR&&(this.state=_e.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==_e.IDLE&&(this.state=_e.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=hD(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}disposeInternal(){this.unlistenImage_(),this.image_=null,super.disposeInternal()}}function HD(){const t=St(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}class Ig{constructor(e,n,i,s){this.minX=e,this.maxX=n,this.minY=i,this.maxY=s}contains(e){return this.containsXY(e[1],e[2])}containsTileRange(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY}containsXY(e,n){return this.minX<=e&&e<=this.maxX&&this.minY<=n&&n<=this.maxY}equals(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY}extend(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY}}function Nr(t,e,n,i,s){return s!==void 0?(s.minX=t,s.maxX=e,s.minY=n,s.maxY=i,s):new Ig(t,e,n,i)}let $h;const ca=[];function P0(t,e,n,i,s){t.beginPath(),t.moveTo(0,0),t.lineTo(e,n),t.lineTo(i,s),t.closePath(),t.save(),t.clip(),t.fillRect(0,0,Math.max(e,i)+1,Math.max(n,s)),t.restore()}function Gh(t,e){return Math.abs(t[e*4]-210)>2||Math.abs(t[e*4+3]-.75*255)>2}function XD(){if($h===void 0){const t=St(6,6,ca);t.globalCompositeOperation="lighter",t.fillStyle="rgba(210, 0, 0, 0.75)",P0(t,4,5,4,0),P0(t,4,5,0,5);const e=t.getImageData(0,0,3,3).data;$h=Gh(e,0)||Gh(e,4)||Gh(e,8),$u(t),ca.push(t.canvas)}return $h}function L0(t,e,n,i){const s=B1(n,e,t);let r=t0(e,i,n);const a=e.getMetersPerUnit();a!==void 0&&(r*=a);const o=t.getMetersPerUnit();o!==void 0&&(r/=o);const l=t.getExtent();if(!l||ya(l,s)){const c=t0(t,r,s)/r;isFinite(c)&&c>0&&(r/=c)}return r}function qD(t,e,n,i){const s=_r(n);let r=L0(t,e,s,i);return(!isFinite(r)||r<=0)&&w1(n,function(a){return r=L0(t,e,a,i),isFinite(r)&&r>0}),r}function KD(t,e,n,i,s,r,a,o,l,c,u,h,d,f){const g=St(Math.round(n*t),Math.round(n*e),ca);if(h||(g.imageSmoothingEnabled=!1),l.length===0)return g.canvas;g.scale(n,n);function m(b){return Math.round(b*n)/n}g.globalCompositeOperation="lighter";const v=Un();l.forEach(function(b,C,M){AL(v,b.extent)});let y;const _=n/i,p=(h?1:1+Math.pow(2,-24))/_;y=St(Math.round(Xe(v)*_),Math.round(Jt(v)*_),ca),h||(y.imageSmoothingEnabled=!1),l.forEach(function(b,C,M){if(b.image.width>0&&b.image.height>0){if(b.clipExtent){y.save();const w=(b.clipExtent[0]-v[0])*_,A=-(b.clipExtent[3]-v[3])*_,D=Xe(b.clipExtent)*_,X=Jt(b.clipExtent)*_;y.rect(h?w:Math.round(w),h?A:Math.round(A),h?D:Math.round(w+D)-Math.round(w),h?X:Math.round(A+X)-Math.round(A)),y.clip()}const E=(b.extent[0]-v[0])*_,R=-(b.extent[3]-v[3])*_,O=Xe(b.extent)*_,k=Jt(b.extent)*_;y.drawImage(b.image,c,c,b.image.width-2*c,b.image.height-2*c,h?E:Math.round(E),h?R:Math.round(R),h?O:Math.round(E+O)-Math.round(E),h?k:Math.round(R+k)-Math.round(R)),b.clipExtent&&y.restore()}});const x=Mr(a);return o.getTriangles().forEach(function(b,C,M){const E=b.source,R=b.target;let O=E[0][0],k=E[0][1],w=E[1][0],A=E[1][1],D=E[2][0],X=E[2][1];const G=m((R[0][0]-x[0])/r),H=m(-(R[0][1]-x[1])/r),z=m((R[1][0]-x[0])/r),F=m(-(R[1][1]-x[1])/r),$=m((R[2][0]-x[0])/r),N=m(-(R[2][1]-x[1])/r),L=O,ne=k;O=0,k=0,w-=L,A-=ne,D-=L,X-=ne;const Z=[[w,A,0,0,z-G],[D,X,0,0,$-G],[0,0,w,A,F-H],[0,0,D,X,N-H]],oe=TL(Z);if(!oe)return;if(g.save(),g.beginPath(),XD()||!h){g.moveTo(z,F);const ae=4,ce=G-z,Ne=H-F;for(let Re=0;Re<ae;Re++)g.lineTo(z+m((Re+1)*ce/ae),F+m(Re*Ne/(ae-1))),Re!=ae-1&&g.lineTo(z+m((Re+1)*ce/ae),F+m((Re+1)*Ne/(ae-1)));g.lineTo($,N)}else g.moveTo(z,F),g.lineTo(G,H),g.lineTo($,N);g.clip(),g.transform(oe[0],oe[2],oe[1],oe[3],G,H),g.translate(v[0]-L,v[3]-ne);let pe;if(y)pe=y.canvas,g.scale(p,-p);else{const ae=l[0],ce=ae.extent;pe=ae.image,g.scale(Xe(ce)/pe.width,-Jt(ce)/pe.height)}g.drawImage(pe,0,0),g.restore()}),y&&($u(y),ca.push(y.canvas)),u&&(g.save(),g.globalCompositeOperation="source-over",g.strokeStyle="black",g.lineWidth=1,o.getTriangles().forEach(function(b,C,M){const E=b.target,R=(E[0][0]-x[0])/r,O=-(E[0][1]-x[1])/r,k=(E[1][0]-x[0])/r,w=-(E[1][1]-x[1])/r,A=(E[2][0]-x[0])/r,D=-(E[2][1]-x[1])/r;g.beginPath(),g.moveTo(k,w),g.lineTo(R,O),g.lineTo(A,D),g.closePath(),g.stroke()}),g.restore()),g.canvas}const YD=10,O0=.25;class ZD{constructor(e,n,i,s,r,a,o){this.sourceProj_=e,this.targetProj_=n;let l={};const c=o?Fd(p=>wt(o,B1(p,this.targetProj_,this.sourceProj_))):zo(this.targetProj_,this.sourceProj_);this.transformInv_=function(p){const x=p[0]+"/"+p[1];return l[x]||(l[x]=c(p)),l[x]},this.maxSourceExtent_=s,this.errorThresholdSquared_=r*r,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!s&&!!this.sourceProj_.getExtent()&&Xe(s)>=Xe(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?Xe(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?Xe(this.targetProj_.getExtent()):null;const u=Mr(i),h=Du(i),d=ku(i),f=Ou(i),g=this.transformInv_(u),m=this.transformInv_(h),v=this.transformInv_(d),y=this.transformInv_(f),_=YD+(a?Math.max(0,Math.ceil(Math.log2(Ld(i)/(a*a*256*256)))):0);if(this.addQuad_(u,h,d,f,g,m,v,y,_),this.wrapsXInSource_){let p=1/0;this.triangles_.forEach(function(x,b,C){p=Math.min(p,x.source[0][0],x.source[1][0],x.source[2][0])}),this.triangles_.forEach(x=>{if(Math.max(x.source[0][0],x.source[1][0],x.source[2][0])-p>this.sourceWorldWidth_/2){const b=[[x.source[0][0],x.source[0][1]],[x.source[1][0],x.source[1][1]],[x.source[2][0],x.source[2][1]]];b[0][0]-p>this.sourceWorldWidth_/2&&(b[0][0]-=this.sourceWorldWidth_),b[1][0]-p>this.sourceWorldWidth_/2&&(b[1][0]-=this.sourceWorldWidth_),b[2][0]-p>this.sourceWorldWidth_/2&&(b[2][0]-=this.sourceWorldWidth_);const C=Math.min(b[0][0],b[1][0],b[2][0]);Math.max(b[0][0],b[1][0],b[2][0])-C<this.sourceWorldWidth_/2&&(x.source=b)}})}l={}}addTriangle_(e,n,i,s,r,a){this.triangles_.push({source:[s,r,a],target:[e,n,i]})}addQuad_(e,n,i,s,r,a,o,l,c){const u=jc([r,a,o,l]),h=this.sourceWorldWidth_?Xe(u)/this.sourceWorldWidth_:null,d=this.sourceWorldWidth_,f=this.sourceProj_.canWrapX()&&h>.5&&h<1;let g=!1;if(c>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){const v=jc([e,n,i,s]);g=Xe(v)/this.targetWorldWidth_>O0||g}!f&&this.sourceProj_.isGlobal()&&h&&(g=h>O0||g)}if(!g&&this.maxSourceExtent_&&isFinite(u[0])&&isFinite(u[1])&&isFinite(u[2])&&isFinite(u[3])&&!gn(u,this.maxSourceExtent_))return;let m=0;if(!g&&(!isFinite(r[0])||!isFinite(r[1])||!isFinite(a[0])||!isFinite(a[1])||!isFinite(o[0])||!isFinite(o[1])||!isFinite(l[0])||!isFinite(l[1]))){if(c>0)g=!0;else if(m=(!isFinite(r[0])||!isFinite(r[1])?8:0)+(!isFinite(a[0])||!isFinite(a[1])?4:0)+(!isFinite(o[0])||!isFinite(o[1])?2:0)+(!isFinite(l[0])||!isFinite(l[1])?1:0),m!=1&&m!=2&&m!=4&&m!=8)return}if(c>0){if(!g){const v=[(e[0]+i[0])/2,(e[1]+i[1])/2],y=this.transformInv_(v);let _;f?_=(aa(r[0],d)+aa(o[0],d))/2-aa(y[0],d):_=(r[0]+o[0])/2-y[0];const p=(r[1]+o[1])/2-y[1];g=_*_+p*p>this.errorThresholdSquared_}if(g){if(Math.abs(e[0]-i[0])<=Math.abs(e[1]-i[1])){const v=[(n[0]+i[0])/2,(n[1]+i[1])/2],y=this.transformInv_(v),_=[(s[0]+e[0])/2,(s[1]+e[1])/2],p=this.transformInv_(_);this.addQuad_(e,n,v,_,r,a,y,p,c-1),this.addQuad_(_,v,i,s,p,y,o,l,c-1)}else{const v=[(e[0]+n[0])/2,(e[1]+n[1])/2],y=this.transformInv_(v),_=[(i[0]+s[0])/2,(i[1]+s[1])/2],p=this.transformInv_(_);this.addQuad_(e,v,_,s,r,y,p,l,c-1),this.addQuad_(v,n,i,_,y,a,o,p,c-1)}return}}if(f){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}m&11||this.addTriangle_(e,i,s,r,o,l),m&14||this.addTriangle_(e,i,n,r,o,a),m&&(m&13||this.addTriangle_(n,s,e,a,l,r),m&7||this.addTriangle_(n,s,i,a,l,o))}calculateSourceExtent(){const e=Un();return this.triangles_.forEach(function(n,i,s){const r=n.source;bo(e,r[0]),bo(e,r[1]),bo(e,r[2])}),e}getTriangles(){return this.triangles_}}const JD=.5;class xx extends Rg{constructor(e,n,i,s,r,a,o,l,c,u,h,d){super(r,_e.IDLE,d),this.renderEdges_=h!==void 0?h:!1,this.pixelRatio_=o,this.gutter_=l,this.canvas_=null,this.sourceTileGrid_=n,this.targetTileGrid_=s,this.wrappedTileCoord_=a||r,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0,this.clipExtent_=e.canWrapX()?e.getExtent():void 0;const f=s.getTileCoordExtent(this.wrappedTileCoord_),g=this.targetTileGrid_.getExtent();let m=this.sourceTileGrid_.getExtent();const v=g?cr(f,g):f;if(Ld(v)===0){this.state=_e.EMPTY;return}const y=e.getExtent();y&&(m?m=cr(m,y):m=y);const _=s.getResolution(this.wrappedTileCoord_[0]),p=qD(e,i,v,_);if(!isFinite(p)||p<=0){this.state=_e.EMPTY;return}const x=u!==void 0?u:JD;if(this.triangulation_=new ZD(e,i,v,m,p*x,_),this.triangulation_.getTriangles().length===0){this.state=_e.EMPTY;return}this.sourceZ_=n.getZForResolution(p);let b=this.triangulation_.calculateSourceExtent();if(m&&(e.canWrapX()?(b[1]=st(b[1],m[1],m[3]),b[3]=st(b[3],m[1],m[3])):b=cr(b,m)),!Ld(b))this.state=_e.EMPTY;else{let C=0,M=0;e.canWrapX()&&(C=Xe(y),M=Math.floor((b[0]-y[0])/C)),R1(b.slice(),e,!0).forEach(R=>{const O=n.getTileRangeForExtentAndZ(R,this.sourceZ_);for(let k=O.minX;k<=O.maxX;k++)for(let w=O.minY;w<=O.maxY;w++){const A=c(this.sourceZ_,k,w,o);if(A){const D=M*C;this.sourceTiles_.push({tile:A,offset:D})}}++M}),this.sourceTiles_.length===0&&(this.state=_e.EMPTY)}}getImage(){return this.canvas_}reproject_(){const e=[];if(this.sourceTiles_.forEach(n=>{var s;const i=n.tile;if(i&&i.getState()==_e.LOADED){const r=this.sourceTileGrid_.getTileCoordExtent(i.tileCoord);r[0]+=n.offset,r[2]+=n.offset;const a=(s=this.clipExtent_)==null?void 0:s.slice();a&&(a[0]+=n.offset,a[2]+=n.offset),e.push({extent:r,clipExtent:a,image:i.getImage()})}}),this.sourceTiles_.length=0,e.length===0)this.state=_e.ERROR;else{const n=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(n),s=typeof i=="number"?i:i[0],r=typeof i=="number"?i:i[1],a=this.targetTileGrid_.getResolution(n),o=this.sourceTileGrid_.getResolution(this.sourceZ_),l=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=KD(s,r,this.pixelRatio_,o,this.sourceTileGrid_.getExtent(),a,l,this.triangulation_,e,this.gutter_,this.renderEdges_,this.interpolate),this.state=_e.LOADED}this.changed()}load(){if(this.state==_e.IDLE){this.state=_e.LOADING,this.changed();let e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(({tile:n})=>{const i=n.getState();if(i==_e.IDLE||i==_e.LOADING){e++;const s=$e(n,Ie.CHANGE,r=>{const a=n.getState();(a==_e.LOADED||a==_e.ERROR||a==_e.EMPTY)&&(lt(s),e--,e===0&&(this.unlistenSources_(),this.reproject_()))});this.sourcesListenerKeys_.push(s)}}),e===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function({tile:n},i,s){n.getState()==_e.IDLE&&n.load()})}}unlistenSources_(){this.sourcesListenerKeys_.forEach(lt),this.sourcesListenerKeys_=null}release(){this.canvas_&&($u(this.canvas_.getContext("2d")),ca.push(this.canvas_),this.canvas_=null),super.release()}}class QD{constructor(e){this.highWaterMark=e!==void 0?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}deleteOldest(){const e=this.pop();e instanceof Ru&&e.dispose()}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(e){for(;this.canExpireCache();)this.deleteOldest()}clear(){for(;this.oldest_;)this.deleteOldest()}containsKey(e){return this.entries_.hasOwnProperty(e)}forEach(e){let n=this.oldest_;for(;n;)e(n.value_,n.key_,this),n=n.newer}get(e,n){const i=this.entries_[e];return Ze(i!==void 0,"Tried to get a value for a key that does not exist in the cache"),i===this.newest_||(i===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(i.newer.older=i.older,i.older.newer=i.newer),i.newer=null,i.older=this.newest_,this.newest_.newer=i,this.newest_=i),i.value_}remove(e){const n=this.entries_[e];return Ze(n!==void 0,"Tried to get a value for a key that does not exist in the cache"),n===this.newest_?(this.newest_=n.older,this.newest_&&(this.newest_.newer=null)):n===this.oldest_?(this.oldest_=n.newer,this.oldest_&&(this.oldest_.older=null)):(n.newer.older=n.older,n.older.newer=n.newer),delete this.entries_[e],--this.count_,n.value_}getCount(){return this.count_}getKeys(){const e=new Array(this.count_);let n=0,i;for(i=this.newest_;i;i=i.older)e[n++]=i.key_;return e}getValues(){const e=new Array(this.count_);let n=0,i;for(i=this.newest_;i;i=i.older)e[n++]=i.value_;return e}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(e){var n;return(n=this.entries_[e])==null?void 0:n.value_}pop(){const e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_}replace(e,n){this.get(e),this.entries_[e].value_=n}set(e,n){Ze(!(e in this.entries_),"Tried to set a value for a key that is used already");const i={key_:e,newer:null,older:this.newest_,value_:n};this.newest_?this.newest_.newer=i:this.oldest_=i,this.newest_=i,this.entries_[e]=i,++this.count_}setSize(e){this.highWaterMark=e}}function nu(t,e,n,i){return i!==void 0?(i[0]=t,i[1]=e,i[2]=n,i):[t,e,n]}function eN(t,e,n){return t+"/"+e+"/"+n}function tN(t){return nN(t[0],t[1],t[2])}function nN(t,e,n){return(e<<t)+n}function iN(t,e){const n=t[0],i=t[1],s=t[2];if(e.getMinZoom()>n||n>e.getMaxZoom())return!1;const r=e.getFullTileRange(n);return r?r.containsXY(i,s):!0}class bx{constructor(){Rl(this,"pushMethodArgs_",(...e)=>(this.push_(e),this));this.instructions_=[],this.zIndex=0,this.offset_=0,this.context_=new Proxy(Zc(),{get:(e,n)=>{if(typeof Zc()[n]=="function")return this.push_(n),this.pushMethodArgs_},set:(e,n,i)=>(this.push_(n,i),!0)})}push_(...e){const n=this.instructions_,i=this.zIndex+this.offset_;n[i]||(n[i]=[]),n[i].push(...e)}pushFunction(e){this.push_(e)}getContext(){return this.context_}draw(e){this.instructions_.forEach(n=>{for(let i=0,s=n.length;i<s;++i){const r=n[i];if(typeof r=="function"){r(e);continue}const a=n[++i];if(typeof e[r]=="function")e[r](...a);else{if(typeof a=="function"){e[r]=a(e);continue}e[r]=a}}})}clear(){this.instructions_.length=0,this.zIndex=0,this.offset_=0}offset(){this.offset_=this.instructions_.length,this.zIndex=0}}const sN=5;class rN extends Aa{constructor(e){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=e,this.staleKeys_=new Array,this.maxStaleKeys=sN}getStaleKeys(){return this.staleKeys_}prependStaleKey(e){this.staleKeys_.unshift(e),this.staleKeys_.length>this.maxStaleKeys&&(this.staleKeys_.length=this.maxStaleKeys)}getFeatures(e){return Ve()}getData(e){return null}prepareFrame(e){return Ve()}renderFrame(e,n){return Ve()}forEachFeatureAtCoordinate(e,n,i,s,r){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(e){const n=e.target;(n.getState()===Oe.LOADED||n.getState()===Oe.ERROR)&&this.renderIfReadyAndVisible()}loadImage(e){let n=e.getState();return n!=Oe.LOADED&&n!=Oe.ERROR&&e.addEventListener(Ie.CHANGE,this.boundHandleImageChange_),n==Oe.IDLE&&(e.load(),n=e.getState()),n==Oe.LOADED}renderIfReadyAndVisible(){const e=this.getLayer();e&&e.getVisible()&&e.getSourceState()==="ready"&&e.changed()}renderDeferred(e){}disposeInternal(){delete this.layer_,super.disposeInternal()}}const k0=[];let Ur=null;function aN(){Ur=St(1,1,void 0,{willReadFrequently:!0})}class Sx extends rN{constructor(e){super(e),this.container=null,this.renderedResolution,this.tempTransform=ei(),this.pixelTransform=ei(),this.inversePixelTransform=ei(),this.context=null,this.deferredContext_=null,this.containerReused=!1,this.frameState=null}getImageData(e,n,i){Ur||aN(),Ur.clearRect(0,0,1,1);let s;try{Ur.drawImage(e,n,i,1,1,0,0,1,1),s=Ur.getImageData(0,0,1,1).data}catch{return Ur=null,null}return s}getBackground(e){let i=this.getLayer().getBackground();return typeof i=="function"&&(i=i(e.viewState.resolution)),i||void 0}useContainer(e,n,i){const s=this.getLayer().getClassName();let r,a;if(e&&e.className===s&&(!i||e&&e.style.backgroundColor&&Fs(xa(e.style.backgroundColor),xa(i)))){const o=e.firstElementChild;o instanceof HTMLCanvasElement&&(a=o.getContext("2d"))}if(a&&xO(a.canvas.style.transform,n)?(this.container=e,this.context=a,this.containerReused=!0):this.containerReused?(this.container=null,this.context=null,this.containerReused=!1):this.container&&(this.container.style.backgroundColor=null),!this.container){r=document.createElement("div"),r.className=s;let o=r.style;o.position="absolute",o.width="100%",o.height="100%",a=St();const l=a.canvas;r.appendChild(l),o=l.style,o.position="absolute",o.left="0",o.transformOrigin="top left",this.container=r,this.context=a}!this.containerReused&&i&&!this.container.style.backgroundColor&&(this.container.style.backgroundColor=i)}clipUnrotated(e,n,i){const s=Mr(i),r=Du(i),a=ku(i),o=Ou(i);wt(n.coordinateToPixelTransform,s),wt(n.coordinateToPixelTransform,r),wt(n.coordinateToPixelTransform,a),wt(n.coordinateToPixelTransform,o);const l=this.inversePixelTransform;wt(l,s),wt(l,r),wt(l,a),wt(l,o),e.save(),e.beginPath(),e.moveTo(Math.round(s[0]),Math.round(s[1])),e.lineTo(Math.round(r[0]),Math.round(r[1])),e.lineTo(Math.round(a[0]),Math.round(a[1])),e.lineTo(Math.round(o[0]),Math.round(o[1])),e.clip()}prepareContainer(e,n){const i=e.extent,s=e.viewState.resolution,r=e.viewState.rotation,a=e.pixelRatio,o=Math.round(Xe(i)/s*a),l=Math.round(Jt(i)/s*a);Zi(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/a,1/a,r,-o/2,-l/2),$1(this.inversePixelTransform,this.pixelTransform);const c=pO(this.pixelTransform);if(this.useContainer(n,c,this.getBackground(e)),!this.containerReused){const u=this.context.canvas;u.width!=o||u.height!=l?(u.width=o,u.height=l):this.context.clearRect(0,0,o,l),c!==u.style.transform&&(u.style.transform=c)}}dispatchRenderEvent_(e,n,i){const s=this.getLayer();if(s.hasListener(e)){const r=new vx(e,this.inversePixelTransform,i,n);s.dispatchEvent(r)}}preRender(e,n){this.frameState=n,!n.declutter&&this.dispatchRenderEvent_(Vn.PRERENDER,e,n)}postRender(e,n){n.declutter||this.dispatchRenderEvent_(Vn.POSTRENDER,e,n)}renderDeferredInternal(e){}getRenderContext(e){return e.declutter&&!this.deferredContext_&&(this.deferredContext_=new bx),e.declutter?this.deferredContext_.getContext():this.context}renderDeferred(e){e.declutter&&(this.dispatchRenderEvent_(Vn.PRERENDER,this.context,e),e.declutter&&this.deferredContext_&&(this.deferredContext_.draw(this.context),this.deferredContext_.clear()),this.renderDeferredInternal(e),this.dispatchRenderEvent_(Vn.POSTRENDER,this.context,e))}getRenderTransform(e,n,i,s,r,a,o){const l=r/2,c=a/2,u=s/n,h=-u,d=-e[0]+o,f=-e[1];return Zi(this.tempTransform,l,c,u,h,-i,d,f)}disposeInternal(){delete this.frameState,super.disposeInternal()}}function zh(t,e,n,i){return`${t},${eN(e,n,i)}`}function Wh(t,e,n){if(!(n in t))return t[n]=new Set([e]),!0;const i=t[n],s=i.has(e);return s||i.add(e),!s}function oN(t,e,n){const i=t[n];return i?i.delete(e):!1}function D0(t,e){const n=t.layerStatesArray[t.layerIndex];n.extent&&(e=cr(e,ps(n.extent,t.viewState.projection)));const i=n.layer.getRenderSource();if(!i.getWrapX()){const s=i.getTileGridForProjection(t.viewState.projection).getExtent();s&&(e=cr(e,s))}return e}class lN extends Sx{constructor(e,n){super(e),n=n||{},this.extentChanged=!0,this.renderComplete=!1,this.renderedExtent_=null,this.renderedPixelRatio,this.renderedProjection=null,this.renderedRevision_,this.renderedTiles=[],this.renderedSourceKey_,this.renderedSourceRevision_,this.tempExtent=Un(),this.tempTileRange_=new Ig(0,0,0,0),this.tempTileCoord_=nu(0,0,0);const i=n.cacheSize!==void 0?n.cacheSize:512;this.tileCache_=new QD(i),this.maxStaleKeys=i*.5}getTileCache(){return this.tileCache_}getOrCreateTile(e,n,i,s){const r=this.tileCache_,o=this.getLayer().getSource(),l=zh(o.getKey(),e,n,i);let c;if(r.containsKey(l))c=r.get(l);else{if(c=o.getTile(e,n,i,s.pixelRatio,s.viewState.projection),!c)return null;r.set(l,c)}return c}getTile(e,n,i,s){const r=this.getOrCreateTile(e,n,i,s);return r||null}getData(e){const n=this.frameState;if(!n)return null;const i=this.getLayer(),s=wt(n.pixelToCoordinateTransform,e.slice()),r=i.getExtent();if(r&&!ya(r,s))return null;const a=n.viewState,o=i.getRenderSource(),l=o.getTileGridForProjection(a.projection),c=o.getTilePixelRatio(n.pixelRatio);for(let u=l.getZForResolution(a.resolution);u>=l.getMinZoom();--u){const h=l.getTileCoordForCoordAndZ(s,u),d=this.getTile(u,h[1],h[2],n);if(!d||d.getState()!==_e.LOADED)continue;const f=l.getOrigin(u),g=yn(l.getTileSize(u)),m=l.getResolution(u);let v;if(d instanceof px||d instanceof xx)v=d.getImage();else if(d instanceof A0){if(v=Ud(d.getData()),!v)continue}else continue;const y=Math.floor(c*((s[0]-f[0])/m-h[1]*g[0])),_=Math.floor(c*((f[1]-s[1])/m-h[2]*g[1])),p=Math.round(c*o.getGutterForProjection(a.projection));return this.getImageData(v,y+p,_+p)}return null}prepareFrame(e){this.renderedProjection?e.viewState.projection!==this.renderedProjection&&(this.tileCache_.clear(),this.renderedProjection=e.viewState.projection):this.renderedProjection=e.viewState.projection;const n=this.getLayer().getSource();if(!n)return!1;const i=n.getRevision();return this.renderedRevision_?this.renderedRevision_!==i&&(this.renderedRevision_=i,this.renderedSourceKey_===n.getKey()&&this.tileCache_.clear()):this.renderedRevision_=i,!0}enqueueTiles(e,n,i,s,r){const a=e.viewState,o=this.getLayer(),l=o.getRenderSource(),c=l.getTileGridForProjection(a.projection),u=He(l);u in e.wantedTiles||(e.wantedTiles[u]={});const h=e.wantedTiles[u],d=o.getMapInternal(),f=Math.max(i-r,c.getMinZoom(),c.getZForResolution(Math.min(o.getMaxResolution(),d?d.getView().getResolutionForZoom(Math.max(o.getMinZoom(),0)):c.getResolution(0)),l.zDirection)),g=a.rotation,m=g?M1(a.center,a.resolution,g,e.size):void 0;for(let v=i;v>=f;--v){const y=c.getTileRangeForExtentAndZ(n,v,this.tempTileRange_),_=c.getResolution(v);for(let p=y.minX;p<=y.maxX;++p)for(let x=y.minY;x<=y.maxY;++x){if(g&&!c.tileCoordIntersectsViewport([v,p,x],m))continue;const b=this.getTile(v,p,x,e);if(!b||!Wh(s,b,v))continue;const M=b.getKey();if(h[M]=!0,b.getState()===_e.IDLE&&!e.tileQueue.isKeyQueued(M)){const E=nu(v,p,x,this.tempTileCoord_);e.tileQueue.enqueue([b,u,c.getTileCoordCenter(E),_])}}}}findStaleTile_(e,n){const i=this.tileCache_,s=e[0],r=e[1],a=e[2],o=this.getStaleKeys();for(let l=0;l<o.length;++l){const c=zh(o[l],s,r,a);if(i.containsKey(c)){const u=i.peek(c);if(u.getState()===_e.LOADED)return u.endTransition(He(this)),Wh(n,u,s),!0}}return!1}findAltTiles_(e,n,i,s){const r=e.getTileRangeForTileCoordAndZ(n,i,this.tempTileRange_);if(!r)return!1;let a=!0;const o=this.tileCache_,c=this.getLayer().getRenderSource().getKey();for(let u=r.minX;u<=r.maxX;++u)for(let h=r.minY;h<=r.maxY;++h){const d=zh(c,i,u,h);let f=!1;if(o.containsKey(d)){const g=o.peek(d);g.getState()===_e.LOADED&&(Wh(s,g,i),f=!0)}f||(a=!1)}return a}renderFrame(e,n){this.renderComplete=!0;const i=e.layerStatesArray[e.layerIndex],s=e.viewState,r=s.projection,a=s.resolution,o=s.center,l=e.pixelRatio,c=this.getLayer(),u=c.getSource(),h=u.getTileGridForProjection(r),d=h.getZForResolution(a,u.zDirection),f=h.getResolution(d),g=u.getKey();this.renderedSourceKey_?this.renderedSourceKey_!==g&&(this.prependStaleKey(this.renderedSourceKey_),this.renderedSourceKey_=g):this.renderedSourceKey_=g;let m=e.extent;const v=u.getTilePixelRatio(l);this.prepareContainer(e,n);const y=this.context.canvas.width,_=this.context.canvas.height,p=i.extent&&ps(i.extent);p&&(m=cr(m,ps(i.extent)));const x=f*y/2/v,b=f*_/2/v,C=[o[0]-x,o[1]-b,o[0]+x,o[1]+b],M={};this.renderedTiles.length=0;const E=c.getPreload();if(e.nextExtent){const z=h.getZForResolution(s.nextResolution,u.zDirection),F=D0(e,e.nextExtent);this.enqueueTiles(e,F,z,M,E)}const R=D0(e,m);if(this.enqueueTiles(e,R,d,M,0),E>0&&setTimeout(()=>{this.enqueueTiles(e,R,d-1,M,E-1)},0),!(d in M))return this.container;const O=He(this),k=e.time;for(const z of M[d]){const F=z.getState();if(F===_e.EMPTY)continue;const $=z.tileCoord;if(F===_e.LOADED&&z.getAlpha(O,k)===1){z.endTransition(O);continue}if(F!==_e.ERROR&&(this.renderComplete=!1),this.findStaleTile_($,M)){oN(M,z,d),e.animate=!0;continue}if(this.findAltTiles_(h,$,d+1,M))continue;const ne=h.getMinZoom();for(let Z=d-1;Z>=ne&&!this.findAltTiles_(h,$,Z,M);--Z);}const w=f/a*l/v,A=this.getRenderContext(e);Zi(this.tempTransform,y/2,_/2,w,w,0,-y/2,-_/2),i.extent&&this.clipUnrotated(A,e,p),u.getInterpolate()||(A.imageSmoothingEnabled=!1),this.preRender(A,e);const D=Object.keys(M).map(Number);D.sort(Hi);let X;const G=[],H=[];for(let z=D.length-1;z>=0;--z){const F=D[z],$=u.getTilePixelSize(F,l,r),L=h.getResolution(F)/f,ne=$[0]*L*w,Z=$[1]*L*w,oe=h.getTileCoordForCoordAndZ(Mr(C),F),pe=h.getTileCoordExtent(oe),ae=wt(this.tempTransform,[v*(pe[0]-C[0])/f,v*(C[3]-pe[3])/f]),ce=v*u.getGutterForProjection(r);for(const Ne of M[F]){if(Ne.getState()!==_e.LOADED)continue;const Re=Ne.tileCoord,sn=oe[1]-Re[1],T=Math.round(ae[0]-(sn-1)*ne),P=oe[2]-Re[2],B=Math.round(ae[1]-(P-1)*Z),j=Math.round(ae[0]-sn*ne),U=Math.round(ae[1]-P*Z),q=T-j,ie=B-U,te=D.length===1;let J=!1;X=[j,U,j+q,U,j+q,U+ie,j,U+ie];for(let K=0,ue=G.length;K<ue;++K)if(!te&&F<H[K]){const Q=G[K];gn([j,U,j+q,U+ie],[Q[0],Q[3],Q[4],Q[7]])&&(J||(A.save(),J=!0),A.beginPath(),A.moveTo(X[0],X[1]),A.lineTo(X[2],X[3]),A.lineTo(X[4],X[5]),A.lineTo(X[6],X[7]),A.moveTo(Q[6],Q[7]),A.lineTo(Q[4],Q[5]),A.lineTo(Q[2],Q[3]),A.lineTo(Q[0],Q[1]),A.clip())}G.push(X),H.push(F),this.drawTile(Ne,e,j,U,q,ie,ce,te),J&&A.restore(),this.renderedTiles.unshift(Ne),this.updateUsedTiles(e.usedTiles,u,Ne)}}if(this.renderedResolution=f,this.extentChanged=!this.renderedExtent_||!Go(this.renderedExtent_,C),this.renderedExtent_=C,this.renderedPixelRatio=l,this.postRender(this.context,e),i.extent&&A.restore(),A.imageSmoothingEnabled=!0,this.renderComplete){const z=(F,$)=>{const N=He(u),L=$.wantedTiles[N],ne=L?Object.keys(L).length:0;this.updateCacheSize(ne),this.tileCache_.expireCache()};e.postRenderFunctions.push(z)}return this.container}updateCacheSize(e){this.tileCache_.highWaterMark=Math.max(this.tileCache_.highWaterMark,e*2)}drawTile(e,n,i,s,r,a,o,l){let c;if(e instanceof A0){if(c=Ud(e.getData()),!c)throw new Error("Rendering array data is not yet supported")}else c=this.getTileImage(e);if(!c)return;const u=this.getRenderContext(n),h=He(this),d=n.layerStatesArray[n.layerIndex],f=d.opacity*(l?e.getAlpha(h,n.time):1),g=f!==u.globalAlpha;g&&(u.save(),u.globalAlpha=f),u.drawImage(c,o,o,c.width-2*o,c.height-2*o,i,s,r,a),g&&u.restore(),f!==d.opacity?n.animate=!0:l&&e.endTransition(h)}getImage(){const e=this.context;return e?e.canvas:null}getTileImage(e){return e.getImage()}updateUsedTiles(e,n,i){const s=He(n);s in e||(e[s]={}),e[s][i.getKey()]=!0}}const Jl={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};class cN extends zu{constructor(e){e=e||{};const n=Object.assign({},e),i=e.cacheSize;delete e.cacheSize,delete n.preload,delete n.useInterimTilesOnError,super(n),this.on,this.once,this.un,this.cacheSize_=i,this.setPreload(e.preload!==void 0?e.preload:0),this.setUseInterimTilesOnError(e.useInterimTilesOnError!==void 0?e.useInterimTilesOnError:!0)}getCacheSize(){return this.cacheSize_}getPreload(){return this.get(Jl.PRELOAD)}setPreload(e){this.set(Jl.PRELOAD,e)}getUseInterimTilesOnError(){return this.get(Jl.USE_INTERIM_TILES_ON_ERROR)}setUseInterimTilesOnError(e){this.set(Jl.USE_INTERIM_TILES_ON_ERROR,e)}getData(e){return super.getData(e)}}class uN extends cN{constructor(e){super(e)}createRenderer(){return new lN(this,{cacheSize:this.getCacheSize()})}}class Ex{drawCustom(e,n,i,s,r){}drawGeometry(e){}setStyle(e){}drawCircle(e,n,i){}drawFeature(e,n,i){}drawGeometryCollection(e,n,i){}drawLineString(e,n,i){}drawMultiLineString(e,n,i){}drawMultiPoint(e,n,i){}drawMultiPolygon(e,n,i){}drawPoint(e,n,i){}drawPolygon(e,n,i){}drawText(e,n,i){}setFillStrokeStyle(e,n){}setImageStyle(e,n){}setTextStyle(e,n){}}const me={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},Ql=[me.FILL],xs=[me.STROKE],ir=[me.BEGIN_PATH],N0=[me.CLOSE_PATH];class bl extends Ex{constructor(e,n,i,s){super(),this.tolerance=e,this.maxExtent=n,this.pixelRatio=s,this.maxLineWidth=0,this.resolution=i,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.tmpCoordinate_=[],this.hitDetectionInstructions=[],this.state={}}applyPixelRatio(e){const n=this.pixelRatio;return n==1?e:e.map(function(i){return i*n})}appendFlatPointCoordinates(e,n){const i=this.getBufferedMaxExtent(),s=this.tmpCoordinate_,r=this.coordinates;let a=r.length;for(let o=0,l=e.length;o<l;o+=n)s[0]=e[o],s[1]=e[o+1],ya(i,s)&&(r[a++]=s[0],r[a++]=s[1]);return a}appendFlatLineCoordinates(e,n,i,s,r,a){const o=this.coordinates;let l=o.length;const c=this.getBufferedMaxExtent();a&&(n+=s);let u=e[n],h=e[n+1];const d=this.tmpCoordinate_;let f=!0,g,m,v;for(g=n+s;g<i;g+=s)d[0]=e[g],d[1]=e[g+1],v=Pd(c,d),v!==m?(f&&(o[l++]=u,o[l++]=h,f=!1),o[l++]=d[0],o[l++]=d[1]):v===Ct.INTERSECTING?(o[l++]=d[0],o[l++]=d[1],f=!1):f=!0,u=d[0],h=d[1],m=v;return(r&&f||g===n+s)&&(o[l++]=u,o[l++]=h),l}drawCustomCoordinates_(e,n,i,s,r){for(let a=0,o=i.length;a<o;++a){const l=i[a],c=this.appendFlatLineCoordinates(e,n,l,s,!1,!1);r.push(c),n=l}return n}drawCustom(e,n,i,s,r){this.beginGeometry(e,n,r);const a=e.getType(),o=e.getStride(),l=this.coordinates.length;let c,u,h,d,f;switch(a){case"MultiPolygon":c=e.getOrientedFlatCoordinates(),d=[];const g=e.getEndss();f=0;for(let m=0,v=g.length;m<v;++m){const y=[];f=this.drawCustomCoordinates_(c,f,g[m],o,y),d.push(y)}this.instructions.push([me.CUSTOM,l,d,e,i,o0,r]),this.hitDetectionInstructions.push([me.CUSTOM,l,d,e,s||i,o0,r]);break;case"Polygon":case"MultiLineString":h=[],c=a=="Polygon"?e.getOrientedFlatCoordinates():e.getFlatCoordinates(),f=this.drawCustomCoordinates_(c,0,e.getEnds(),o,h),this.instructions.push([me.CUSTOM,l,h,e,i,Yc,r]),this.hitDetectionInstructions.push([me.CUSTOM,l,h,e,s||i,Yc,r]);break;case"LineString":case"Circle":c=e.getFlatCoordinates(),u=this.appendFlatLineCoordinates(c,0,c.length,o,!1,!1),this.instructions.push([me.CUSTOM,l,u,e,i,er,r]),this.hitDetectionInstructions.push([me.CUSTOM,l,u,e,s||i,er,r]);break;case"MultiPoint":c=e.getFlatCoordinates(),u=this.appendFlatPointCoordinates(c,o),u>l&&(this.instructions.push([me.CUSTOM,l,u,e,i,er,r]),this.hitDetectionInstructions.push([me.CUSTOM,l,u,e,s||i,er,r]));break;case"Point":c=e.getFlatCoordinates(),this.coordinates.push(c[0],c[1]),u=this.coordinates.length,this.instructions.push([me.CUSTOM,l,u,e,i,void 0,r]),this.hitDetectionInstructions.push([me.CUSTOM,l,u,e,s||i,void 0,r]);break}this.endGeometry(n)}beginGeometry(e,n,i){this.beginGeometryInstruction1_=[me.BEGIN_GEOMETRY,n,0,e,i],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[me.BEGIN_GEOMETRY,n,0,e,i],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){const e=this.hitDetectionInstructions;e.reverse();let n;const i=e.length;let s,r,a=-1;for(n=0;n<i;++n)s=e[n],r=s[0],r==me.END_GEOMETRY?a=n:r==me.BEGIN_GEOMETRY&&(s[2]=n,gL(this.hitDetectionInstructions,a,n),a=-1)}fillStyleToState(e,n={}){if(e){const i=e.getColor();n.fillPatternScale=i&&typeof i=="object"&&"src"in i?this.pixelRatio:1,n.fillStyle=bi(i||un)}else n.fillStyle=void 0;return n}strokeStyleToState(e,n={}){if(e){const i=e.getColor();n.strokeStyle=bi(i||jo);const s=e.getLineCap();n.lineCap=s!==void 0?s:ba;const r=e.getLineDash();n.lineDash=r?r.slice():Xi;const a=e.getLineDashOffset();n.lineDashOffset=a||qi;const o=e.getLineJoin();n.lineJoin=o!==void 0?o:Sa;const l=e.getWidth();n.lineWidth=l!==void 0?l:Xo;const c=e.getMiterLimit();n.miterLimit=c!==void 0?c:Uo,n.lineWidth>this.maxLineWidth&&(this.maxLineWidth=n.lineWidth,this.bufferedMaxExtent_=null)}else n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,n.lineDashOffset=void 0,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0;return n}setFillStrokeStyle(e,n){const i=this.state;this.fillStyleToState(e,i),this.strokeStyleToState(n,i)}createFill(e){const n=e.fillStyle,i=[me.SET_FILL_STYLE,n];return typeof n!="string"&&i.push(e.fillPatternScale),i}applyStroke(e){this.instructions.push(this.createStroke(e))}createStroke(e){return[me.SET_STROKE_STYLE,e.strokeStyle,e.lineWidth*this.pixelRatio,e.lineCap,e.lineJoin,e.miterLimit,e.lineDash?this.applyPixelRatio(e.lineDash):null,e.lineDashOffset*this.pixelRatio]}updateFillStyle(e,n){const i=e.fillStyle;(typeof i!="string"||e.currentFillStyle!=i)&&(i!==void 0&&this.instructions.push(n.call(this,e)),e.currentFillStyle=i)}updateStrokeStyle(e,n){const i=e.strokeStyle,s=e.lineCap,r=e.lineDash,a=e.lineDashOffset,o=e.lineJoin,l=e.lineWidth,c=e.miterLimit;(e.currentStrokeStyle!=i||e.currentLineCap!=s||r!=e.currentLineDash&&!Fs(e.currentLineDash,r)||e.currentLineDashOffset!=a||e.currentLineJoin!=o||e.currentLineWidth!=l||e.currentMiterLimit!=c)&&(i!==void 0&&n.call(this,e),e.currentStrokeStyle=i,e.currentLineCap=s,e.currentLineDash=r,e.currentLineDashOffset=a,e.currentLineJoin=o,e.currentLineWidth=l,e.currentMiterLimit=c)}endGeometry(e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;const n=[me.END_GEOMETRY,e];this.instructions.push(n),this.hitDetectionInstructions.push(n)}getBufferedMaxExtent(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=S1(this.maxExtent),this.maxLineWidth>0)){const e=this.resolution*(this.maxLineWidth+1)/2;Zf(this.bufferedMaxExtent_,e,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_}}class hN extends bl{constructor(e,n,i,s){super(e,n,i,s),this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0,this.declutterMode_=void 0,this.declutterImageWithText_=void 0}drawPoint(e,n,i){if(!this.image_||this.maxExtent&&!ya(this.maxExtent,e.getFlatCoordinates()))return;this.beginGeometry(e,n,i);const s=e.getFlatCoordinates(),r=e.getStride(),a=this.coordinates.length,o=this.appendFlatPointCoordinates(s,r);this.instructions.push([me.DRAW_IMAGE,a,o,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([me.DRAW_IMAGE,a,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(n)}drawMultiPoint(e,n,i){if(!this.image_)return;this.beginGeometry(e,n,i);const s=e.getFlatCoordinates(),r=[];for(let l=0,c=s.length;l<c;l+=e.getStride())(!this.maxExtent||ya(this.maxExtent,s.slice(l,l+2)))&&r.push(s[l],s[l+1]);const a=this.coordinates.length,o=this.appendFlatPointCoordinates(r,2);this.instructions.push([me.DRAW_IMAGE,a,o,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([me.DRAW_IMAGE,a,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(n)}finish(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,super.finish()}setImageStyle(e,n){const i=e.getAnchor(),s=e.getSize(),r=e.getOrigin();this.imagePixelRatio_=e.getPixelRatio(this.pixelRatio),this.anchorX_=i[0],this.anchorY_=i[1],this.hitDetectionImage_=e.getHitDetectionImage(),this.image_=e.getImage(this.pixelRatio),this.height_=s[1],this.opacity_=e.getOpacity(),this.originX_=r[0],this.originY_=r[1],this.rotateWithView_=e.getRotateWithView(),this.rotation_=e.getRotation(),this.scale_=e.getScaleArray(),this.width_=s[0],this.declutterMode_=e.getDeclutterMode(),this.declutterImageWithText_=n}}class dN extends bl{constructor(e,n,i,s){super(e,n,i,s)}drawFlatCoordinates_(e,n,i,s){const r=this.coordinates.length,a=this.appendFlatLineCoordinates(e,n,i,s,!1,!1),o=[me.MOVE_TO_LINE_TO,r,a];return this.instructions.push(o),this.hitDetectionInstructions.push(o),i}drawLineString(e,n,i){const s=this.state,r=s.strokeStyle,a=s.lineWidth;if(r===void 0||a===void 0)return;this.updateStrokeStyle(s,this.applyStroke),this.beginGeometry(e,n,i),this.hitDetectionInstructions.push([me.SET_STROKE_STYLE,s.strokeStyle,s.lineWidth,s.lineCap,s.lineJoin,s.miterLimit,Xi,qi],ir);const o=e.getFlatCoordinates(),l=e.getStride();this.drawFlatCoordinates_(o,0,o.length,l),this.hitDetectionInstructions.push(xs),this.endGeometry(n)}drawMultiLineString(e,n,i){const s=this.state,r=s.strokeStyle,a=s.lineWidth;if(r===void 0||a===void 0)return;this.updateStrokeStyle(s,this.applyStroke),this.beginGeometry(e,n,i),this.hitDetectionInstructions.push([me.SET_STROKE_STYLE,s.strokeStyle,s.lineWidth,s.lineCap,s.lineJoin,s.miterLimit,Xi,qi],ir);const o=e.getEnds(),l=e.getFlatCoordinates(),c=e.getStride();let u=0;for(let h=0,d=o.length;h<d;++h)u=this.drawFlatCoordinates_(l,u,o[h],c);this.hitDetectionInstructions.push(xs),this.endGeometry(n)}finish(){const e=this.state;return e.lastStroke!=null&&e.lastStroke!=this.coordinates.length&&this.instructions.push(xs),this.reverseHitDetectionInstructions(),this.state=null,super.finish()}applyStroke(e){e.lastStroke!=null&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(xs),e.lastStroke=this.coordinates.length),e.lastStroke=0,super.applyStroke(e),this.instructions.push(ir)}}class F0 extends bl{constructor(e,n,i,s){super(e,n,i,s)}drawFlatCoordinatess_(e,n,i,s){const r=this.state,a=r.fillStyle!==void 0,o=r.strokeStyle!==void 0,l=i.length;this.instructions.push(ir),this.hitDetectionInstructions.push(ir);for(let c=0;c<l;++c){const u=i[c],h=this.coordinates.length,d=this.appendFlatLineCoordinates(e,n,u,s,!0,!o),f=[me.MOVE_TO_LINE_TO,h,d];this.instructions.push(f),this.hitDetectionInstructions.push(f),o&&(this.instructions.push(N0),this.hitDetectionInstructions.push(N0)),n=u}return a&&(this.instructions.push(Ql),this.hitDetectionInstructions.push(Ql)),o&&(this.instructions.push(xs),this.hitDetectionInstructions.push(xs)),n}drawCircle(e,n,i){const s=this.state,r=s.fillStyle,a=s.strokeStyle;if(r===void 0&&a===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,n,i),s.fillStyle!==void 0&&this.hitDetectionInstructions.push([me.SET_FILL_STYLE,un]),s.strokeStyle!==void 0&&this.hitDetectionInstructions.push([me.SET_STROKE_STYLE,s.strokeStyle,s.lineWidth,s.lineCap,s.lineJoin,s.miterLimit,Xi,qi]);const o=e.getFlatCoordinates(),l=e.getStride(),c=this.coordinates.length;this.appendFlatLineCoordinates(o,0,o.length,l,!1,!1);const u=[me.CIRCLE,c];this.instructions.push(ir,u),this.hitDetectionInstructions.push(ir,u),s.fillStyle!==void 0&&(this.instructions.push(Ql),this.hitDetectionInstructions.push(Ql)),s.strokeStyle!==void 0&&(this.instructions.push(xs),this.hitDetectionInstructions.push(xs)),this.endGeometry(n)}drawPolygon(e,n,i){const s=this.state,r=s.fillStyle,a=s.strokeStyle;if(r===void 0&&a===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,n,i),s.fillStyle!==void 0&&this.hitDetectionInstructions.push([me.SET_FILL_STYLE,un]),s.strokeStyle!==void 0&&this.hitDetectionInstructions.push([me.SET_STROKE_STYLE,s.strokeStyle,s.lineWidth,s.lineCap,s.lineJoin,s.miterLimit,Xi,qi]);const o=e.getEnds(),l=e.getOrientedFlatCoordinates(),c=e.getStride();this.drawFlatCoordinatess_(l,0,o,c),this.endGeometry(n)}drawMultiPolygon(e,n,i){const s=this.state,r=s.fillStyle,a=s.strokeStyle;if(r===void 0&&a===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,n,i),s.fillStyle!==void 0&&this.hitDetectionInstructions.push([me.SET_FILL_STYLE,un]),s.strokeStyle!==void 0&&this.hitDetectionInstructions.push([me.SET_STROKE_STYLE,s.strokeStyle,s.lineWidth,s.lineCap,s.lineJoin,s.miterLimit,Xi,qi]);const o=e.getEndss(),l=e.getOrientedFlatCoordinates(),c=e.getStride();let u=0;for(let h=0,d=o.length;h<d;++h)u=this.drawFlatCoordinatess_(l,u,o[h],c);this.endGeometry(n)}finish(){this.reverseHitDetectionInstructions(),this.state=null;const e=this.tolerance;if(e!==0){const n=this.coordinates;for(let i=0,s=n.length;i<s;++i)n[i]=Ys(n[i],e)}return super.finish()}setFillStrokeStyles_(){const e=this.state;e.fillStyle!==void 0&&this.updateFillStyle(e,this.createFill),e.strokeStyle!==void 0&&this.updateStrokeStyle(e,this.applyStroke)}}function fN(t,e,n,i,s){const r=[];let a=n,o=0,l=e.slice(n,2);for(;o<t&&a+s<i;){const[c,u]=l.slice(-2),h=e[a+s],d=e[a+s+1],f=Math.sqrt((h-c)*(h-c)+(d-u)*(d-u));if(o+=f,o>=t){const g=(t-o+f)/f,m=Bn(c,h,g),v=Bn(u,d,g);l.push(m,v),r.push(l),l=[m,v],o==t&&(a+=s),o=0}else if(o<t)l.push(e[a+s],e[a+s+1]),a+=s;else{const g=f-o,m=Bn(c,h,g/f),v=Bn(u,d,g/f);l.push(m,v),r.push(l),l=[m,v],o=0,a+=s}}return o>0&&r.push(l),r}function gN(t,e,n,i,s){let r=n,a=n,o=0,l=0,c=n,u,h,d,f,g,m,v,y,_,p;for(h=n;h<i;h+=s){const x=e[h],b=e[h+1];g!==void 0&&(_=x-g,p=b-m,f=Math.sqrt(_*_+p*p),v!==void 0&&(l+=d,u=Math.acos((v*_+y*p)/(d*f)),u>t&&(l>o&&(o=l,r=c,a=h),l=0,c=h-s)),d=f,v=_,y=p),g=x,m=b}return l+=f,l>o?[c,h]:[r,a]}const iu={left:0,center:.5,right:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};class mN extends bl{constructor(e,n,i,s){super(e,n,i,s),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textKeepUpright_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.fillStates[un]={fillStyle:un},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.declutterMode_=void 0,this.declutterImageWithText_=void 0}finish(){const e=super.finish();return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e}drawText(e,n,i){const s=this.textFillState_,r=this.textStrokeState_,a=this.textState_;if(this.text_===""||!a||!s&&!r)return;const o=this.coordinates;let l=o.length;const c=e.getType();let u=null,h=e.getStride();if(a.placement==="line"&&(c=="LineString"||c=="MultiLineString"||c=="Polygon"||c=="MultiPolygon")){if(!gn(this.maxExtent,e.getExtent()))return;let d;if(u=e.getFlatCoordinates(),c=="LineString")d=[u.length];else if(c=="MultiLineString")d=e.getEnds();else if(c=="Polygon")d=e.getEnds().slice(0,1);else if(c=="MultiPolygon"){const v=e.getEndss();d=[];for(let y=0,_=v.length;y<_;++y)d.push(v[y][0])}this.beginGeometry(e,n,i);const f=a.repeat,g=f?void 0:a.textAlign;let m=0;for(let v=0,y=d.length;v<y;++v){let _;f?_=fN(f*this.resolution,u,m,d[v],h):_=[u.slice(m,d[v])];for(let p=0,x=_.length;p<x;++p){const b=_[p];let C=0,M=b.length;if(g==null){const R=gN(a.maxAngle,b,0,b.length,2);C=R[0],M=R[1]}for(let R=C;R<M;R+=h)o.push(b[R],b[R+1]);const E=o.length;m=d[v],this.drawChars_(l,E),l=E}}this.endGeometry(n)}else{let d=a.overflow?null:[];switch(c){case"Point":case"MultiPoint":u=e.getFlatCoordinates();break;case"LineString":u=e.getFlatMidpoint();break;case"Circle":u=e.getCenter();break;case"MultiLineString":u=e.getFlatMidpoints(),h=2;break;case"Polygon":u=e.getFlatInteriorPoint(),a.overflow||d.push(u[2]/this.resolution),h=3;break;case"MultiPolygon":const x=e.getFlatInteriorPoints();u=[];for(let b=0,C=x.length;b<C;b+=3)a.overflow||d.push(x[b+2]/this.resolution),u.push(x[b],x[b+1]);if(u.length===0)return;h=2;break}const f=this.appendFlatPointCoordinates(u,h);if(f===l)return;if(d&&(f-l)/2!==u.length/h){let x=l/2;d=d.filter((b,C)=>{const M=o[(x+C)*2]===u[C*h]&&o[(x+C)*2+1]===u[C*h+1];return M||--x,M})}this.saveTextStates_();const g=a.backgroundFill?this.createFill(this.fillStyleToState(a.backgroundFill)):null,m=a.backgroundStroke?this.createStroke(this.strokeStyleToState(a.backgroundStroke)):null;this.beginGeometry(e,n,i);let v=a.padding;if(v!=nr&&(a.scale[0]<0||a.scale[1]<0)){let x=a.padding[0],b=a.padding[1],C=a.padding[2],M=a.padding[3];a.scale[0]<0&&(b=-b,M=-M),a.scale[1]<0&&(x=-x,C=-C),v=[x,b,C,M]}const y=this.pixelRatio;this.instructions.push([me.DRAW_IMAGE,l,f,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterMode_,this.declutterImageWithText_,v==nr?nr:v.map(function(x){return x*y}),g,m,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,d]);const _=1/y,p=g?g.slice(0):null;p&&(p[1]=un),this.hitDetectionInstructions.push([me.DRAW_IMAGE,l,f,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[_,_],NaN,this.declutterMode_,this.declutterImageWithText_,v,p,m,this.text_,this.textKey_,this.strokeKey_,this.fillKey_?un:this.fillKey_,this.textOffsetX_,this.textOffsetY_,d]),this.endGeometry(n)}}saveTextStates_(){const e=this.textStrokeState_,n=this.textState_,i=this.textFillState_,s=this.strokeKey_;e&&(s in this.strokeStates||(this.strokeStates[s]={strokeStyle:e.strokeStyle,lineCap:e.lineCap,lineDashOffset:e.lineDashOffset,lineWidth:e.lineWidth,lineJoin:e.lineJoin,miterLimit:e.miterLimit,lineDash:e.lineDash}));const r=this.textKey_;r in this.textStates||(this.textStates[r]={font:n.font,textAlign:n.textAlign||Ho,justify:n.justify,textBaseline:n.textBaseline||Jc,scale:n.scale});const a=this.fillKey_;i&&(a in this.fillStates||(this.fillStates[a]={fillStyle:i.fillStyle}))}drawChars_(e,n){const i=this.textStrokeState_,s=this.textState_,r=this.strokeKey_,a=this.textKey_,o=this.fillKey_;this.saveTextStates_();const l=this.pixelRatio,c=iu[s.textBaseline],u=this.textOffsetY_*l,h=this.text_,d=i?i.lineWidth*Math.abs(s.scale[0])/2:0;this.instructions.push([me.DRAW_CHARS,e,n,c,s.overflow,o,s.maxAngle,l,u,r,d*l,h,a,1,this.declutterMode_,this.textKeepUpright_]),this.hitDetectionInstructions.push([me.DRAW_CHARS,e,n,c,s.overflow,o&&un,s.maxAngle,l,u,r,d*l,h,a,1/l,this.declutterMode_,this.textKeepUpright_])}setTextStyle(e,n){let i,s,r;if(!e)this.text_="";else{const a=e.getFill();a?(s=this.textFillState_,s||(s={},this.textFillState_=s),s.fillStyle=bi(a.getColor()||un)):(s=null,this.textFillState_=s);const o=e.getStroke();if(!o)r=null,this.textStrokeState_=r;else{r=this.textStrokeState_,r||(r={},this.textStrokeState_=r);const m=o.getLineDash(),v=o.getLineDashOffset(),y=o.getWidth(),_=o.getMiterLimit();r.lineCap=o.getLineCap()||ba,r.lineDash=m?m.slice():Xi,r.lineDashOffset=v===void 0?qi:v,r.lineJoin=o.getLineJoin()||Sa,r.lineWidth=y===void 0?Xo:y,r.miterLimit=_===void 0?Uo:_,r.strokeStyle=bi(o.getColor()||jo)}i=this.textState_;const l=e.getFont()||lx;vD(l);const c=e.getScaleArray();i.overflow=e.getOverflow(),i.font=l,i.maxAngle=e.getMaxAngle(),i.placement=e.getPlacement(),i.textAlign=e.getTextAlign(),i.repeat=e.getRepeat(),i.justify=e.getJustify(),i.textBaseline=e.getTextBaseline()||Jc,i.backgroundFill=e.getBackgroundFill(),i.backgroundStroke=e.getBackgroundStroke(),i.padding=e.getPadding()||nr,i.scale=c===void 0?[1,1]:c;const u=e.getOffsetX(),h=e.getOffsetY(),d=e.getRotateWithView(),f=e.getKeepUpright(),g=e.getRotation();this.text_=e.getText()||"",this.textOffsetX_=u===void 0?0:u,this.textOffsetY_=h===void 0?0:h,this.textRotateWithView_=d===void 0?!1:d,this.textKeepUpright_=f===void 0?!0:f,this.textRotation_=g===void 0?0:g,this.strokeKey_=r?(typeof r.strokeStyle=="string"?r.strokeStyle:He(r.strokeStyle))+r.lineCap+r.lineDashOffset+"|"+r.lineWidth+r.lineJoin+r.miterLimit+"["+r.lineDash.join()+"]":"",this.textKey_=i.font+i.scale+(i.textAlign||"?")+(i.repeat||"?")+(i.justify||"?")+(i.textBaseline||"?"),this.fillKey_=s&&s.fillStyle?typeof s.fillStyle=="string"?s.fillStyle:"|"+He(s.fillStyle):""}this.declutterMode_=e.getDeclutterMode(),this.declutterImageWithText_=n}}const vN={Circle:F0,Default:bl,Image:hN,LineString:dN,Polygon:F0,Text:mN};class yN{constructor(e,n,i,s){this.tolerance_=e,this.maxExtent_=n,this.pixelRatio_=s,this.resolution_=i,this.buildersByZIndex_={}}finish(){const e={};for(const n in this.buildersByZIndex_){e[n]=e[n]||{};const i=this.buildersByZIndex_[n];for(const s in i){const r=i[s].finish();e[n][s]=r}}return e}getBuilder(e,n){const i=e!==void 0?e.toString():"0";let s=this.buildersByZIndex_[i];s===void 0&&(s={},this.buildersByZIndex_[i]=s);let r=s[n];if(r===void 0){const a=vN[n];r=new a(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),s[n]=r}return r}}function _N(t,e,n,i){let s=t[e],r=t[e+1],a=0;for(let o=e+i;o<n;o+=i){const l=t[o],c=t[o+1];a+=Math.sqrt((l-s)*(l-s)+(c-r)*(c-r)),s=l,r=c}return a}function pN(t,e,n,i,s,r,a,o,l,c,u,h,d=!0){let f=t[e],g=t[e+1],m=0,v=0,y=0,_=0;function p(){m=f,v=g,e+=i,f=t[e],g=t[e+1],_+=y,y=Math.sqrt((f-m)*(f-m)+(g-v)*(g-v))}do p();while(e<n-i&&_+y<r);let x=y===0?0:(r-_)/y;const b=Bn(m,f,x),C=Bn(v,g,x),M=e-i,E=_,R=r+o*l(c,s,u);for(;e<n-i&&_+y<R;)p();x=y===0?0:(R-_)/y;const O=Bn(m,f,x),k=Bn(v,g,x);let w=!1;if(d)if(h){const H=[b,C,O,k];G1(H,0,4,2,h,H,H),w=H[0]>H[2]}else w=b>O;const A=Math.PI,D=[],X=M+i===e;e=M,y=0,_=E,f=t[e],g=t[e+1];let G;if(X){p(),G=Math.atan2(g-v,f-m),w&&(G+=G>0?-A:A);const H=(O+b)/2,z=(k+C)/2;return D[0]=[H,z,(R-r)/2,G,s],D}s=s.replace(/\n/g," ");for(let H=0,z=s.length;H<z;){p();let F=Math.atan2(g-v,f-m);if(w&&(F+=F>0?-A:A),G!==void 0){let oe=F-G;if(oe+=oe>A?-2*A:oe<-A?2*A:0,Math.abs(oe)>a)return null}G=F;const $=H;let N=0;for(;H<z;++H){const oe=w?z-H-1:H,pe=o*l(c,s[oe],u);if(e+i<n&&_+y<r+N+pe/2)break;N+=pe}if(H===$)continue;const L=w?s.substring(z-$,z-H):s.substring($,H);x=y===0?0:(r+N/2-_)/y;const ne=Bn(m,f,x),Z=Bn(v,g,x);D.push([ne,Z,N/2,F,L]),r+=N}return D}const Fr=Un(),cs=[],Ni=[],Fi=[],us=[];function B0(t){return t[3].declutterBox}const V0=new RegExp("[-----]");function Uh(t,e){return e==="start"?e=V0.test(t)?"right":"left":e==="end"&&(e=V0.test(t)?"left":"right"),iu[e]}function xN(t,e,n){return n>0&&t.push(`
`,""),t.push(e,""),t}function bN(t,e,n){return n%2===0&&(t+=e),t}class SN{constructor(e,n,i,s,r){this.overlaps=i,this.pixelRatio=n,this.resolution=e,this.alignAndScaleFill_,this.instructions=s.instructions,this.coordinates=s.coordinates,this.coordinateCache_={},this.renderedTransform_=ei(),this.hitDetectionInstructions=s.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=s.fillStates||{},this.strokeStates=s.strokeStates||{},this.textStates=s.textStates||{},this.widths_={},this.labels_={},this.zIndexContext_=r?new bx:null}getZIndexContext(){return this.zIndexContext_}createLabel(e,n,i,s){const r=e+n+i+s;if(this.labels_[r])return this.labels_[r];const a=s?this.strokeStates[s]:null,o=i?this.fillStates[i]:null,l=this.textStates[n],c=this.pixelRatio,u=[l.scale[0]*c,l.scale[1]*c],h=l.justify?iu[l.justify]:Uh(Array.isArray(e)?e[0]:e,l.textAlign||Ho),d=s&&a.lineWidth?a.lineWidth:0,f=Array.isArray(e)?e:String(e).split(`
`).reduce(xN,[]),{width:g,height:m,widths:v,heights:y,lineWidths:_}=_D(l,f),p=g+d,x=[],b=(p+2)*u[0],C=(m+d)*u[1],M={width:b<0?Math.floor(b):Math.ceil(b),height:C<0?Math.floor(C):Math.ceil(C),contextInstructions:x};(u[0]!=1||u[1]!=1)&&x.push("scale",u),s&&(x.push("strokeStyle",a.strokeStyle),x.push("lineWidth",d),x.push("lineCap",a.lineCap),x.push("lineJoin",a.lineJoin),x.push("miterLimit",a.miterLimit),x.push("setLineDash",[a.lineDash]),x.push("lineDashOffset",a.lineDashOffset)),i&&x.push("fillStyle",o.fillStyle),x.push("textBaseline","middle"),x.push("textAlign","center");const E=.5-h;let R=h*p+E*d;const O=[],k=[];let w=0,A=0,D=0,X=0,G;for(let H=0,z=f.length;H<z;H+=2){const F=f[H];if(F===`
`){A+=w,w=0,R=h*p+E*d,++X;continue}const $=f[H+1]||l.font;$!==G&&(s&&O.push("font",$),i&&k.push("font",$),G=$),w=Math.max(w,y[D]);const N=[F,R+E*v[D]+h*(v[D]-_[X]),.5*(d+w)+A];R+=v[D],s&&O.push("strokeText",N),i&&k.push("fillText",N),++D}return Array.prototype.push.apply(x,O),Array.prototype.push.apply(x,k),this.labels_[r]=M,M}replayTextBackground_(e,n,i,s,r,a,o){e.beginPath(),e.moveTo.apply(e,n),e.lineTo.apply(e,i),e.lineTo.apply(e,s),e.lineTo.apply(e,r),e.lineTo.apply(e,n),a&&(this.alignAndScaleFill_=a[2],e.fillStyle=a[1],this.fill_(e)),o&&(this.setStrokeStyle_(e,o),e.stroke())}calculateImageOrLabelDimensions_(e,n,i,s,r,a,o,l,c,u,h,d,f,g,m,v){o*=d[0],l*=d[1];let y=i-o,_=s-l;const p=r+c>e?e-c:r,x=a+u>n?n-u:a,b=g[3]+p*d[0]+g[1],C=g[0]+x*d[1]+g[2],M=y-g[3],E=_-g[0];(m||h!==0)&&(cs[0]=M,us[0]=M,cs[1]=E,Ni[1]=E,Ni[0]=M+b,Fi[0]=Ni[0],Fi[1]=E+C,us[1]=Fi[1]);let R;return h!==0?(R=Zi(ei(),i,s,1,1,h,-i,-s),wt(R,cs),wt(R,Ni),wt(R,Fi),wt(R,us),Yi(Math.min(cs[0],Ni[0],Fi[0],us[0]),Math.min(cs[1],Ni[1],Fi[1],us[1]),Math.max(cs[0],Ni[0],Fi[0],us[0]),Math.max(cs[1],Ni[1],Fi[1],us[1]),Fr)):Yi(Math.min(M,M+b),Math.min(E,E+C),Math.max(M,M+b),Math.max(E,E+C),Fr),f&&(y=Math.round(y),_=Math.round(_)),{drawImageX:y,drawImageY:_,drawImageW:p,drawImageH:x,originX:c,originY:u,declutterBox:{minX:Fr[0],minY:Fr[1],maxX:Fr[2],maxY:Fr[3],value:v},canvasTransform:R,scale:d}}replayImageOrLabel_(e,n,i,s,r,a,o){const l=!!(a||o),c=s.declutterBox,u=o?o[2]*s.scale[0]/2:0;return c.minX-u<=n[0]&&c.maxX+u>=0&&c.minY-u<=n[1]&&c.maxY+u>=0&&(l&&this.replayTextBackground_(e,cs,Ni,Fi,us,a,o),pD(e,s.canvasTransform,r,i,s.originX,s.originY,s.drawImageW,s.drawImageH,s.drawImageX,s.drawImageY,s.scale)),!0}fill_(e){const n=this.alignAndScaleFill_;if(n){const i=wt(this.renderedTransform_,[0,0]),s=512*this.pixelRatio;e.save(),e.translate(i[0]%s,i[1]%s),n!==1&&e.scale(n,n),e.rotate(this.viewRotation_)}e.fill(),n&&e.restore()}setStrokeStyle_(e,n){e.strokeStyle=n[1],e.lineWidth=n[2],e.lineCap=n[3],e.lineJoin=n[4],e.miterLimit=n[5],e.lineDashOffset=n[7],e.setLineDash(n[6])}drawLabelWithPointPlacement_(e,n,i,s){const r=this.textStates[n],a=this.createLabel(e,n,s,i),o=this.strokeStates[i],l=this.pixelRatio,c=Uh(Array.isArray(e)?e[0]:e,r.textAlign||Ho),u=iu[r.textBaseline||Jc],h=o&&o.lineWidth?o.lineWidth:0,d=a.width/l-2*r.scale[0],f=c*d+2*(.5-c)*h,g=u*a.height/l+2*(.5-u)*h;return{label:a,anchorX:f,anchorY:g}}execute_(e,n,i,s,r,a,o,l){const c=this.zIndexContext_;let u;this.pixelCoordinates_&&Fs(i,this.renderedTransform_)?u=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),u=Ms(this.coordinates,0,this.coordinates.length,2,i,this.pixelCoordinates_),vO(this.renderedTransform_,i));let h=0;const d=s.length;let f=0,g,m,v,y,_,p,x,b,C,M,E,R,O,k=0,w=0;const A=this.coordinateCache_,D=this.viewRotation_,X=Math.round(Math.atan2(-i[1],i[0])*1e12)/1e12,G={context:e,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:D},H=this.instructions!=s||this.overlaps?0:200;let z,F,$,N;for(;h<d;){const L=s[h];switch(L[0]){case me.BEGIN_GEOMETRY:z=L[1],N=L[3],z.getGeometry()?o!==void 0&&!gn(o,N.getExtent())?h=L[2]+1:++h:h=L[2],c&&(c.zIndex=L[4]);break;case me.BEGIN_PATH:k>H&&(this.fill_(e),k=0),w>H&&(e.stroke(),w=0),!k&&!w&&(e.beginPath(),_=NaN,p=NaN),++h;break;case me.CIRCLE:f=L[1];const Z=u[f],oe=u[f+1],pe=u[f+2],ae=u[f+3],ce=pe-Z,Ne=ae-oe,Re=Math.sqrt(ce*ce+Ne*Ne);e.moveTo(Z+Re,oe),e.arc(Z,oe,Re,0,2*Math.PI,!0),++h;break;case me.CLOSE_PATH:e.closePath(),++h;break;case me.CUSTOM:f=L[1],g=L[2];const sn=L[3],T=L[4],P=L[5];G.geometry=sn,G.feature=z,h in A||(A[h]=[]);const B=A[h];P?P(u,f,g,2,B):(B[0]=u[f],B[1]=u[f+1],B.length=2),c&&(c.zIndex=L[6]),T(B,G),++h;break;case me.DRAW_IMAGE:f=L[1],g=L[2],C=L[3],m=L[4],v=L[5];let j=L[6];const U=L[7],q=L[8],ie=L[9],te=L[10];let J=L[11];const K=L[12];let ue=L[13];y=L[14]||"declutter";const Q=L[15];if(!C&&L.length>=20){M=L[19],E=L[20],R=L[21],O=L[22];const Ln=this.drawLabelWithPointPlacement_(M,E,R,O);C=Ln.label,L[3]=C;const zs=L[23];m=(Ln.anchorX-zs)*this.pixelRatio,L[4]=m;const On=L[24];v=(Ln.anchorY-On)*this.pixelRatio,L[5]=v,j=C.height,L[6]=j,ue=C.width,L[13]=ue}let he;L.length>25&&(he=L[25]);let xe,De,We;L.length>17?(xe=L[16],De=L[17],We=L[18]):(xe=nr,De=null,We=null),te&&X?J+=D:!te&&!X&&(J-=D);let Ue=0;for(;f<g;f+=2){if(he&&he[Ue++]<ue/this.pixelRatio)continue;const Ln=this.calculateImageOrLabelDimensions_(C.width,C.height,u[f],u[f+1],ue,j,m,v,q,ie,J,K,r,xe,!!De||!!We,z),zs=[e,n,C,Ln,U,De,We];if(l){let On,li,kn;if(Q){const dt=g-f;if(!Q[dt]){Q[dt]={args:zs,declutterMode:y};continue}const Wt=Q[dt];On=Wt.args,li=Wt.declutterMode,delete Q[dt],kn=B0(On)}let Li,Oi;if(On&&(li!=="declutter"||!l.collides(kn))&&(Li=!0),(y!=="declutter"||!l.collides(Ln.declutterBox))&&(Oi=!0),li==="declutter"&&y==="declutter"){const dt=Li&&Oi;Li=dt,Oi=dt}Li&&(li!=="none"&&l.insert(kn),this.replayImageOrLabel_.apply(this,On)),Oi&&(y!=="none"&&l.insert(Ln.declutterBox),this.replayImageOrLabel_.apply(this,zs))}else this.replayImageOrLabel_.apply(this,zs)}++h;break;case me.DRAW_CHARS:const kt=L[1],Rt=L[2],rn=L[3],Pn=L[4];O=L[5];const Gs=L[6],ka=L[7],Dt=L[8];R=L[9];const an=L[10];M=L[11],Array.isArray(M)&&(M=M.reduce(bN,"")),E=L[12];const Da=[L[13],L[13]];y=L[14]||"declutter";const lS=L[15],Zu=this.textStates[E],Na=Zu.font,Fa=[Zu.scale[0]*ka,Zu.scale[1]*ka];let Ba;Na in this.widths_?Ba=this.widths_[Na]:(Ba={},this.widths_[Na]=Ba);const Xg=_N(u,kt,Rt,2),qg=Math.abs(Fa[0])*S0(Na,M,Ba);if(Pn||qg<=Xg){const Ln=this.textStates[E].textAlign,zs=(Xg-qg)*Uh(M,Ln),On=pN(u,kt,Rt,2,M,zs,Gs,Math.abs(Fa[0]),S0,Na,Ba,X?0:this.viewRotation_,lS);e:if(On){const li=[];let kn,Li,Oi,dt,Wt;if(R)for(kn=0,Li=On.length;kn<Li;++kn){Wt=On[kn],Oi=Wt[4],dt=this.createLabel(Oi,E,"",R),m=Wt[2]+(Fa[0]<0?-an:an),v=rn*dt.height+(.5-rn)*2*an*Fa[1]/Fa[0]-Dt;const ki=this.calculateImageOrLabelDimensions_(dt.width,dt.height,Wt[0],Wt[1],dt.width,dt.height,m,v,0,0,Wt[3],Da,!1,nr,!1,z);if(l&&y==="declutter"&&l.collides(ki.declutterBox))break e;li.push([e,n,dt,ki,1,null,null])}if(O)for(kn=0,Li=On.length;kn<Li;++kn){Wt=On[kn],Oi=Wt[4],dt=this.createLabel(Oi,E,O,""),m=Wt[2],v=rn*dt.height-Dt;const ki=this.calculateImageOrLabelDimensions_(dt.width,dt.height,Wt[0],Wt[1],dt.width,dt.height,m,v,0,0,Wt[3],Da,!1,nr,!1,z);if(l&&y==="declutter"&&l.collides(ki.declutterBox))break e;li.push([e,n,dt,ki,1,null,null])}l&&y!=="none"&&l.load(li.map(B0));for(let ki=0,cS=li.length;ki<cS;++ki)this.replayImageOrLabel_.apply(this,li[ki])}}++h;break;case me.END_GEOMETRY:if(a!==void 0){z=L[1];const Ln=a(z,N,y);if(Ln)return Ln}++h;break;case me.FILL:H?k++:this.fill_(e),++h;break;case me.MOVE_TO_LINE_TO:for(f=L[1],g=L[2],F=u[f],$=u[f+1],e.moveTo(F,$),_=F+.5|0,p=$+.5|0,f+=2;f<g;f+=2)F=u[f],$=u[f+1],x=F+.5|0,b=$+.5|0,(f==g-2||x!==_||b!==p)&&(e.lineTo(F,$),_=x,p=b);++h;break;case me.SET_FILL_STYLE:this.alignAndScaleFill_=L[2],k&&(this.fill_(e),k=0,w&&(e.stroke(),w=0)),e.fillStyle=L[1],++h;break;case me.SET_STROKE_STYLE:w&&(e.stroke(),w=0),this.setStrokeStyle_(e,L),++h;break;case me.STROKE:H?w++:e.stroke(),++h;break;default:++h;break}}k&&this.fill_(e),w&&e.stroke()}execute(e,n,i,s,r,a){this.viewRotation_=s,this.execute_(e,n,i,this.instructions,r,void 0,void 0,a)}executeHitDetection(e,n,i,s,r){return this.viewRotation_=i,this.execute_(e,[e.canvas.width,e.canvas.height],n,this.hitDetectionInstructions,!0,s,r)}}const Qr=["Polygon","Circle","LineString","Image","Text","Default"],Cx=["Image","Text"],EN=Qr.filter(t=>!Cx.includes(t));class CN{constructor(e,n,i,s,r,a,o){this.maxExtent_=e,this.overlaps_=s,this.pixelRatio_=i,this.resolution_=n,this.renderBuffer_=a,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=ei(),this.renderedContext_=null,this.deferredZIndexContexts_={},this.createExecutors_(r,o)}clip(e,n){const i=this.getClipCoords(n);e.beginPath(),e.moveTo(i[0],i[1]),e.lineTo(i[2],i[3]),e.lineTo(i[4],i[5]),e.lineTo(i[6],i[7]),e.clip()}createExecutors_(e,n){for(const i in e){let s=this.executorsByZIndex_[i];s===void 0&&(s={},this.executorsByZIndex_[i]=s);const r=e[i];for(const a in r){const o=r[a];s[a]=new SN(this.resolution_,this.pixelRatio_,this.overlaps_,o,n)}}}hasExecutors(e){for(const n in this.executorsByZIndex_){const i=this.executorsByZIndex_[n];for(let s=0,r=e.length;s<r;++s)if(e[s]in i)return!0}return!1}forEachFeatureAtCoordinate(e,n,i,s,r,a){s=Math.round(s);const o=s*2+1,l=Zi(this.hitDetectionTransform_,s+.5,s+.5,1/n,-1/n,-i,-e[0],-e[1]),c=!this.hitDetectionContext_;c&&(this.hitDetectionContext_=St(o,o));const u=this.hitDetectionContext_;u.canvas.width!==o||u.canvas.height!==o?(u.canvas.width=o,u.canvas.height=o):c||u.clearRect(0,0,o,o);let h;this.renderBuffer_!==void 0&&(h=Un(),bo(h,e),Zf(h,n*(this.renderBuffer_+s),h));const d=wN(s);let f;function g(b,C,M){const E=u.getImageData(0,0,o,o).data;for(let R=0,O=d.length;R<O;R++)if(E[d[R]]>0){if(!a||M==="none"||f!=="Image"&&f!=="Text"||a.includes(b)){const k=(d[R]-3)/4,w=s-k%o,A=s-(k/o|0),D=r(b,C,w*w+A*A);if(D)return D}u.clearRect(0,0,o,o);break}}const m=Object.keys(this.executorsByZIndex_).map(Number);m.sort(Hi);let v,y,_,p,x;for(v=m.length-1;v>=0;--v){const b=m[v].toString();for(_=this.executorsByZIndex_[b],y=Qr.length-1;y>=0;--y)if(f=Qr[y],p=_[f],p!==void 0&&(x=p.executeHitDetection(u,l,i,g,h),x))return x}}getClipCoords(e){const n=this.maxExtent_;if(!n)return null;const i=n[0],s=n[1],r=n[2],a=n[3],o=[i,s,i,a,r,a,r,s];return Ms(o,0,8,2,e,o),o}isEmpty(){return va(this.executorsByZIndex_)}execute(e,n,i,s,r,a,o){const l=Object.keys(this.executorsByZIndex_).map(Number);l.sort(o?fL:Hi),a=a||Qr;const c=Qr.length;for(let u=0,h=l.length;u<h;++u){const d=l[u].toString(),f=this.executorsByZIndex_[d];for(let g=0,m=a.length;g<m;++g){const v=a[g],y=f[v];if(y!==void 0){const _=o===null?void 0:y.getZIndexContext(),p=_?_.getContext():e,x=this.maxExtent_&&v!=="Image"&&v!=="Text";if(x&&(p.save(),this.clip(p,i)),!_||v==="Text"||v==="Image"?y.execute(p,n,i,s,r,o):_.pushFunction(b=>y.execute(b,n,i,s,r,o)),x&&p.restore(),_){_.offset();const b=l[u]*c+g;this.deferredZIndexContexts_[b]||(this.deferredZIndexContexts_[b]=[]),this.deferredZIndexContexts_[b].push(_)}}}}this.renderedContext_=e}getDeferredZIndexContexts(){return this.deferredZIndexContexts_}getRenderedContext(){return this.renderedContext_}renderDeferred(){const e=this.deferredZIndexContexts_,n=Object.keys(e).map(Number).sort(Hi);for(let i=0,s=n.length;i<s;++i)e[n[i]].forEach(r=>{r.draw(this.renderedContext_),r.clear()}),e[n[i]].length=0}}const jh={};function wN(t){if(jh[t]!==void 0)return jh[t];const e=t*2+1,n=t*t,i=new Array(n+1);for(let r=0;r<=t;++r)for(let a=0;a<=t;++a){const o=r*r+a*a;if(o>n)break;let l=i[o];l||(l=[],i[o]=l),l.push(((t+r)*e+(t+a))*4+3),r>0&&l.push(((t-r)*e+(t+a))*4+3),a>0&&(l.push(((t+r)*e+(t-a))*4+3),r>0&&l.push(((t-r)*e+(t-a))*4+3))}const s=[];for(let r=0,a=i.length;r<a;++r)i[r]&&s.push(...i[r]);return jh[t]=s,s}class MN extends Ex{constructor(e,n,i,s,r,a,o){super(),this.context_=e,this.pixelRatio_=n,this.extent_=i,this.transform_=s,this.transformRotation_=s?Lu(Math.atan2(s[1],s[0]),10):0,this.viewRotation_=r,this.squaredTolerance_=a,this.userTransform_=o,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=[0,0],this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=[0,0],this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=ei()}drawImages_(e,n,i,s){if(!this.image_)return;const r=Ms(e,n,i,s,this.transform_,this.pixelCoordinates_),a=this.context_,o=this.tmpLocalTransform_,l=a.globalAlpha;this.imageOpacity_!=1&&(a.globalAlpha=l*this.imageOpacity_);let c=this.imageRotation_;this.transformRotation_===0&&(c-=this.viewRotation_),this.imageRotateWithView_&&(c+=this.viewRotation_);for(let u=0,h=r.length;u<h;u+=2){const d=r[u]-this.imageAnchorX_,f=r[u+1]-this.imageAnchorY_;if(c!==0||this.imageScale_[0]!=1||this.imageScale_[1]!=1){const g=d+this.imageAnchorX_,m=f+this.imageAnchorY_;Zi(o,g,m,1,1,c,-g,-m),a.save(),a.transform.apply(a,o),a.translate(g,m),a.scale(this.imageScale_[0],this.imageScale_[1]),a.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),a.restore()}else a.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,d,f,this.imageWidth_,this.imageHeight_)}this.imageOpacity_!=1&&(a.globalAlpha=l)}drawText_(e,n,i,s){if(!this.textState_||this.text_==="")return;this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);const r=Ms(e,n,i,s,this.transform_,this.pixelCoordinates_),a=this.context_;let o=this.textRotation_;for(this.transformRotation_===0&&(o-=this.viewRotation_),this.textRotateWithView_&&(o+=this.viewRotation_);n<i;n+=s){const l=r[n]+this.textOffsetX_,c=r[n+1]+this.textOffsetY_;o!==0||this.textScale_[0]!=1||this.textScale_[1]!=1?(a.save(),a.translate(l-this.textOffsetX_,c-this.textOffsetY_),a.rotate(o),a.translate(this.textOffsetX_,this.textOffsetY_),a.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&a.strokeText(this.text_,0,0),this.textFillState_&&a.fillText(this.text_,0,0),a.restore()):(this.textStrokeState_&&a.strokeText(this.text_,l,c),this.textFillState_&&a.fillText(this.text_,l,c))}}moveToLineTo_(e,n,i,s,r){const a=this.context_,o=Ms(e,n,i,s,this.transform_,this.pixelCoordinates_);a.moveTo(o[0],o[1]);let l=o.length;r&&(l-=2);for(let c=2;c<l;c+=2)a.lineTo(o[c],o[c+1]);return r&&a.closePath(),i}drawRings_(e,n,i,s){for(let r=0,a=i.length;r<a;++r)n=this.moveToLineTo_(e,n,i[r],s,!0);return n}drawCircle(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!gn(this.extent_,e.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=MO(e,this.transform_,this.pixelCoordinates_),i=n[2]-n[0],s=n[3]-n[1],r=Math.sqrt(i*i+s*s),a=this.context_;a.beginPath(),a.arc(n[0],n[1],r,0,2*Math.PI),this.fillState_&&a.fill(),this.strokeState_&&a.stroke()}this.text_!==""&&this.drawText_(e.getCenter(),0,2,2)}}setStyle(e){this.setFillStrokeStyle(e.getFill(),e.getStroke()),this.setImageStyle(e.getImage()),this.setTextStyle(e.getText())}setTransform(e){this.transform_=e}drawGeometry(e){switch(e.getType()){case"Point":this.drawPoint(e);break;case"LineString":this.drawLineString(e);break;case"Polygon":this.drawPolygon(e);break;case"MultiPoint":this.drawMultiPoint(e);break;case"MultiLineString":this.drawMultiLineString(e);break;case"MultiPolygon":this.drawMultiPolygon(e);break;case"GeometryCollection":this.drawGeometryCollection(e);break;case"Circle":this.drawCircle(e);break}}drawFeature(e,n){const i=n.getGeometryFunction()(e);i&&(this.setStyle(n),this.drawGeometry(i))}drawGeometryCollection(e){const n=e.getGeometriesArray();for(let i=0,s=n.length;i<s;++i)this.drawGeometry(n[i])}drawPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=e.getFlatCoordinates(),i=e.getStride();this.image_&&this.drawImages_(n,0,n.length,i),this.text_!==""&&this.drawText_(n,0,n.length,i)}drawMultiPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=e.getFlatCoordinates(),i=e.getStride();this.image_&&this.drawImages_(n,0,n.length,i),this.text_!==""&&this.drawText_(n,0,n.length,i)}drawLineString(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!gn(this.extent_,e.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const n=this.context_,i=e.getFlatCoordinates();n.beginPath(),this.moveToLineTo_(i,0,i.length,e.getStride(),!1),n.stroke()}if(this.text_!==""){const n=e.getFlatMidpoint();this.drawText_(n,0,2,2)}}}drawMultiLineString(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=e.getExtent();if(gn(this.extent_,n)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const i=this.context_,s=e.getFlatCoordinates();let r=0;const a=e.getEnds(),o=e.getStride();i.beginPath();for(let l=0,c=a.length;l<c;++l)r=this.moveToLineTo_(s,r,a[l],o,!1);i.stroke()}if(this.text_!==""){const i=e.getFlatMidpoints();this.drawText_(i,0,i.length,2)}}}drawPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!gn(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=this.context_;n.beginPath(),this.drawRings_(e.getOrientedFlatCoordinates(),0,e.getEnds(),e.getStride()),this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}if(this.text_!==""){const n=e.getFlatInteriorPoint();this.drawText_(n,0,2,2)}}}drawMultiPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!gn(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=this.context_,i=e.getOrientedFlatCoordinates();let s=0;const r=e.getEndss(),a=e.getStride();n.beginPath();for(let o=0,l=r.length;o<l;++o){const c=r[o];s=this.drawRings_(i,s,c,a)}this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}if(this.text_!==""){const n=e.getFlatInteriorPoints();this.drawText_(n,0,n.length,2)}}}setContextFillState_(e){const n=this.context_,i=this.contextFillState_;i?i.fillStyle!=e.fillStyle&&(i.fillStyle=e.fillStyle,n.fillStyle=e.fillStyle):(n.fillStyle=e.fillStyle,this.contextFillState_={fillStyle:e.fillStyle})}setContextStrokeState_(e){const n=this.context_,i=this.contextStrokeState_;i?(i.lineCap!=e.lineCap&&(i.lineCap=e.lineCap,n.lineCap=e.lineCap),Fs(i.lineDash,e.lineDash)||n.setLineDash(i.lineDash=e.lineDash),i.lineDashOffset!=e.lineDashOffset&&(i.lineDashOffset=e.lineDashOffset,n.lineDashOffset=e.lineDashOffset),i.lineJoin!=e.lineJoin&&(i.lineJoin=e.lineJoin,n.lineJoin=e.lineJoin),i.lineWidth!=e.lineWidth&&(i.lineWidth=e.lineWidth,n.lineWidth=e.lineWidth),i.miterLimit!=e.miterLimit&&(i.miterLimit=e.miterLimit,n.miterLimit=e.miterLimit),i.strokeStyle!=e.strokeStyle&&(i.strokeStyle=e.strokeStyle,n.strokeStyle=e.strokeStyle)):(n.lineCap=e.lineCap,n.setLineDash(e.lineDash),n.lineDashOffset=e.lineDashOffset,n.lineJoin=e.lineJoin,n.lineWidth=e.lineWidth,n.miterLimit=e.miterLimit,n.strokeStyle=e.strokeStyle,this.contextStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})}setContextTextState_(e){const n=this.context_,i=this.contextTextState_,s=e.textAlign?e.textAlign:Ho;i?(i.font!=e.font&&(i.font=e.font,n.font=e.font),i.textAlign!=s&&(i.textAlign=s,n.textAlign=s),i.textBaseline!=e.textBaseline&&(i.textBaseline=e.textBaseline,n.textBaseline=e.textBaseline)):(n.font=e.font,n.textAlign=s,n.textBaseline=e.textBaseline,this.contextTextState_={font:e.font,textAlign:s,textBaseline:e.textBaseline})}setFillStrokeStyle(e,n){if(!e)this.fillState_=null;else{const i=e.getColor();this.fillState_={fillStyle:bi(i||un)}}if(!n)this.strokeState_=null;else{const i=n.getColor(),s=n.getLineCap(),r=n.getLineDash(),a=n.getLineDashOffset(),o=n.getLineJoin(),l=n.getWidth(),c=n.getMiterLimit(),u=r||Xi;this.strokeState_={lineCap:s!==void 0?s:ba,lineDash:this.pixelRatio_===1?u:u.map(h=>h*this.pixelRatio_),lineDashOffset:(a||qi)*this.pixelRatio_,lineJoin:o!==void 0?o:Sa,lineWidth:(l!==void 0?l:Xo)*this.pixelRatio_,miterLimit:c!==void 0?c:Uo,strokeStyle:bi(i||jo)}}}setImageStyle(e){let n;if(!e||!(n=e.getSize())){this.image_=null;return}const i=e.getPixelRatio(this.pixelRatio_),s=e.getAnchor(),r=e.getOrigin();this.image_=e.getImage(this.pixelRatio_),this.imageAnchorX_=s[0]*i,this.imageAnchorY_=s[1]*i,this.imageHeight_=n[1]*i,this.imageOpacity_=e.getOpacity(),this.imageOriginX_=r[0],this.imageOriginY_=r[1],this.imageRotateWithView_=e.getRotateWithView(),this.imageRotation_=e.getRotation();const a=e.getScaleArray();this.imageScale_=[a[0]*this.pixelRatio_/i,a[1]*this.pixelRatio_/i],this.imageWidth_=n[0]*i}setTextStyle(e){if(!e)this.text_="";else{const n=e.getFill();if(!n)this.textFillState_=null;else{const f=n.getColor();this.textFillState_={fillStyle:bi(f||un)}}const i=e.getStroke();if(!i)this.textStrokeState_=null;else{const f=i.getColor(),g=i.getLineCap(),m=i.getLineDash(),v=i.getLineDashOffset(),y=i.getLineJoin(),_=i.getWidth(),p=i.getMiterLimit();this.textStrokeState_={lineCap:g!==void 0?g:ba,lineDash:m||Xi,lineDashOffset:v||qi,lineJoin:y!==void 0?y:Sa,lineWidth:_!==void 0?_:Xo,miterLimit:p!==void 0?p:Uo,strokeStyle:bi(f||jo)}}const s=e.getFont(),r=e.getOffsetX(),a=e.getOffsetY(),o=e.getRotateWithView(),l=e.getRotation(),c=e.getScaleArray(),u=e.getText(),h=e.getTextAlign(),d=e.getTextBaseline();this.textState_={font:s!==void 0?s:lx,textAlign:h!==void 0?h:Ho,textBaseline:d!==void 0?d:Jc},this.text_=u!==void 0?Array.isArray(u)?u.reduce((f,g,m)=>f+=m%2?" ":g,""):u:"",this.textOffsetX_=r!==void 0?this.pixelRatio_*r:0,this.textOffsetY_=a!==void 0?this.pixelRatio_*a:0,this.textRotateWithView_=o!==void 0?o:!1,this.textRotation_=l!==void 0?l:0,this.textScale_=[this.pixelRatio_*c[0],this.pixelRatio_*c[1]]}}}const yi=.5;function TN(t,e,n,i,s,r,a,o,l){const c=s,u=t[0]*yi,h=t[1]*yi,d=St(u,h);d.imageSmoothingEnabled=!1;const f=d.canvas,g=new MN(d,yi,s,null,a,o,null),m=n.length,v=Math.floor((256*256*256-1)/m),y={};for(let p=1;p<=m;++p){const x=n[p-1],b=x.getStyleFunction()||i;if(!b)continue;let C=b(x,r);if(!C)continue;Array.isArray(C)||(C=[C]);const E=(p*v).toString(16).padStart(7,"#00000");for(let R=0,O=C.length;R<O;++R){const k=C[R],w=k.getGeometryFunction()(x);if(!w||!gn(c,w.getExtent()))continue;const A=k.clone(),D=A.getFill();D&&D.setColor(E);const X=A.getStroke();X&&(X.setColor(E),X.setLineDash(null)),A.setText(void 0);const G=k.getImage();if(G){const $=G.getImageSize();if(!$)continue;const N=St($[0],$[1],void 0,{alpha:!1}),L=N.canvas;N.fillStyle=E,N.fillRect(0,0,L.width,L.height),A.setImage(new Uu({img:L,anchor:G.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:G.getOrigin(),opacity:1,size:G.getSize(),scale:G.getScale(),rotation:G.getRotation(),rotateWithView:G.getRotateWithView()}))}const H=A.getZIndex()||0;let z=y[H];z||(z={},y[H]=z,z.Polygon=[],z.Circle=[],z.LineString=[],z.Point=[]);const F=w.getType();if(F==="GeometryCollection"){const $=w.getGeometriesArrayRecursive();for(let N=0,L=$.length;N<L;++N){const ne=$[N];z[ne.getType().replace("Multi","")].push(ne,A)}}else z[F.replace("Multi","")].push(w,A)}}const _=Object.keys(y).map(Number).sort(Hi);for(let p=0,x=_.length;p<x;++p){const b=y[_[p]];for(const C in b){const M=b[C];for(let E=0,R=M.length;E<R;E+=2){g.setStyle(M[E+1]);for(let O=0,k=e.length;O<k;++O)g.setTransform(e[O]),g.drawGeometry(M[E])}}}return d.getImageData(0,0,f.width,f.height)}function RN(t,e,n){const i=[];if(n){const s=Math.floor(Math.round(t[0])*yi),r=Math.floor(Math.round(t[1])*yi),a=(st(s,0,n.width-1)+st(r,0,n.height-1)*n.width)*4,o=n.data[a],l=n.data[a+1],u=n.data[a+2]+256*(l+256*o),h=Math.floor((256*256*256-1)/e.length);u&&u%h===0&&i.push(e[u/h-1])}return i}const IN=.5,wx={Point:FN,LineString:kN,Polygon:VN,MultiPoint:BN,MultiLineString:DN,MultiPolygon:NN,GeometryCollection:ON,Circle:PN};function AN(t,e){return parseInt(He(t),10)-parseInt(He(e),10)}function $0(t,e){const n=Mx(t,e);return n*n}function Mx(t,e){return IN*t/e}function PN(t,e,n,i,s){const r=n.getFill(),a=n.getStroke();if(r||a){const l=t.getBuilder(n.getZIndex(),"Circle");l.setFillStrokeStyle(r,a),l.drawCircle(e,i,s)}const o=n.getText();if(o&&o.getText()){const l=t.getBuilder(n.getZIndex(),"Text");l.setTextStyle(o),l.drawText(e,i)}}function G0(t,e,n,i,s,r,a,o){const l=[],c=n.getImage();if(c){let d=!0;const f=c.getImageState();f==Oe.LOADED||f==Oe.ERROR?d=!1:f==Oe.IDLE&&c.load(),d&&l.push(c.ready())}const u=n.getFill();u&&u.loading()&&l.push(u.ready());const h=l.length>0;return h&&Promise.all(l).then(()=>s(null)),LN(t,e,n,i,r,a,o),h}function LN(t,e,n,i,s,r,a){const o=n.getGeometryFunction()(e);if(!o)return;const l=o.simplifyTransformed(i,s);if(n.getRenderer())Tx(t,l,n,e,a);else{const u=wx[l.getType()];u(t,l,n,e,a,r)}}function Tx(t,e,n,i,s){if(e.getType()=="GeometryCollection"){const a=e.getGeometries();for(let o=0,l=a.length;o<l;++o)Tx(t,a[o],n,i,s);return}t.getBuilder(n.getZIndex(),"Default").drawCustom(e,i,n.getRenderer(),n.getHitDetectionRenderer(),s)}function ON(t,e,n,i,s,r){const a=e.getGeometriesArray();let o,l;for(o=0,l=a.length;o<l;++o){const c=wx[a[o].getType()];c(t,a[o],n,i,s,r)}}function kN(t,e,n,i,s){const r=n.getStroke();if(r){const o=t.getBuilder(n.getZIndex(),"LineString");o.setFillStrokeStyle(null,r),o.drawLineString(e,i,s)}const a=n.getText();if(a&&a.getText()){const o=t.getBuilder(n.getZIndex(),"Text");o.setTextStyle(a),o.drawText(e,i,s)}}function DN(t,e,n,i,s){const r=n.getStroke();if(r){const o=t.getBuilder(n.getZIndex(),"LineString");o.setFillStrokeStyle(null,r),o.drawMultiLineString(e,i,s)}const a=n.getText();if(a&&a.getText()){const o=t.getBuilder(n.getZIndex(),"Text");o.setTextStyle(a),o.drawText(e,i,s)}}function NN(t,e,n,i,s){const r=n.getFill(),a=n.getStroke();if(a||r){const l=t.getBuilder(n.getZIndex(),"Polygon");l.setFillStrokeStyle(r,a),l.drawMultiPolygon(e,i,s)}const o=n.getText();if(o&&o.getText()){const l=t.getBuilder(n.getZIndex(),"Text");l.setTextStyle(o),l.drawText(e,i,s)}}function FN(t,e,n,i,s,r){const a=n.getImage(),o=n.getText(),l=o&&o.getText(),c=r&&a&&l?{}:void 0;if(a){if(a.getImageState()!=Oe.LOADED)return;const u=t.getBuilder(n.getZIndex(),"Image");u.setImageStyle(a,c),u.drawPoint(e,i,s)}if(l){const u=t.getBuilder(n.getZIndex(),"Text");u.setTextStyle(o,c),u.drawText(e,i,s)}}function BN(t,e,n,i,s,r){const a=n.getImage(),o=a&&a.getOpacity()!==0,l=n.getText(),c=l&&l.getText(),u=r&&o&&c?{}:void 0;if(o){if(a.getImageState()!=Oe.LOADED)return;const h=t.getBuilder(n.getZIndex(),"Image");h.setImageStyle(a,u),h.drawMultiPoint(e,i,s)}if(c){const h=t.getBuilder(n.getZIndex(),"Text");h.setTextStyle(l,u),h.drawText(e,i,s)}}function VN(t,e,n,i,s){const r=n.getFill(),a=n.getStroke();if(r||a){const l=t.getBuilder(n.getZIndex(),"Polygon");l.setFillStrokeStyle(r,a),l.drawPolygon(e,i,s)}const o=n.getText();if(o&&o.getText()){const l=t.getBuilder(n.getZIndex(),"Text");l.setTextStyle(o),l.drawText(e,i,s)}}class $N extends Sx{constructor(e){super(e),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.animatingOrInteracting_,this.hitDetectionImageData_=null,this.clipped_=!1,this.renderedFeatures_=null,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=Un(),this.wrappedRenderedExtent_=Un(),this.renderedRotation_,this.renderedCenter_=null,this.renderedProjection_=null,this.renderedPixelRatio_=1,this.renderedRenderOrder_=null,this.renderedFrameDeclutter_,this.replayGroup_=null,this.replayGroupChanged=!0,this.clipping=!0,this.targetContext_=null,this.opacity_=1}renderWorlds(e,n,i){const s=n.extent,r=n.viewState,a=r.center,o=r.resolution,l=r.projection,c=r.rotation,u=l.getExtent(),h=this.getLayer().getSource(),d=this.getLayer().getDeclutter(),f=n.pixelRatio,g=n.viewHints,m=!(g[Bt.ANIMATING]||g[Bt.INTERACTING]),v=this.context,y=Math.round(Xe(s)/o*f),_=Math.round(Jt(s)/o*f),p=h.getWrapX()&&l.canWrapX(),x=p?Xe(u):null,b=p?Math.ceil((s[2]-u[2])/x)+1:1;let C=p?Math.floor((s[0]-u[0])/x):0;do{let M=this.getRenderTransform(a,o,0,f,y,_,C*x);n.declutter&&(M=M.slice(0)),e.execute(v,[v.canvas.width,v.canvas.height],M,c,m,i===void 0?Qr:i?Cx:EN,i?d&&n.declutter[d]:void 0)}while(++C<b)}setDrawContext_(){this.opacity_!==1&&(this.targetContext_=this.context,this.context=St(this.context.canvas.width,this.context.canvas.height,k0))}resetDrawContext_(){if(this.opacity_!==1){const e=this.targetContext_.globalAlpha;this.targetContext_.globalAlpha=this.opacity_,this.targetContext_.drawImage(this.context.canvas,0,0),this.targetContext_.globalAlpha=e,$u(this.context),k0.push(this.context.canvas),this.context=this.targetContext_,this.targetContext_=null}}renderDeclutter(e){!this.replayGroup_||!this.getLayer().getDeclutter()||this.renderWorlds(this.replayGroup_,e,!0)}renderDeferredInternal(e){this.replayGroup_&&(this.replayGroup_.renderDeferred(),this.clipped_&&this.context.restore(),this.resetDrawContext_())}renderFrame(e,n){const i=e.layerStatesArray[e.layerIndex];this.opacity_=i.opacity;const s=e.viewState;this.prepareContainer(e,n);const r=this.context,a=this.replayGroup_;let o=a&&!a.isEmpty();if(!o&&!(this.getLayer().hasListener(Vn.PRERENDER)||this.getLayer().hasListener(Vn.POSTRENDER)))return this.container;if(this.setDrawContext_(),this.preRender(r,e),s.projection,this.clipped_=!1,o&&i.extent&&this.clipping){const l=ps(i.extent);o=gn(l,e.extent),this.clipped_=o&&!Zr(l,e.extent),this.clipped_&&this.clipUnrotated(r,e,l)}return o&&this.renderWorlds(a,e,this.getLayer().getDeclutter()?!1:void 0),!e.declutter&&this.clipped_&&r.restore(),this.postRender(r,e),this.renderedRotation_!==s.rotation&&(this.renderedRotation_=s.rotation,this.hitDetectionImageData_=null),e.declutter||this.resetDrawContext_(),this.container}getFeatures(e){return new Promise(n=>{if(this.frameState&&!this.hitDetectionImageData_&&!this.animatingOrInteracting_){const i=this.frameState.size.slice(),s=this.renderedCenter_,r=this.renderedResolution_,a=this.renderedRotation_,o=this.renderedProjection_,l=this.wrappedRenderedExtent_,c=this.getLayer(),u=[],h=i[0]*yi,d=i[1]*yi;u.push(this.getRenderTransform(s,r,a,yi,h,d,0).slice());const f=c.getSource(),g=o.getExtent();if(f.getWrapX()&&o.canWrapX()&&!Zr(g,l)){let m=l[0];const v=Xe(g);let y=0,_;for(;m<g[0];)--y,_=v*y,u.push(this.getRenderTransform(s,r,a,yi,h,d,_).slice()),m+=v;for(y=0,m=l[2];m>g[2];)++y,_=v*y,u.push(this.getRenderTransform(s,r,a,yi,h,d,_).slice()),m-=v}this.hitDetectionImageData_=TN(i,u,this.renderedFeatures_,c.getStyleFunction(),l,r,a,$0(r,this.renderedPixelRatio_))}n(RN(e,this.renderedFeatures_,this.hitDetectionImageData_))})}forEachFeatureAtCoordinate(e,n,i,s,r){var d,f;if(!this.replayGroup_)return;const a=n.viewState.resolution,o=n.viewState.rotation,l=this.getLayer(),c={},u=function(g,m,v){const y=He(g),_=c[y];if(_){if(_!==!0&&v<_.distanceSq){if(v===0)return c[y]=!0,r.splice(r.lastIndexOf(_),1),s(g,l,m);_.geometry=m,_.distanceSq=v}}else{if(v===0)return c[y]=!0,s(g,l,m);r.push(c[y]={feature:g,layer:l,geometry:m,distanceSq:v,callback:s})}},h=this.getLayer().getDeclutter();return this.replayGroup_.forEachFeatureAtCoordinate(e,a,o,i,u,h?(f=(d=n.declutter)==null?void 0:d[h])==null?void 0:f.all().map(g=>g.value):null)}handleFontsChanged(){const e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()}handleStyleImageChange_(e){this.renderIfReadyAndVisible()}prepareFrame(e){const n=this.getLayer(),i=n.getSource();if(!i)return!1;const s=e.viewHints[Bt.ANIMATING],r=e.viewHints[Bt.INTERACTING],a=n.getUpdateWhileAnimating(),o=n.getUpdateWhileInteracting();if(this.ready&&!a&&s||!o&&r)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;const l=e.extent,c=e.viewState,u=c.projection,h=c.resolution,d=e.pixelRatio,f=n.getRevision(),g=n.getRenderBuffer();let m=n.getRenderOrder();m===void 0&&(m=AN);const v=c.center.slice(),y=Zf(l,g*h),_=y.slice(),p=[y.slice()],x=u.getExtent();if(i.getWrapX()&&u.canWrapX()&&!Zr(x,e.extent)){const D=Xe(x),X=Math.max(Xe(y)/2,D);y[0]=x[0]-X,y[2]=x[2]+X,I1(v,u);const G=T1(p[0],u);G[0]<x[0]&&G[2]<x[2]?p.push([G[0]+D,G[1],G[2]+D,G[3]]):G[0]>x[0]&&G[2]>x[2]&&p.push([G[0]-D,G[1],G[2]-D,G[3]])}if(this.ready&&this.renderedResolution_==h&&this.renderedRevision_==f&&this.renderedRenderOrder_==m&&this.renderedFrameDeclutter_===!!e.declutter&&Zr(this.wrappedRenderedExtent_,y))return Fs(this.renderedExtent_,_)||(this.hitDetectionImageData_=null,this.renderedExtent_=_),this.renderedCenter_=v,this.replayGroupChanged=!1,!0;this.replayGroup_=null;const b=new yN(Mx(h,d),y,h,d);let C;for(let D=0,X=p.length;D<X;++D)i.loadFeatures(p[D],h,u);const M=$0(h,d);let E=!0;const R=(D,X)=>{let G;const H=D.getStyleFunction()||n.getStyleFunction();if(H&&(G=H(D,h)),G){const z=this.renderFeature(D,M,G,b,C,this.getLayer().getDeclutter(),X);E=E&&!z}},O=V1(y),k=i.getFeaturesInExtent(O);m&&k.sort(m);for(let D=0,X=k.length;D<X;++D)R(k[D],D);this.renderedFeatures_=k,this.ready=E;const w=b.finish(),A=new CN(y,h,d,i.getOverlaps(),w,n.getRenderBuffer(),!!e.declutter);return this.renderedResolution_=h,this.renderedRevision_=f,this.renderedRenderOrder_=m,this.renderedFrameDeclutter_=!!e.declutter,this.renderedExtent_=_,this.wrappedRenderedExtent_=y,this.renderedCenter_=v,this.renderedProjection_=u,this.renderedPixelRatio_=d,this.replayGroup_=A,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}renderFeature(e,n,i,s,r,a,o){if(!i)return!1;let l=!1;if(Array.isArray(i))for(let c=0,u=i.length;c<u;++c)l=G0(s,e,i[c],n,this.boundHandleStyleImageChange_,r,a,o)||l;else l=G0(s,e,i,n,this.boundHandleStyleImageChange_,r,a,o);return l}}class Rx extends mx{constructor(e){super(e)}createRenderer(){return new $N(this)}}let GN=!1;function zN(t,e,n,i,s,r,a){const o=new XMLHttpRequest;o.open("GET",typeof t=="function"?t(n,i,s):t,!0),e.getType()=="arraybuffer"&&(o.responseType="arraybuffer"),o.withCredentials=GN,o.onload=function(l){if(!o.status||o.status>=200&&o.status<300){const c=e.getType();try{let u;c=="text"||c=="json"?u=o.responseText:c=="xml"?u=o.responseXML||o.responseText:c=="arraybuffer"&&(u=o.response),u?r(e.readFeatures(u,{extent:n,featureProjection:s}),e.readProjection(u)):a()}catch{a()}}else a()},o.onerror=a,o.send()}function z0(t,e){return function(n,i,s,r,a){zN(t,e,n,i,s,(o,l)=>{this.addFeatures(o),r!==void 0&&r(o)},()=>{this.changed(),a!==void 0&&a()})}}function WN(t,e){return[[-1/0,-1/0,1/0,1/0]]}function UN(t,e,n,i){const s=[];let r=Un();for(let a=0,o=n.length;a<o;++a){const l=n[a];r=eg(t,e,l[0],i),s.push((r[0]+r[2])/2,(r[1]+r[3])/2),e=l[l.length-1]}return s}function W0(t,e,n,i,s,r,a){let o,l;const c=(n-e)/i;if(c===1)o=e;else if(c===2)o=e,l=s;else if(c!==0){let u=t[e],h=t[e+1],d=0;const f=[0];for(let v=e+i;v<n;v+=i){const y=t[v],_=t[v+1];d+=Math.sqrt((y-u)*(y-u)+(_-h)*(_-h)),f.push(d),u=y,h=_}const g=s*d,m=dL(f,g);m<0?(l=(g-f[-m-2])/(f[-m-1]-f[-m-2]),o=e+(-m-2)*i):o=e+m*i}a=a>1?a:2,r=r||new Array(a);for(let u=0;u<a;++u)r[u]=o===void 0?NaN:l===void 0?t[o+u]:Bn(t[o+u],t[o+i+u],l);return r}const U0=ei();class qn{constructor(e,n,i,s,r,a){this.styleFunction,this.extent_,this.id_=a,this.type_=e,this.flatCoordinates_=n,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=i||null,this.properties_=r,this.squaredTolerance_,this.stride_=s,this.simplifiedGeometry_}get(e){return this.properties_[e]}getExtent(){return this.extent_||(this.extent_=this.type_==="Point"?E1(this.flatCoordinates_):eg(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_}getFlatInteriorPoint(){if(!this.flatInteriorPoints_){const e=_r(this.getExtent());this.flatInteriorPoints_=ug(this.flatCoordinates_,0,this.ends_,2,e,0)}return this.flatInteriorPoints_}getFlatInteriorPoints(){if(!this.flatInteriorPoints_){const e=$O(this.flatCoordinates_,this.ends_),n=UN(this.flatCoordinates_,0,e,2);this.flatInteriorPoints_=DO(this.flatCoordinates_,0,e,2,n)}return this.flatInteriorPoints_}getFlatMidpoint(){return this.flatMidpoints_||(this.flatMidpoints_=W0(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_}getFlatMidpoints(){if(!this.flatMidpoints_){this.flatMidpoints_=[];const e=this.flatCoordinates_;let n=0;const i=this.ends_;for(let s=0,r=i.length;s<r;++s){const a=i[s],o=W0(e,n,a,2,.5);Iu(this.flatMidpoints_,o),n=a}}return this.flatMidpoints_}getId(){return this.id_}getOrientedFlatCoordinates(){return this.flatCoordinates_}getGeometry(){return this}getSimplifiedGeometry(e){return this}simplifyTransformed(e,n){return this}getProperties(){return this.properties_}getPropertiesInternal(){return this.properties_}getStride(){return this.stride_}getStyleFunction(){return this.styleFunction}getType(){return this.type_}transform(e){e=vt(e);const n=e.getExtent(),i=e.getWorldExtent();if(n&&i){const s=Jt(i)/Jt(n);Zi(U0,i[0],i[3],s,-s,0,0,0),Ms(this.flatCoordinates_,0,this.flatCoordinates_.length,2,U0,this.flatCoordinates_)}}applyTransform(e){e(this.flatCoordinates_,this.flatCoordinates_,this.stride_)}clone(){var e;return new qn(this.type_,this.flatCoordinates_.slice(),(e=this.ends_)==null?void 0:e.slice(),this.stride_,Object.assign({},this.properties_),this.id_)}getEnds(){return this.ends_}enableSimplifyTransformed(){return this.simplifyTransformed=v1((e,n)=>{if(e===this.squaredTolerance_)return this.simplifiedGeometry_;this.simplifiedGeometry_=this.clone(),n&&this.simplifiedGeometry_.applyTransform(n);const i=this.simplifiedGeometry_.getFlatCoordinates();let s;switch(this.type_){case"LineString":i.length=cg(i,0,this.simplifiedGeometry_.flatCoordinates_.length,this.simplifiedGeometry_.stride_,e,i,0),s=[i.length];break;case"MultiLineString":s=[],i.length=LO(i,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,e,i,0,s);break;case"Polygon":s=[],i.length=j1(i,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,Math.sqrt(e),i,0,s);break}return s&&(this.simplifiedGeometry_=new qn(this.type_,i,s,2,this.properties_,this.id_)),this.squaredTolerance_=e,this.simplifiedGeometry_}),this}}qn.prototype.getFlatCoordinates=qn.prototype.getOrientedFlatCoordinates;class j0{constructor(e){this.rbush_=new nx(e),this.items_={}}insert(e,n){const i={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:n};this.rbush_.insert(i),this.items_[He(n)]=i}load(e,n){const i=new Array(n.length);for(let s=0,r=n.length;s<r;s++){const a=e[s],o=n[s],l={minX:a[0],minY:a[1],maxX:a[2],maxY:a[3],value:o};i[s]=l,this.items_[He(o)]=l}this.rbush_.load(i)}remove(e){const n=He(e),i=this.items_[n];return delete this.items_[n],this.rbush_.remove(i)!==null}update(e,n){const i=this.items_[He(n)],s=[i.minX,i.minY,i.maxX,i.maxY];Go(s,e)||(this.remove(n),this.insert(e,n))}getAll(){return this.rbush_.all().map(function(n){return n.value})}getInExtent(e){const n={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]};return this.rbush_.search(n).map(function(s){return s.value})}forEach(e){return this.forEach_(this.getAll(),e)}forEachInExtent(e,n){return this.forEach_(this.getInExtent(e),n)}forEach_(e,n){let i;for(let s=0,r=e.length;s<r;s++)if(i=n(e[s]),i)return i;return i}isEmpty(){return va(this.items_)}clear(){this.rbush_.clear(),this.items_={}}getExtent(e){const n=this.rbush_.toJSON();return Yi(n.minX,n.minY,n.maxX,n.maxY,e)}concat(e){this.rbush_.load(e.rbush_.all());for(const n in e.items_)this.items_[n]=e.items_[n]}}class Ix extends Ii{constructor(e){super(),this.projection=vt(e.projection),this.attributions_=H0(e.attributions),this.attributionsCollapsible_=e.attributionsCollapsible??!0,this.loading=!1,this.state_=e.state!==void 0?e.state:"ready",this.wrapX_=e.wrapX!==void 0?e.wrapX:!1,this.interpolate_=!!e.interpolate,this.viewResolver=null,this.viewRejector=null;const n=this;this.viewPromise_=new Promise(function(i,s){n.viewResolver=i,n.viewRejector=s})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(e){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(e){this.attributions_=H0(e),this.changed()}setState(e){this.state_=e,this.changed()}}function H0(t){return t?typeof t=="function"?t:(Array.isArray(t)||(t=[t]),e=>t):null}const Nn={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"};class hs extends ns{constructor(e,n,i){super(e),this.feature=n,this.features=i}}class Ax extends Ix{constructor(e){e=e||{},super({attributions:e.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:e.wrapX!==void 0?e.wrapX:!0}),this.on,this.once,this.un,this.loader_=$o,this.format_=e.format||null,this.overlaps_=e.overlaps===void 0?!0:e.overlaps,this.url_=e.url,e.loader!==void 0?this.loader_=e.loader:this.url_!==void 0&&(Ze(this.format_,"`format` must be set when `url` is set"),this.loader_=z0(this.url_,this.format_)),this.strategy_=e.strategy!==void 0?e.strategy:WN;const n=e.useSpatialIndex!==void 0?e.useSpatialIndex:!0;this.featuresRtree_=n?new j0:null,this.loadedExtentsRtree_=new j0,this.loadingExtentsCount_=0,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null;let i,s;Array.isArray(e.features)?s=e.features:e.features&&(i=e.features,s=i.getArray()),!n&&i===void 0&&(i=new xi(s)),s!==void 0&&this.addFeaturesInternal(s),i!==void 0&&this.bindFeaturesCollection_(i)}addFeature(e){this.addFeatureInternal(e),this.changed()}addFeatureInternal(e){const n=He(e);if(!this.addToIndex_(n,e)){this.featuresCollection_&&this.featuresCollection_.remove(e);return}this.setupChangeEvents_(n,e);const i=e.getGeometry();if(i){const s=i.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(s,e)}else this.nullGeometryFeatures_[n]=e;this.dispatchEvent(new hs(Nn.ADDFEATURE,e))}setupChangeEvents_(e,n){n instanceof qn||(this.featureChangeKeys_[e]=[$e(n,Ie.CHANGE,this.handleFeatureChange_,this),$e(n,ma.PROPERTYCHANGE,this.handleFeatureChange_,this)])}addToIndex_(e,n){let i=!0;if(n.getId()!==void 0){const s=String(n.getId());if(!(s in this.idIndex_))this.idIndex_[s]=n;else if(n instanceof qn){const r=this.idIndex_[s];r instanceof qn?Array.isArray(r)?r.push(n):this.idIndex_[s]=[r,n]:i=!1}else i=!1}return i&&(Ze(!(e in this.uidIndex_),"The passed `feature` was already added to the source"),this.uidIndex_[e]=n),i}addFeatures(e){this.addFeaturesInternal(e),this.changed()}addFeaturesInternal(e){const n=[],i=[],s=[];for(let r=0,a=e.length;r<a;r++){const o=e[r],l=He(o);this.addToIndex_(l,o)&&i.push(o)}for(let r=0,a=i.length;r<a;r++){const o=i[r],l=He(o);this.setupChangeEvents_(l,o);const c=o.getGeometry();if(c){const u=c.getExtent();n.push(u),s.push(o)}else this.nullGeometryFeatures_[l]=o}if(this.featuresRtree_&&this.featuresRtree_.load(n,s),this.hasListener(Nn.ADDFEATURE))for(let r=0,a=i.length;r<a;r++)this.dispatchEvent(new hs(Nn.ADDFEATURE,i[r]))}bindFeaturesCollection_(e){let n=!1;this.addEventListener(Nn.ADDFEATURE,function(i){n||(n=!0,e.push(i.feature),n=!1)}),this.addEventListener(Nn.REMOVEFEATURE,function(i){n||(n=!0,e.remove(i.feature),n=!1)}),e.addEventListener(ln.ADD,i=>{n||(n=!0,this.addFeature(i.element),n=!1)}),e.addEventListener(ln.REMOVE,i=>{n||(n=!0,this.removeFeature(i.element),n=!1)}),this.featuresCollection_=e}clear(e){if(e){for(const i in this.featureChangeKeys_)this.featureChangeKeys_[i].forEach(lt);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){this.featuresRtree_.forEach(i=>{this.removeFeatureInternal(i)});for(const i in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[i])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};const n=new hs(Nn.CLEAR);this.dispatchEvent(n),this.changed()}forEachFeature(e){if(this.featuresRtree_)return this.featuresRtree_.forEach(e);this.featuresCollection_&&this.featuresCollection_.forEach(e)}forEachFeatureAtCoordinateDirect(e,n){const i=[e[0],e[1],e[0],e[1]];return this.forEachFeatureInExtent(i,function(s){const r=s.getGeometry();if(r instanceof qn||r.intersectsCoordinate(e))return n(s)})}forEachFeatureInExtent(e,n){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(e,n);this.featuresCollection_&&this.featuresCollection_.forEach(n)}forEachFeatureIntersectingExtent(e,n){return this.forEachFeatureInExtent(e,function(i){const s=i.getGeometry();if(s instanceof qn||s.intersectsExtent(e)){const r=n(i);if(r)return r}})}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let e;return this.featuresCollection_?e=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(e=this.featuresRtree_.getAll(),va(this.nullGeometryFeatures_)||Iu(e,Object.values(this.nullGeometryFeatures_))),e}getFeaturesAtCoordinate(e){const n=[];return this.forEachFeatureAtCoordinateDirect(e,function(i){n.push(i)}),n}getFeaturesInExtent(e,n){if(this.featuresRtree_){if(!(n&&n.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(e);const s=R1(e,n);return[].concat(...s.map(r=>this.featuresRtree_.getInExtent(r)))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]}getClosestFeatureToCoordinate(e,n){const i=e[0],s=e[1];let r=null;const a=[NaN,NaN];let o=1/0;const l=[-1/0,-1/0,1/0,1/0];return n=n||Vo,this.featuresRtree_.forEachInExtent(l,function(c){if(n(c)){const u=c.getGeometry(),h=o;if(o=u instanceof qn?0:u.closestPointXY(i,s,a,o),o<h){r=c;const d=Math.sqrt(o);l[0]=i-d,l[1]=s-d,l[2]=i+d,l[3]=s+d}}}),r}getExtent(e){return this.featuresRtree_.getExtent(e)}getFeatureById(e){const n=this.idIndex_[e.toString()];return n!==void 0?n:null}getFeatureByUid(e){const n=this.uidIndex_[e];return n!==void 0?n:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(e){const n=e.target,i=He(n),s=n.getGeometry();if(!s)i in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(n),this.nullGeometryFeatures_[i]=n);else{const a=s.getExtent();i in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[i],this.featuresRtree_&&this.featuresRtree_.insert(a,n)):this.featuresRtree_&&this.featuresRtree_.update(a,n)}const r=n.getId();if(r!==void 0){const a=r.toString();this.idIndex_[a]!==n&&(this.removeFromIdIndex_(n),this.idIndex_[a]=n)}else this.removeFromIdIndex_(n),this.uidIndex_[i]=n;this.changed(),this.dispatchEvent(new hs(Nn.CHANGEFEATURE,n))}hasFeature(e){const n=e.getId();return n!==void 0?n in this.idIndex_:He(e)in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&va(this.nullGeometryFeatures_):this.featuresCollection_?this.featuresCollection_.getLength()===0:!0}loadFeatures(e,n,i){const s=this.loadedExtentsRtree_,r=this.strategy_(e,n,i);for(let a=0,o=r.length;a<o;++a){const l=r[a];s.forEachInExtent(l,function(u){return Zr(u.extent,l)})||(++this.loadingExtentsCount_,this.dispatchEvent(new hs(Nn.FEATURESLOADSTART)),this.loader_.call(this,l,n,i,u=>{--this.loadingExtentsCount_,this.dispatchEvent(new hs(Nn.FEATURESLOADEND,void 0,u))},()=>{--this.loadingExtentsCount_,this.dispatchEvent(new hs(Nn.FEATURESLOADERROR))}),s.insert(l,{extent:l.slice()}))}this.loading=this.loader_.length<4?!1:this.loadingExtentsCount_>0}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(e){const n=this.loadedExtentsRtree_,i=n.forEachInExtent(e,function(s){if(Go(s.extent,e))return s});i&&n.remove(i)}removeFeatures(e){let n=!1;for(let i=0,s=e.length;i<s;++i)n=this.removeFeatureInternal(e[i])||n;n&&this.changed()}removeFeature(e){if(!e)return;this.removeFeatureInternal(e)&&this.changed()}removeFeatureInternal(e){const n=He(e);if(!(n in this.uidIndex_))return!1;n in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[n]:this.featuresRtree_&&this.featuresRtree_.remove(e);const i=this.featureChangeKeys_[n];i==null||i.forEach(lt),delete this.featureChangeKeys_[n];const s=e.getId();if(s!==void 0){const r=s.toString(),a=this.idIndex_[r];a===e?delete this.idIndex_[r]:Array.isArray(a)&&(a.splice(a.indexOf(e),1),a.length===1&&(this.idIndex_[r]=a[0]))}return delete this.uidIndex_[n],this.hasListener(Nn.REMOVEFEATURE)&&this.dispatchEvent(new hs(Nn.REMOVEFEATURE,e)),!0}removeFromIdIndex_(e){for(const n in this.idIndex_)if(this.idIndex_[n]===e){delete this.idIndex_[n];break}}setLoader(e){this.loader_=e}setUrl(e){Ze(this.format_,"`format` must be set when `url` is set"),this.url_=e,this.setLoader(z0(e,this.format_))}setOverlaps(e){this.overlaps_=e,this.changed()}}const Br=[0,0,0],ds=5;class Px{constructor(e){this.minZoom=e.minZoom!==void 0?e.minZoom:0,this.resolutions_=e.resolutions,Ze(mL(this.resolutions_,(s,r)=>r-s),"`resolutions` must be sorted in descending order");let n;if(!e.origins){for(let s=0,r=this.resolutions_.length-1;s<r;++s)if(!n)n=this.resolutions_[s]/this.resolutions_[s+1];else if(this.resolutions_[s]/this.resolutions_[s+1]!==n){n=void 0;break}}this.zoomFactor_=n,this.maxZoom=this.resolutions_.length-1,this.origin_=e.origin!==void 0?e.origin:null,this.origins_=null,e.origins!==void 0&&(this.origins_=e.origins,Ze(this.origins_.length==this.resolutions_.length,"Number of `origins` and `resolutions` must be equal"));const i=e.extent;i!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=Mr(i)),Ze(!this.origin_&&this.origins_||this.origin_&&!this.origins_,"Either `origin` or `origins` must be configured, never both"),this.tileSizes_=null,e.tileSizes!==void 0&&(this.tileSizes_=e.tileSizes,Ze(this.tileSizes_.length==this.resolutions_.length,"Number of `tileSizes` and `resolutions` must be equal")),this.tileSize_=e.tileSize!==void 0?e.tileSize:this.tileSizes_?null:mg,Ze(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,"Either `tileSize` or `tileSizes` must be configured, never both"),this.extent_=i!==void 0?i:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],e.sizes!==void 0?this.fullTileRanges_=e.sizes.map((s,r)=>{const a=new Ig(Math.min(0,s[0]),Math.max(s[0]-1,-1),Math.min(0,s[1]),Math.max(s[1]-1,-1));if(i){const o=this.getTileRangeForExtentAndZ(i,r);a.minX=Math.max(o.minX,a.minX),a.maxX=Math.min(o.maxX,a.maxX),a.minY=Math.max(o.minY,a.minY),a.maxY=Math.min(o.maxY,a.maxY)}return a}):i&&this.calculateTileRanges_(i)}forEachTileCoord(e,n,i){const s=this.getTileRangeForExtentAndZ(e,n);for(let r=s.minX,a=s.maxX;r<=a;++r)for(let o=s.minY,l=s.maxY;o<=l;++o)i([n,r,o])}forEachTileCoordParentTileRange(e,n,i,s){let r,a,o,l=null,c=e[0]-1;for(this.zoomFactor_===2?(a=e[1],o=e[2]):l=this.getTileCoordExtent(e,s);c>=this.minZoom;){if(a!==void 0&&o!==void 0?(a=Math.floor(a/2),o=Math.floor(o/2),r=Nr(a,a,o,o,i)):r=this.getTileRangeForExtentAndZ(l,c,i),n(c,r))return!0;--c}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(e){return this.origin_?this.origin_:this.origins_[e]}getResolution(e){return this.resolutions_[e]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(e,n,i){if(e[0]<this.maxZoom){if(this.zoomFactor_===2){const r=e[1]*2,a=e[2]*2;return Nr(r,r+1,a,a+1,n)}const s=this.getTileCoordExtent(e,i||this.tmpExtent_);return this.getTileRangeForExtentAndZ(s,e[0]+1,n)}return null}getTileRangeForTileCoordAndZ(e,n,i){if(n>this.maxZoom||n<this.minZoom)return null;const s=e[0],r=e[1],a=e[2];if(n===s)return Nr(r,a,r,a,i);if(this.zoomFactor_){const l=Math.pow(this.zoomFactor_,n-s),c=Math.floor(r*l),u=Math.floor(a*l);if(n<s)return Nr(c,c,u,u,i);const h=Math.floor(l*(r+1))-1,d=Math.floor(l*(a+1))-1;return Nr(c,h,u,d,i)}const o=this.getTileCoordExtent(e,this.tmpExtent_);return this.getTileRangeForExtentAndZ(o,n,i)}getTileRangeForExtentAndZ(e,n,i){this.getTileCoordForXYAndZ_(e[0],e[3],n,!1,Br);const s=Br[1],r=Br[2];this.getTileCoordForXYAndZ_(e[2],e[1],n,!0,Br);const a=Br[1],o=Br[2];return Nr(s,a,r,o,i)}getTileCoordCenter(e){const n=this.getOrigin(e[0]),i=this.getResolution(e[0]),s=yn(this.getTileSize(e[0]),this.tmpSize_);return[n[0]+(e[1]+.5)*s[0]*i,n[1]-(e[2]+.5)*s[1]*i]}getTileCoordExtent(e,n){const i=this.getOrigin(e[0]),s=this.getResolution(e[0]),r=yn(this.getTileSize(e[0]),this.tmpSize_),a=i[0]+e[1]*r[0]*s,o=i[1]-(e[2]+1)*r[1]*s,l=a+r[0]*s,c=o+r[1]*s;return Yi(a,o,l,c,n)}getTileCoordForCoordAndResolution(e,n,i){return this.getTileCoordForXYAndResolution_(e[0],e[1],n,!1,i)}getTileCoordForXYAndResolution_(e,n,i,s,r){const a=this.getZForResolution(i),o=i/this.getResolution(a),l=this.getOrigin(a),c=yn(this.getTileSize(a),this.tmpSize_);let u=o*(e-l[0])/i/c[0],h=o*(l[1]-n)/i/c[1];return s?(u=Ul(u,ds)-1,h=Ul(h,ds)-1):(u=Wl(u,ds),h=Wl(h,ds)),nu(a,u,h,r)}getTileCoordForXYAndZ_(e,n,i,s,r){const a=this.getOrigin(i),o=this.getResolution(i),l=yn(this.getTileSize(i),this.tmpSize_);let c=(e-a[0])/o/l[0],u=(a[1]-n)/o/l[1];return s?(c=Ul(c,ds)-1,u=Ul(u,ds)-1):(c=Wl(c,ds),u=Wl(u,ds)),nu(i,c,u,r)}getTileCoordForCoordAndZ(e,n,i){return this.getTileCoordForXYAndZ_(e[0],e[1],n,!1,i)}getTileCoordResolution(e){return this.resolutions_[e[0]]}getTileSize(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]}getFullTileRange(e){return this.fullTileRanges_?this.fullTileRanges_[e]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,e):null}getZForResolution(e,n){const i=Yf(this.resolutions_,e,n||0);return st(i,this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(e,n){return q1(n,0,n.length,2,this.getTileCoordExtent(e))}calculateTileRanges_(e){const n=this.resolutions_.length,i=new Array(n);for(let s=this.minZoom;s<n;++s)i[s]=this.getTileRangeForExtentAndZ(e,s);this.fullTileRanges_=i}}class jN extends Px{constructor(e){super({extent:e.extent,origin:e.origin,origins:e.origins,resolutions:e.resolutions,tileSize:e.tileSize,tileSizes:e.tileSizes,sizes:e.sizes}),this.matrixIds_=e.matrixIds}getMatrixId(e){return this.matrixIds_[e]}getMatrixIds(){return this.matrixIds_}}function HN(t,e,n){const i=[],s=[],r=[],a=[],o=[];n=n!==void 0?n:[];const l="SupportedCRS",c="TileMatrix",u="Identifier",h="ScaleDenominator",d="TopLeftCorner",f="TileWidth",g="TileHeight",m=t[l],v=vt(m),y=v.getMetersPerUnit(),_=v.getAxisOrientation().startsWith("ne");return t[c].sort(function(p,x){return x[h]-p[h]}),t[c].forEach(function(p){let x;if(n.length>0?x=n.find(function(b){return p[u]==b[c]?!0:p[u].includes(":")?!1:t[u]+":"+p[u]===b[c]}):x=!0,x){s.push(p[u]);const b=p[h]*28e-5/y,C=p[f],M=p[g];_?r.push([p[d][1],p[d][0]]):r.push(p[d]),i.push(b),a.push(C==M?C:[C,M]),o.push([p.MatrixWidth,p.MatrixHeight])}}),new jN({extent:e,origins:r,resolutions:i,matrixIds:s,tileSizes:a,sizes:o})}function X0(t,e){const n=[];Object.keys(e).forEach(function(s){e[s]!==null&&e[s]!==void 0&&n.push(s+"="+encodeURIComponent(e[s]))});const i=n.join("&");return t=t.replace(/[?&]$/,""),t+=t.includes("?")?"&":"?",t+i}const XN=/\{z\}/g,qN=/\{x\}/g,KN=/\{y\}/g,YN=/\{-y\}/g;function ZN(t,e,n,i,s){return t.replace(XN,e.toString()).replace(qN,n.toString()).replace(KN,i.toString()).replace(YN,function(){if(s===void 0)throw new Error("If the URL template has a {-y} placeholder, the grid extent must be known");return(s-i).toString()})}function Lx(t){const e=[];let n=/\{([a-z])-([a-z])\}/.exec(t);if(n){const i=n[1].charCodeAt(0),s=n[2].charCodeAt(0);let r;for(r=i;r<=s;++r)e.push(t.replace(n[0],String.fromCharCode(r)));return e}if(n=/\{(\d+)-(\d+)\}/.exec(t),n){const i=parseInt(n[2],10);for(let s=parseInt(n[1],10);s<=i;s++)e.push(t.replace(n[0],s.toString()));return e}return e.push(t),e}function JN(t,e){return function(n,i,s){if(!n)return;let r;const a=n[0];if(e){const o=e.getFullTileRange(a);o&&(r=o.getHeight()-1)}return ZN(t,a,n[1],n[2],r)}}function QN(t,e){const n=t.length,i=new Array(n);for(let s=0;s<n;++s)i[s]=JN(t[s],e);return jd(i)}function jd(t){return t.length===1?t[0]:function(e,n,i){if(!e)return;const s=tN(e),r=aa(s,t.length);return t[r](e,n,i)}}function Ox(t){let e=t.getDefaultTileGrid();return e||(e=iF(t),t.setDefaultTileGrid(e)),e}function eF(t,e,n){const i=e[0],s=t.getTileCoordCenter(e),r=kx(n);if(!ya(r,s)){const a=Xe(r),o=Math.ceil((r[0]-s[0])/a);return s[0]+=a*o,t.getTileCoordForCoordAndZ(s,i)}return e}function tF(t,e,n,i){i=i!==void 0?i:"top-left";const s=nF(t,e,n);return new Px({extent:t,origin:LL(t,i),resolutions:s,tileSize:n})}function nF(t,e,n,i){e=e!==void 0?e:jO,n=yn(n!==void 0?n:mg);const s=Jt(t),r=Xe(t);i=i>0?i:Math.max(r/n[0],s/n[1]);const a=e+1,o=new Array(a);for(let l=0;l<a;++l)o[l]=i/Math.pow(2,l);return o}function iF(t,e,n,i){const s=kx(t);return tF(s,e,n,i)}function kx(t){t=vt(t);let e=t.getExtent();if(!e){const n=180*ng.degrees/t.getMetersPerUnit();e=Yi(-n,-n,n,n)}return e}class sF extends Ix{constructor(e){super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX,interpolate:e.interpolate}),this.on,this.once,this.un,this.tilePixelRatio_=e.tilePixelRatio!==void 0?e.tilePixelRatio:1,this.tileGrid=e.tileGrid!==void 0?e.tileGrid:null;const n=[256,256];this.tileGrid&&yn(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),n),this.tmpSize=[0,0],this.key_=e.key||He(this),this.tileOptions={transition:e.transition,interpolate:e.interpolate},this.zDirection=e.zDirection?e.zDirection:0}getGutterForProjection(e){return 0}getKey(){return this.key_}setKey(e){this.key_!==e&&(this.key_=e,this.changed())}getResolutions(e){const n=e?this.getTileGridForProjection(e):this.tileGrid;return n?n.getResolutions():null}getTile(e,n,i,s,r){return Ve()}getTileGrid(){return this.tileGrid}getTileGridForProjection(e){return this.tileGrid?this.tileGrid:Ox(e)}getTilePixelRatio(e){return this.tilePixelRatio_}getTilePixelSize(e,n,i){const s=this.getTileGridForProjection(i),r=this.getTilePixelRatio(n),a=yn(s.getTileSize(e),this.tmpSize);return r==1?a:$k(a,r,this.tmpSize)}getTileCoordForTileUrlFunction(e,n){const i=n!==void 0?n:this.getProjection(),s=n!==void 0?this.getTileGridForProjection(i):this.tileGrid||this.getTileGridForProjection(i);return this.getWrapX()&&i.isGlobal()&&(e=eF(s,e,i)),iN(e,s)?e:null}clear(){}refresh(){this.clear(),super.refresh()}}class rF extends ns{constructor(e,n){super(e),this.tile=n}}const Hh={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"};class Ag extends sF{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===Ag.prototype.tileUrlFunction,this.tileLoadFunction=e.tileLoadFunction,e.tileUrlFunction&&(this.tileUrlFunction=e.tileUrlFunction),this.urls=null,e.urls?this.setUrls(e.urls):e.url&&this.setUrl(e.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(e){const n=e.target,i=He(n),s=n.getState();let r;s==_e.LOADING?(this.tileLoadingKeys_[i]=!0,r=Hh.TILELOADSTART):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],r=s==_e.ERROR?Hh.TILELOADERROR:s==_e.LOADED?Hh.TILELOADEND:void 0),r!=null&&this.dispatchEvent(new rF(r,n))}setTileLoadFunction(e){this.tileLoadFunction=e,this.changed()}setTileUrlFunction(e,n){this.tileUrlFunction=e,typeof n<"u"?this.setKey(n):this.changed()}setUrl(e){const n=Lx(e);this.urls=n,this.setUrls(n)}setUrls(e){this.urls=e;const n=e.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(QN(e,this.tileGrid),n):this.setKey(n)}tileUrlFunction(e,n,i){}}class aF extends Ag{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:oF,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate!==void 0?e.interpolate:!0,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.crossOrigin=e.crossOrigin!==void 0?e.crossOrigin:null,this.tileClass=e.tileClass!==void 0?e.tileClass:px,this.tileGridForProjection={},this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}getGutterForProjection(e){return this.getProjection()&&e&&!So(this.getProjection(),e)?0:this.getGutter()}getGutter(){return 0}getKey(){let e=super.getKey();return this.getInterpolate()||(e+=":disable-interpolation"),e}getTileGridForProjection(e){const n=this.getProjection();if(this.tileGrid&&(!n||So(n,e)))return this.tileGrid;const i=He(e);return i in this.tileGridForProjection||(this.tileGridForProjection[i]=Ox(e)),this.tileGridForProjection[i]}createTile_(e,n,i,s,r,a){const o=[e,n,i],l=this.getTileCoordForTileUrlFunction(o,r),c=l?this.tileUrlFunction(l,s,r):void 0,u=new this.tileClass(o,c!==void 0?_e.IDLE:_e.EMPTY,c!==void 0?c:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return u.key=a,u.addEventListener(Ie.CHANGE,this.handleTileChange.bind(this)),u}getTile(e,n,i,s,r){const a=this.getProjection();if(!a||!r||So(a,r))return this.getTileInternal(e,n,i,s,a||r);const o=[e,n,i],l=this.getKey(),c=this.getTileGridForProjection(a),u=this.getTileGridForProjection(r),h=this.getTileCoordForTileUrlFunction(o,r),d=new xx(a,c,r,u,o,h,this.getTilePixelRatio(s),this.getGutter(),(f,g,m,v)=>this.getTileInternal(f,g,m,v,a),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.tileOptions);return d.key=l,d}getTileInternal(e,n,i,s,r){const a=this.getKey();return this.createTile_(e,n,i,s,r,a)}setRenderReprojectionEdges(e){this.renderReprojectionEdges_!=e&&(this.renderReprojectionEdges_=e,this.changed())}setTileGridForProjection(e,n){const i=vt(e);if(i){const s=He(i);s in this.tileGridForProjection||(this.tileGridForProjection[s]=n)}}}function oF(t,e){t.getImage().src=e}class lF extends aF{constructor(e){const n=e.requestEncoding!==void 0?e.requestEncoding:"KVP",i=e.tileGrid;let s=e.urls;s===void 0&&e.url!==void 0&&(s=Lx(e.url)),super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,projection:e.projection,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileClass:e.tileClass,tileGrid:i,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,urls:s,wrapX:e.wrapX!==void 0?e.wrapX:!1,transition:e.transition,zDirection:e.zDirection}),this.version_=e.version!==void 0?e.version:"1.0.0",this.format_=e.format!==void 0?e.format:"image/jpeg",this.dimensions_=e.dimensions!==void 0?e.dimensions:{},this.layer_=e.layer,this.matrixSet_=e.matrixSet,this.style_=e.style,this.requestEncoding_=n,this.setKey(this.getKeyForDimensions_()),s&&s.length>0&&(this.tileUrlFunction=jd(s.map(this.createFromWMTSTemplate.bind(this))))}setUrls(e){this.urls=e;const n=e.join(`
`);this.setTileUrlFunction(jd(e.map(this.createFromWMTSTemplate.bind(this))),n)}getDimensions(){return this.dimensions_}getFormat(){return this.format_}getLayer(){return this.layer_}getMatrixSet(){return this.matrixSet_}getRequestEncoding(){return this.requestEncoding_}getStyle(){return this.style_}getVersion(){return this.version_}getKeyForDimensions_(){const e=this.urls?this.urls.slice(0):[];for(const n in this.dimensions_)e.push(n+"-"+this.dimensions_[n]);return e.join("/")}updateDimensions(e){Object.assign(this.dimensions_,e),this.setKey(this.getKeyForDimensions_())}createFromWMTSTemplate(e){const n=this.requestEncoding_,i={layer:this.layer_,style:this.style_,tilematrixset:this.matrixSet_};n=="KVP"&&Object.assign(i,{Service:"WMTS",Request:"GetTile",Version:this.version_,Format:this.format_}),e=n=="KVP"?X0(e,i):e.replace(/\{(\w+?)\}/g,function(a,o){return o.toLowerCase()in i?i[o.toLowerCase()]:a});const s=this.tileGrid,r=this.dimensions_;return function(a,o,l){if(!a)return;const c={TileMatrix:s.getMatrixId(a[0]),TileCol:a[1],TileRow:a[2]};Object.assign(c,r);let u=e;return n=="KVP"?u=X0(u,c):u=u.replace(/\{(\w+?)\}/g,function(h,d){return encodeURIComponent(c[d])}),u}}}function cF(t,e){const n=t.Contents.Layer,i=n==null?void 0:n.find(function(w){return w.Identifier==e.layer});if(!i)return null;const s=t.Contents.TileMatrixSet;let r;i.TileMatrixSetLink.length>1?"projection"in e?r=i.TileMatrixSetLink.findIndex(function(w){const D=s.find(function(H){return H.Identifier==w.TileMatrixSet}).SupportedCRS,X=vt(D),G=vt(e.projection);return X&&G?So(X,G):D==e.projection}):r=i.TileMatrixSetLink.findIndex(function(w){return w.TileMatrixSet==e.matrixSet}):r=0,r<0&&(r=0);const a=i.TileMatrixSetLink[r].TileMatrixSet,o=i.TileMatrixSetLink[r].TileMatrixSetLimits;let l=i.Format[0];"format"in e&&(l=e.format),r=i.Style.findIndex(function(w){return"style"in e?w.Title==e.style:w.isDefault}),r<0&&(r=0);const c=i.Style[r].Identifier,u={};"Dimension"in i&&i.Dimension.forEach(function(w,A,D){const X=w.Identifier;let G=w.Default;G===void 0&&(G=w.Value[0]),u[X]=G});const d=t.Contents.TileMatrixSet.find(function(w){return w.Identifier==a});let f;const g=d.SupportedCRS;if(g&&(f=vt(g)),"projection"in e){const w=vt(e.projection);w&&(!f||So(w,f))&&(f=w)}let m=!1;const v=f.getAxisOrientation().startsWith("ne");let y=d.TileMatrix[0],_={MinTileCol:0,MinTileRow:0,MaxTileCol:y.MatrixWidth-1,MaxTileRow:y.MatrixHeight-1};if(o){_=o[o.length-1];const w=d.TileMatrix.find(A=>A.Identifier===_.TileMatrix||d.Identifier+":"+A.Identifier===_.TileMatrix);w&&(y=w)}const p=y.ScaleDenominator*28e-5/f.getMetersPerUnit(),x=v?[y.TopLeftCorner[1],y.TopLeftCorner[0]]:y.TopLeftCorner,b=y.TileWidth*p,C=y.TileHeight*p;let M=d.BoundingBox;M&&v&&(M=[M[1],M[0],M[3],M[2]]);let E=[x[0]+b*_.MinTileCol,x[1]-C*(1+_.MaxTileRow),x[0]+b*(1+_.MaxTileCol),x[1]-C*_.MinTileRow];if(M!==void 0&&!Zr(M,E)){const w=i.WGS84BoundingBox,A=vt("EPSG:4326").getExtent();if(E=M,w)m=w[0]===A[0]&&w[2]===A[2];else{const D=gO(M,d.SupportedCRS,"EPSG:4326");m=D[0]-1e-10<=A[0]&&D[2]+1e-10>=A[2]}}const R=HN(d,E,o),O=[];let k=e.requestEncoding;if(k=k!==void 0?k:"","OperationsMetadata"in t&&"GetTile"in t.OperationsMetadata){const w=t.OperationsMetadata.GetTile.DCP.HTTP.Get;for(let A=0,D=w.length;A<D;++A)if(w[A].Constraint){const G=w[A].Constraint.find(function(H){return H.name=="GetEncoding"}).AllowedValues.Value;if(k===""&&(k=G[0]),k==="KVP")G.includes("KVP")&&O.push(w[A].href);else break}else w[A].href&&(k="KVP",O.push(w[A].href))}return O.length===0&&(k="REST",i.ResourceURL.forEach(function(w){w.resourceType==="tile"&&(l=w.format,O.push(w.template))})),{urls:O,layer:e.layer,matrixSet:a,format:l,projection:f,requestEncoding:k,tileGrid:R,style:c,dimensions:u,wrapX:m,crossOrigin:e.crossOrigin}}function Pg(t,e){return Dx(t,e,[]).join("")}function Dx(t,e,n){if(t.nodeType==Node.CDATA_SECTION_NODE||t.nodeType==Node.TEXT_NODE)n.push(t.nodeValue);else{let i;for(i=t.firstChild;i;i=i.nextSibling)Dx(i,e,n)}return n}function uF(t){return"documentElement"in t}function hF(t){return new DOMParser().parseFromString(t,"application/xml")}function Hd(t,e){return function(n,i){const s=t.call(this,n,i);s!==void 0&&i[i.length-1].push(s)}}function hn(t,e,n){return function(i,s){const r=t.call(this,i,s);if(r!==void 0){const a=s[s.length-1],o=i.localName;let l;o in a?l=a[o]:(l=[],a[o]=l),l.push(r)}}}function fe(t,e,n){return function(i,s){const r=t.call(this,i,s);if(r!==void 0){const a=s[s.length-1],o=i.localName;a[o]=r}}}function Qe(t,e,n){n=n!==void 0?n:{};let i,s;for(i=0,s=t.length;i<s;++i)n[t[i]]=e;return n}function dF(t,e,n,i){let s;for(s=e.firstElementChild;s;s=s.nextElementSibling){const r=t[s.namespaceURI];if(r!==void 0){const a=r[s.localName];a!==void 0&&a.call(i,s,n)}}}function it(t,e,n,i,s){return i.push(t),dF(e,n,i,s),i.pop()}class Nx{read(e){if(!e)return null;if(typeof e=="string"){const n=hF(e);return this.readFromDocument(n)}return uF(e)?this.readFromDocument(e):this.readFromNode(e)}readFromDocument(e){for(let n=e.firstChild;n;n=n.nextSibling)if(n.nodeType==Node.ELEMENT_NODE)return this.readFromNode(n);return null}readFromNode(e){Ve()}}const fF="http://www.w3.org/1999/xlink";function Lg(t){return t.getAttributeNS(fF,"href")}function gF(t){const e=Pg(t,!1);return mF(e)}function mF(t){const e=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(t);if(e)return parseFloat(e[1])}function bs(t){const e=Pg(t,!1);return vF(e)}function vF(t){const e=/^\s*(\d+)\s*$/.exec(t);if(e)return parseInt(e[1],10)}function Be(t){return Pg(t,!1).trim()}const En=[null,"http://www.opengis.net/ows/1.1"],yF=Qe(En,{ServiceIdentification:fe(zF),ServiceProvider:fe(UF),OperationsMetadata:fe($F)});class _F extends Nx{constructor(){super()}readFromNode(e){const n=it({},yF,e,[]);return n||null}}const pF=Qe(En,{DeliveryPoint:fe(Be),City:fe(Be),AdministrativeArea:fe(Be),PostalCode:fe(Be),Country:fe(Be),ElectronicMailAddress:fe(Be)}),xF=Qe(En,{Value:hn(jF)}),bF=Qe(En,{AllowedValues:fe(OF)}),SF=Qe(En,{Phone:fe(GF),Address:fe(LF)}),EF=Qe(En,{HTTP:fe(BF)}),CF=Qe(En,{Get:hn(FF),Post:void 0}),wF=Qe(En,{DCP:fe(NF)}),MF=Qe(En,{Operation:VF}),TF=Qe(En,{Voice:fe(Be),Facsimile:fe(Be)}),RF=Qe(En,{Constraint:hn(kF)}),IF=Qe(En,{IndividualName:fe(Be),PositionName:fe(Be),ContactInfo:fe(DF)}),AF=Qe(En,{Abstract:fe(Be),AccessConstraints:fe(Be),Fees:fe(Be),Title:fe(Be),ServiceTypeVersion:fe(Be),ServiceType:fe(Be)}),PF=Qe(En,{ProviderName:fe(Be),ProviderSite:fe(Lg),ServiceContact:fe(WF)});function LF(t,e){return it({},pF,t,e)}function OF(t,e){return it({},xF,t,e)}function kF(t,e){const n=t.getAttribute("name");if(n)return it({name:n},bF,t,e)}function DF(t,e){return it({},SF,t,e)}function NF(t,e){return it({},EF,t,e)}function FF(t,e){const n=Lg(t);if(n)return it({href:n},RF,t,e)}function BF(t,e){return it({},CF,t,e)}function VF(t,e){const n=t.getAttribute("name"),i=it({},wF,t,e);if(!i)return;const s=e[e.length-1];s[n]=i}function $F(t,e){return it({},MF,t,e)}function GF(t,e){return it({},TF,t,e)}function zF(t,e){return it({},AF,t,e)}function WF(t,e){return it({},IF,t,e)}function UF(t,e){return it({},PF,t,e)}function jF(t,e){return Be(t)}const Ai=[null,"http://www.opengis.net/wmts/1.0"],Oa=[null,"http://www.opengis.net/ows/1.1"],HF=Qe(Ai,{Contents:fe(i3)});class XF extends Nx{constructor(){super(),this.owsParser_=new _F}readFromNode(e){let n=e.getAttribute("version");n&&(n=n.trim());let i=this.owsParser_.readFromNode(e);return i?(i.version=n,i=it(i,HF,e,[]),i||null):null}}const qF=Qe(Ai,{Layer:hn(s3),TileMatrixSet:hn(r3)}),KF=Qe(Ai,{Style:hn(a3),Format:hn(Be),TileMatrixSetLink:hn(o3),Dimension:hn(l3),ResourceURL:hn(c3)},Qe(Oa,{Title:fe(Be),Abstract:fe(Be),WGS84BoundingBox:fe(Bx),BoundingBox:hn(u3),Identifier:fe(Be)})),YF=Qe(Ai,{LegendURL:hn(h3)},Qe(Oa,{Title:fe(Be),Identifier:fe(Be)})),ZF=Qe(Ai,{TileMatrixSet:fe(Be),TileMatrixSetLimits:fe(f3)}),JF=Qe(Ai,{TileMatrixLimits:Hd(g3)}),QF=Qe(Ai,{TileMatrix:fe(Be),MinTileRow:fe(bs),MaxTileRow:fe(bs),MinTileCol:fe(bs),MaxTileCol:fe(bs)}),e3=Qe(Ai,{Default:fe(Be),Value:hn(Be)},Qe(Oa,{Identifier:fe(Be)})),Fx=Qe(Oa,{LowerCorner:Hd(Xd),UpperCorner:Hd(Xd)}),t3=Qe(Ai,{WellKnownScaleSet:fe(Be),TileMatrix:hn(d3)},Qe(Oa,{SupportedCRS:fe(Be),Identifier:fe(Be),BoundingBox:fe(Bx)})),n3=Qe(Ai,{TopLeftCorner:fe(Xd),ScaleDenominator:fe(gF),TileWidth:fe(bs),TileHeight:fe(bs),MatrixWidth:fe(bs),MatrixHeight:fe(bs)},Qe(Oa,{Identifier:fe(Be)}));function i3(t,e){return it({},qF,t,e)}function s3(t,e){return it({},KF,t,e)}function r3(t,e){return it({},t3,t,e)}function a3(t,e){const n=it({},YF,t,e);if(!n)return;const i=t.getAttribute("isDefault")==="true";return n.isDefault=i,n}function o3(t,e){return it({},ZF,t,e)}function l3(t,e){return it({},e3,t,e)}function c3(t,e){const n=t.getAttribute("format"),i=t.getAttribute("template"),s=t.getAttribute("resourceType"),r={};return n&&(r.format=n),i&&(r.template=i),s&&(r.resourceType=s),r}function Bx(t,e){const n=it([],Fx,t,e);if(n.length==2)return jc(n)}function u3(t,e){const n=t.getAttribute("crs"),i=it([],Fx,t,e);if(i.length==2)return{extent:jc(i),crs:n}}function h3(t,e){const n={};return n.format=t.getAttribute("format"),n.href=Lg(t),n}function Xd(t,e){const n=Be(t).split(/\s+/);if(!n||n.length!=2)return;const i=+n[0],s=+n[1];if(!(isNaN(i)||isNaN(s)))return[i,s]}function d3(t,e){return it({},n3,t,e)}function f3(t,e){return it([],JF,t,e)}function g3(t,e){return it({},QF,t,e)}function m3(t){const e=Object.keys(t.defs),n=e.length;let i,s;for(i=0;i<n;++i){const r=e[i];if(!gc(r)){const a=t.defs(r);let o=a.units;!o&&a.projName==="longlat"&&(o="degrees"),Kc(new ml({code:r,axisOrientation:a.axis,metersPerUnit:a.to_meter,units:o}))}}for(i=0;i<n;++i){const r=e[i],a=gc(r);for(s=0;s<n;++s){const o=e[s],l=gc(o);if(!mc(r,o))if(t.defs[r]===t.defs[o])Nd([a,l]);else{const c=t(r,o);fO(a,l,n0(a,l,c.forward),n0(l,a,c.inverse))}}}}var v3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function y3(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Og(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var s=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:function(){return t[i]}})}),n}var Vx={exports:{}};const _3=Og(QO),p3=Og(yL),x3=Og(Ck);(function(t,e){(function(n,i){t.exports=i(_3,p3,x3)})(v3,function(n,i,s){n="default"in n?n.default:n,s="default"in s?s.default:s;const r="layer-switcher-";class a extends n{constructor(l){const c=Object.assign({},l),u=document.createElement("div");super({element:u,target:c.target}),this.activationMode=c.activationMode||"mouseover",this.startActive=c.startActive===!0,this.label=c.label!==void 0?c.label:"",this.collapseLabel=c.collapseLabel!==void 0?c.collapseLabel:"",this.tipLabel=c.tipLabel?c.tipLabel:"Legend",this.collapseTipLabel=c.collapseTipLabel?c.collapseTipLabel:"Collapse legend",this.groupSelectStyle=a.getGroupSelectStyle(c.groupSelectStyle),this.reverse=c.reverse!==!1,this.mapListeners=[],this.hiddenClassName="ol-unselectable ol-control layer-switcher",a.isTouchDevice_()&&(this.hiddenClassName+=" touch"),this.shownClassName="shown",u.className=this.hiddenClassName,this.button=document.createElement("button"),u.appendChild(this.button),this.panel=document.createElement("div"),this.panel.className="panel",u.appendChild(this.panel),a.enableTouchScroll_(this.panel),u.classList.add(r+"group-select-style-"+this.groupSelectStyle),u.classList.add(r+"activation-mode-"+this.activationMode),this.activationMode==="click"?(u.classList.add("activationModeClick"),this.button.onclick=h=>{const d=h||window.event;this.element.classList.contains(this.shownClassName)?this.hidePanel():this.showPanel(),d.preventDefault()}):(this.button.onmouseover=()=>{this.showPanel()},this.button.onclick=h=>{const d=h||window.event;this.showPanel(),d.preventDefault()},this.panel.onmouseout=h=>{this.panel.contains(h.relatedTarget)||this.hidePanel()}),this.updateButton()}setMap(l){for(let c=0;c<this.mapListeners.length;c++)i.unByKey(this.mapListeners[c]);this.mapListeners.length=0,super.setMap(l),l&&(this.startActive?this.showPanel():this.renderPanel(),this.activationMode!=="click"&&this.mapListeners.push(l.on("pointerdown",()=>{this.hidePanel()})))}showPanel(){this.element.classList.contains(this.shownClassName)||(this.element.classList.add(this.shownClassName),this.updateButton(),this.renderPanel()),this.dispatchEvent("show")}hidePanel(){this.element.classList.contains(this.shownClassName)&&(this.element.classList.remove(this.shownClassName),this.updateButton()),this.dispatchEvent("hide")}updateButton(){this.element.classList.contains(this.shownClassName)?(this.button.textContent=this.collapseLabel,this.button.setAttribute("title",this.collapseTipLabel),this.button.setAttribute("aria-label",this.collapseTipLabel)):(this.button.textContent=this.label,this.button.setAttribute("title",this.tipLabel),this.button.setAttribute("aria-label",this.tipLabel))}renderPanel(){this.dispatchEvent("render"),a.renderPanel(this.getMap(),this.panel,{groupSelectStyle:this.groupSelectStyle,reverse:this.reverse}),this.dispatchEvent("rendercomplete")}static renderPanel(l,c,u){const h=new Event("render");for(c.dispatchEvent(h),u=u||{},u.groupSelectStyle=a.getGroupSelectStyle(u.groupSelectStyle),a.ensureTopVisibleBaseLayerShown(l,u.groupSelectStyle);c.firstChild;)c.removeChild(c.firstChild);a.forEachRecursive(l,function(g,m,v){g.set("indeterminate",!1)}),u.groupSelectStyle==="children"||u.groupSelectStyle==="none"?a.setGroupVisibility(l):u.groupSelectStyle==="group"&&a.setChildVisibility(l);const d=document.createElement("ul");c.appendChild(d),a.renderLayers_(l,l,d,u,function(m){a.renderPanel(l,c,u)});const f=new Event("rendercomplete");c.dispatchEvent(f)}static isBaseGroup(l){if(l instanceof s){const c=l.getLayers().getArray();return c.length&&c[0].get("type")==="base"}else return!1}static setGroupVisibility(l){a.getGroupsAndLayers(l,function(u){return u instanceof s&&!u.get("combine")&&!a.isBaseGroup(u)}).reverse().forEach(function(u){const h=u.getLayersArray().map(function(d){return d.getVisible()});h.every(function(d){return d===!0})?(u.setVisible(!0),u.set("indeterminate",!1)):h.every(function(d){return d===!1})?(u.setVisible(!1),u.set("indeterminate",!1)):(u.setVisible(!0),u.set("indeterminate",!0))})}static setChildVisibility(l){a.getGroupsAndLayers(l,function(u){return u instanceof s&&!u.get("combine")&&!a.isBaseGroup(u)}).forEach(function(u){const h=u,d=h.getVisible(),f=h.get("indeterminate");h.getLayers().getArray().forEach(function(g){g.set("indeterminate",!1),(!d||f)&&g.getVisible()&&g.set("indeterminate",!0)})})}static ensureTopVisibleBaseLayerShown(l,c){let u;a.forEachRecursive(l,function(h,d,f){h.get("type")==="base"&&h.getVisible()&&(u=h)}),u&&a.setVisible_(l,u,!0,c)}static getGroupsAndLayers(l,c){const u=[];return c=c||function(h,d,f){return!0},a.forEachRecursive(l,function(h,d,f){h.get("title")&&c(h,d,f)&&u.push(h)}),u}static setVisible_(l,c,u,h){c.setVisible(u),u&&c.get("type")==="base"&&a.forEachRecursive(l,function(d,f,g){d!=c&&d.get("type")==="base"&&d.setVisible(!1)}),c instanceof s&&!c.get("combine")&&h==="children"&&c.getLayers().forEach(d=>{a.setVisible_(l,d,c.getVisible(),h)})}static renderLayer_(l,c,u,h,d){const f=document.createElement("li"),g=c.get("title"),m=a.uuid(),v=document.createElement("label");if(c instanceof s&&!c.get("combine")){const y=a.isBaseGroup(c);if(f.classList.add("group"),y&&f.classList.add(r+"base-group"),c.get("fold")){f.classList.add(r+"fold"),f.classList.add(r+c.get("fold"));const p=document.createElement("button");p.onclick=function(x){const b=x||window.event;a.toggleFold_(c,f),b.preventDefault()},f.appendChild(p)}if(!y&&h.groupSelectStyle!="none"){const p=document.createElement("input");p.type="checkbox",p.id=m,p.checked=c.getVisible(),p.indeterminate=c.get("indeterminate"),p.onchange=function(x){const b=x.target;a.setVisible_(l,c,b.checked,h.groupSelectStyle),d(c)},f.appendChild(p),v.htmlFor=m}v.innerHTML=g,f.appendChild(v);const _=document.createElement("ul");f.appendChild(_),a.renderLayers_(l,c,_,h,d)}else{f.className="layer";const y=document.createElement("input");c.get("type")==="base"?y.type="radio":y.type="checkbox",y.id=m,y.checked=c.get("visible"),y.indeterminate=c.get("indeterminate"),y.onchange=function(p){const x=p.target;a.setVisible_(l,c,x.checked,h.groupSelectStyle),d(c)},f.appendChild(y),v.htmlFor=m,v.innerHTML=g;const _=l.getView().getResolution();if(_>=c.getMaxResolution()||_<c.getMinResolution())v.className+=" disabled";else if(c.getMinZoom&&c.getMaxZoom){const p=l.getView().getZoom();(p<=c.getMinZoom()||p>c.getMaxZoom())&&(v.className+=" disabled")}f.appendChild(v)}return f}static renderLayers_(l,c,u,h,d){let f=c.getLayers().getArray().slice();h.reverse&&(f=f.reverse());for(let g=0,m;g<f.length;g++)m=f[g],m.get("title")&&u.appendChild(a.renderLayer_(l,m,g,h,d))}static forEachRecursive(l,c){l.getLayers().forEach(function(u,h,d){c(u,h,d),u instanceof s&&a.forEachRecursive(u,c)})}static uuid(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(l){const c=Math.random()*16|0;return(l=="x"?c:c&3|8).toString(16)})}static enableTouchScroll_(l){if(a.isTouchDevice_()){let c=0;l.addEventListener("touchstart",function(u){c=this.scrollTop+u.touches[0].pageY},!1),l.addEventListener("touchmove",function(u){this.scrollTop=c-u.touches[0].pageY},!1)}}static isTouchDevice_(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}static toggleFold_(l,c){c.classList.remove(r+l.get("fold")),l.set("fold",l.get("fold")==="open"?"close":"open"),c.classList.add(r+l.get("fold"))}static getGroupSelectStyle(l){return["none","children","group"].indexOf(l)>=0?l:"children"}}return window.ol&&window.ol.control&&(window.ol.control.LayerSwitcher=a),a})})(Vx);var b3=Vx.exports;const S3=y3(b3);var $x=function(t){return typeof t>"u"||t===null};const zt=Vf("mapLausanne",4,2),E3="https://tilesmn95.lausanne.ch/tiles/1.0.0/LausanneWMTS.xml",C3=[2532500,1149e3,2545625,1161e3],w3=[242e4,103e4,29e5,135e4],M3=[25379685e-1,1152088],T3="fonds_geo_osm_bdcad_couleur";en.defs("EPSG:2056","+proj=somerc +lat_0=46.95240555555556 +lon_0=7.439583333333333 +k_0=1 +x_0=2600000 +y_0=1200000 +ellps=bessel +towgs84=674.374,15.056,405.346,0,0,0,0 +units=m +no_defs");en.defs("EPSG:21781","+proj=somerc +lat_0=46.95240555555556 +lon_0=7.439583333333333 +k_0=1 +x_0=600000 +y_0=200000 +ellps=bessel +towgs84=674.4,15.1,405.3,0,0,0,0 +units=m +no_defs");m3(en);const R3=new ml({code:"EPSG:2056",extent:w3,units:"m"}),I3=new XF;async function A3(t){const e=await fetch(t);if(!e.ok){const n=`###!### ERROR in getWMTSCapabilitiesFromUrl when doing fetch(${t}: http status: ${e.status}`;throw new Error(n)}return await e.text()}function P3(t,e){const n=cF(t,{layer:e,matrixSet:"EPSG2056",format:"image/png",style:"default",crossOrigin:"anonymous"});return new lF(n)}function ec(t,e,n,i=!1){const s=new uN({visible:i,source:P3(t,n)});return s.setProperties({title:e,type:"base"}),s}async function L3(t,e){const n=[];try{const i=await A3(t),s=I3.read(i);return zt.l(`## in getWmtsBaseLayers(${t} : WMTSCapabilitiesParsed : 
`,s),n.push(ec(s,"Orthophoto 2016 (Lausanne)","orthophotos_ortho_lidar_2016",e==="orthophotos_ortho_lidar_2016")),n.push(ec(s,"Orthophoto 2024 (Lausanne)","orthophotos_ortho_lidar_2024",e==="orthophotos_ortho_lidar_2024")),n.push(ec(s,"Fond cadastral (Lausanne)","fonds_geo_osm_bdcad_gris",e==="fonds_geo_osm_bdcad_gris")),n.push(ec(s,"Plan ville (Lausanne)","fonds_geo_osm_bdcad_couleur",e==="fonds_geo_osm_bdcad_couleur")),n}catch(i){const s=`###!### ERROR in getWmtsBaseLayers occured with url:${t}: error is: ${i}`;return console.warn(s),[]}}const Gx=(t,e)=>{if(zt.t(`## in getLayerByName layerName: ${e} `),$x(t))return zt.w("NO WAY : olMap is NULL"),null;const n=t.getAllLayers();for(const i of n)if(i.get("name")!==void 0&&i.get("name")===e)return i;return zt.l(`## in getLayerByName : the layer [${e}] was not found returning NULL `),null},zx=t=>{let e="rgba(255, 0, 0, 0.9)",n="rgba(255, 255, 255, 0.3)";const i=[];return i.push(new zn({image:new Ea({fill:new wi({color:e}),stroke:new Ts({width:1,color:e}),points:2,radius:20})})),i.push(new zn({image:new Ea({fill:new wi({color:e}),stroke:new Ts({width:1,color:e}),points:2,radius:20,angle:Math.PI/2})})),i.push(new zn({image:new La({fill:new wi({color:n}),stroke:new Ts({width:1,color:e}),radius:15})})),i},qd={strokeColor:"black",strokeWidth:2,fillColor:"rgba(0, 0, 255, 0.1)",vertexFillColor:"yellow",vertexRadius:3},O3=t=>{const e={...qd,...t};return[new zn({stroke:new Ts({color:e.strokeColor,width:e.strokeWidth}),fill:new wi({color:e.fillColor})}),new zn({image:new La({radius:e.vertexRadius,fill:new wi({color:e.vertexFillColor})}),geometry:function(n){if(n&&n.getGeometry())try{const i=n.getGeometry().getCoordinates()[0];return new Tg(i)}catch(i){console.error("Error getting geometry coordinates:",i);return}}})]},k3=(t,e,n)=>{zt.t(`In redrawMarker layerName: ${e} center: [${n[0]}, ${n[1]}]`);const i=Gx(t,e);if(i!==null){const s=i.getSource();if(s!==null){const r=new xl({geometry:new xr(n)});r.setStyle(zx()),s.clear(),s.addFeature(r)}}else zt.w(`In redrawMarker layer ${e} not found`)},D3=(t,e,n,i=!0,s=qd)=>{const r={...qd,...s};zt.t(`In drawBBox layerName: ${e} bbox: [${n[0]}, ${n[1]}, ${n[2]}, ${n[3]}]`);const[a,o,l,c]=n,u=[[a,o],[l,o],[l,c],[a,c],[a,o]];let h=Gx(t,e);h==null&&(zt.w(`In drawBBox layer ${e} not found, will create it`),h=new Rx({source:new Ax}),h.setProperties({title:e,name:e}),t.addLayer(h));const d=h.getSource();if(d!==null){const f=new xl({geometry:new pa([u])});f.setStyle(O3(r)),i&&d.clear(),d.addFeature(f)}};async function N3(t,e=M3,n=16,i="PointLayer",s=T3){zt.t(`createLausanneMap(x,y: [${e[0]},${e[1]}]  zoom:${n})`);const r=await L3(E3,s);if(r===null||r.length<1)return zt.w("arrBaseLayers cannot be null or empty to be able to see a nice map !"),null;if($x(t))return zt.e("divOfMap cannot be null  i need a div the map !"),null;const a=new GD({target:t,layers:r,view:new vi({projection:R3,center:e,zoom:n,constrainResolution:!0,extent:C3,resolutions:[50,20,10,5,2.5,1,.5,.25,.1,.05]})}),o=new xl({geometry:new xr(e)}),l=new Rx({source:new Ax({features:[o]}),style:zx});l.setProperties({title:i,name:i}),a.addLayer(l);const c=new S3({tipLabel:"Lgende",groupSelectStyle:"children"});return a.addControl(c),a}const F3=(t,e,n,i,s)=>`/${t}/default/${e}/swissgrid_05/${n}/${i}/${s}.png`,B3=(t,e,n,i,s)=>`/tiles/1.0.0/${t}/default/${e}/swissgrid_05/${n}/${i}/${s}`,V3=async(t,e,n,i)=>{const s=`${Bf}/getTileByXY/${t}/${e}/${n}/${i}`;zt.l(`getTileByXY url:${s}`);try{const r=await mt.get(s,{timeout:Ep});return zt.l("getTileByXY response:",r),r.data}catch(r){return zt.e("getTileByXY error:",r),null}},$3=async()=>{const t=`${Bf}/layersInfo`;zt.l(`url:${t}`);try{return(await mt.get(t,{timeout:Ep})).data}catch(e){return zt.e("error:",e),[]}},G3=de()({name:"VCardActions",props:Pe(),setup(t,e){let{slots:n}=e;return wr({VBtn:{slim:!0,variant:"text"}}),Me(()=>{var i;return S("div",{class:["v-card-actions",t.class],style:t.style},[(i=n.default)==null?void 0:i.call(n)])}),{}}}),ut=ee({tag:{type:[String,Object,Function],default:"div"}},"tag"),z3=ee({opacity:[Number,String],...Pe(),...ut()},"VCardSubtitle"),W3=de()({name:"VCardSubtitle",props:z3(),setup(t,e){let{slots:n}=e;return Me(()=>S(t.tag,{class:["v-card-subtitle",t.class],style:[{"--v-card-subtitle-opacity":t.opacity},t.style]},n)),{}}}),U3=lp("v-card-title"),j3=ee({defaults:Object,disabled:Boolean,reset:[Number,String],root:[Boolean,String],scoped:Boolean},"VDefaultsProvider"),_t=de(!1)({name:"VDefaultsProvider",props:j3(),setup(t,e){let{slots:n}=e;const{defaults:i,disabled:s,reset:r,root:a,scoped:o}=yf(t);return wr(i,{reset:r,root:a,scoped:o,disabled:s}),()=>{var l;return(l=n.default)==null?void 0:l.call(n)}}});function kg(t){return Af(()=>{const e=[],n={};if(t.value.background)if(md(t.value.background)){if(n.backgroundColor=t.value.background,!t.value.text&&uw(t.value.background)){const i=_i(t.value.background);if(i.a==null||i.a===1){const s=op(i);n.color=s,n.caretColor=s}}}else e.push(`bg-${t.value.background}`);return t.value.text&&(md(t.value.text)?(n.color=t.value.text,n.caretColor=t.value.text):e.push(`text-${t.value.text}`)),{colorClasses:e,colorStyles:n}})}function Ji(t,e){const n=I(()=>({text:ct(t)?t.value:e?t[e]:null})),{colorClasses:i,colorStyles:s}=kg(n);return{textColorClasses:i,textColorStyles:s}}function Mi(t,e){const n=I(()=>({background:ct(t)?t.value:e?t[e]:null})),{colorClasses:i,colorStyles:s}=kg(n);return{backgroundColorClasses:i,backgroundColorStyles:s}}const H3=["x-small","small","default","large","x-large"],Sl=ee({size:{type:[String,Number],default:"default"}},"size");function El(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ri();return Af(()=>{let n,i;return Mc(H3,t.size)?n=`${e}--size-${t.size}`:t.size&&(i={width:Ee(t.size),height:Ee(t.size)}),{sizeClasses:n,sizeStyles:i}})}const X3=ee({color:String,disabled:Boolean,start:Boolean,end:Boolean,icon:ze,opacity:[String,Number],...Pe(),...Sl(),...ut({tag:"i"}),...pt()},"VIcon"),Tt=de()({name:"VIcon",props:X3(),setup(t,e){let{attrs:n,slots:i}=e;const s=le(),{themeClasses:r}=OM(),{iconData:a}=AM(I(()=>s.value||t.icon)),{sizeClasses:o}=El(t),{textColorClasses:l,textColorStyles:c}=Ji(ye(t,"color"));return Me(()=>{var d,f;const u=(d=i.default)==null?void 0:d.call(i);u&&(s.value=(f=K_(u).filter(g=>g.type===il&&g.children&&typeof g.children=="string")[0])==null?void 0:f.children);const h=!!(n.onClick||n.onClickOnce);return S(a.value.component,{tag:t.tag,icon:a.value.icon,class:["v-icon","notranslate",r.value,o.value,l.value,{"v-icon--clickable":h,"v-icon--disabled":t.disabled,"v-icon--start":t.start,"v-icon--end":t.end},t.class],style:[{"--v-icon-opacity":t.opacity},o.value?void 0:{fontSize:Ee(t.size),height:Ee(t.size),width:Ee(t.size)},c.value,t.style],role:h?"button":void 0,"aria-hidden":!h,tabindex:h?t.disabled?-1:0:void 0},{default:()=>[u]})}),{}}}),ai=ee({height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},"dimension");function oi(t){return{dimensionStyles:I(()=>{const n={},i=Ee(t.height),s=Ee(t.maxHeight),r=Ee(t.maxWidth),a=Ee(t.minHeight),o=Ee(t.minWidth),l=Ee(t.width);return i!=null&&(n.height=i),s!=null&&(n.maxHeight=s),r!=null&&(n.maxWidth=r),a!=null&&(n.minHeight=a),o!=null&&(n.minWidth=o),l!=null&&(n.width=l),n})}}function q3(t){return{aspectStyles:I(()=>{const e=Number(t.aspectRatio);return e?{paddingBottom:String(1/e*100)+"%"}:void 0})}}const Wx=ee({aspectRatio:[String,Number],contentClass:null,inline:Boolean,...Pe(),...ai()},"VResponsive"),q0=de()({name:"VResponsive",props:Wx(),setup(t,e){let{slots:n}=e;const{aspectStyles:i}=q3(t),{dimensionStyles:s}=oi(t);return Me(()=>{var r;return S("div",{class:["v-responsive",{"v-responsive--inline":t.inline},t.class],style:[s.value,t.style]},[S("div",{class:"v-responsive__sizer",style:i.value},null),(r=n.additional)==null?void 0:r.call(n),n.default&&S("div",{class:["v-responsive__content",t.contentClass]},[n.default()])])}),{}}}),jn=ee({rounded:{type:[Boolean,Number,String],default:void 0},tile:Boolean},"rounded");function Hn(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ri();return{roundedClasses:I(()=>{const i=ct(t)?t.value:t.rounded,s=ct(t)?t.value:t.tile,r=[];if(i===!0||i==="")r.push(`${e}--rounded`);else if(typeof i=="string"||i===0)for(const a of String(i).split(" "))r.push(`rounded-${a}`);else(s||i===!1)&&r.push("rounded-0");return r})}}const Cl=ee({transition:{type:[Boolean,String,Object],default:"fade-transition",validator:t=>t!==!0}},"transition"),Ss=(t,e)=>{let{slots:n}=e;const{transition:i,disabled:s,group:r,...a}=t,{component:o=r?Rf:fr,...l}=typeof i=="object"?i:{};return Ds(o,ke(typeof i=="string"?{name:s?"":i}:l,typeof i=="string"?{}:Object.fromEntries(Object.entries({disabled:s,group:r}).filter(c=>{let[u,h]=c;return h!==void 0})),a),n)};function K3(t,e){if(!If)return;const n=e.modifiers||{},i=e.value,{handler:s,options:r}=typeof i=="object"?i:{handler:i,options:{}},a=new IntersectionObserver(function(){var h;let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],l=arguments.length>1?arguments[1]:void 0;const c=(h=t._observe)==null?void 0:h[e.instance.$.uid];if(!c)return;const u=o.some(d=>d.isIntersecting);s&&(!n.quiet||c.init)&&(!n.once||u||c.init)&&s(u,o,l),u&&n.once?Ux(t,e):c.init=!0},r);t._observe=Object(t._observe),t._observe[e.instance.$.uid]={init:!1,observer:a},a.observe(t)}function Ux(t,e){var i;const n=(i=t._observe)==null?void 0:i[e.instance.$.uid];n&&(n.observer.unobserve(t),delete t._observe[e.instance.$.uid])}const jx={mounted:K3,unmounted:Ux},Y3=ee({absolute:Boolean,alt:String,cover:Boolean,color:String,draggable:{type:[Boolean,String],default:void 0},eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},crossorigin:String,referrerpolicy:String,srcset:String,position:String,...Wx(),...Pe(),...jn(),...Cl()},"VImg"),ur=de()({name:"VImg",directives:{intersect:jx},props:Y3(),emits:{loadstart:t=>!0,load:t=>!0,error:t=>!0},setup(t,e){let{emit:n,slots:i}=e;const{backgroundColorClasses:s,backgroundColorStyles:r}=Mi(ye(t,"color")),{roundedClasses:a}=Hn(t),o=yt("VImg"),l=ge(""),c=le(),u=ge(t.eager?"loading":"idle"),h=ge(),d=ge(),f=I(()=>t.src&&typeof t.src=="object"?{src:t.src.src,srcset:t.srcset||t.src.srcset,lazySrc:t.lazySrc||t.src.lazySrc,aspect:Number(t.aspectRatio||t.src.aspect||0)}:{src:t.src,srcset:t.srcset,lazySrc:t.lazySrc,aspect:Number(t.aspectRatio||0)}),g=I(()=>f.value.aspect||h.value/d.value||0);be(()=>t.src,()=>{m(u.value!=="idle")}),be(g,(w,A)=>{!w&&A&&c.value&&x(c.value)}),nl(()=>m());function m(w){if(!(t.eager&&w)&&!(If&&!w&&!t.eager)){if(u.value="loading",f.value.lazySrc){const A=new Image;A.src=f.value.lazySrc,x(A,null)}f.value.src&&Qt(()=>{var A;n("loadstart",((A=c.value)==null?void 0:A.currentSrc)||f.value.src),setTimeout(()=>{var D;if(!o.isUnmounted)if((D=c.value)!=null&&D.complete){if(c.value.naturalWidth||y(),u.value==="error")return;g.value||x(c.value,null),u.value==="loading"&&v()}else g.value||x(c.value),_()})})}}function v(){var w;o.isUnmounted||(_(),x(c.value),u.value="loaded",n("load",((w=c.value)==null?void 0:w.currentSrc)||f.value.src))}function y(){var w;o.isUnmounted||(u.value="error",n("error",((w=c.value)==null?void 0:w.currentSrc)||f.value.src))}function _(){const w=c.value;w&&(l.value=w.currentSrc||w.src)}let p=-1;bn(()=>{clearTimeout(p)});function x(w){let A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const D=()=>{if(clearTimeout(p),o.isUnmounted)return;const{naturalHeight:X,naturalWidth:G}=w;X||G?(h.value=G,d.value=X):!w.complete&&u.value==="loading"&&A!=null?p=window.setTimeout(D,A):(w.currentSrc.endsWith(".svg")||w.currentSrc.startsWith("data:image/svg+xml"))&&(h.value=1,d.value=1)};D()}const b=I(()=>({"v-img__img--cover":t.cover,"v-img__img--contain":!t.cover})),C=()=>{var D;if(!f.value.src||u.value==="idle")return null;const w=S("img",{class:["v-img__img",b.value],style:{objectPosition:t.position},crossorigin:t.crossorigin,src:f.value.src,srcset:f.value.srcset,alt:t.alt,referrerpolicy:t.referrerpolicy,draggable:t.draggable,sizes:t.sizes,ref:c,onLoad:v,onError:y},null),A=(D=i.sources)==null?void 0:D.call(i);return S(Ss,{transition:t.transition,appear:!0},{default:()=>[In(A?S("picture",{class:"v-img__picture"},[A,w]):w,[[Ca,u.value==="loaded"]])]})},M=()=>S(Ss,{transition:t.transition},{default:()=>[f.value.lazySrc&&u.value!=="loaded"&&S("img",{class:["v-img__img","v-img__img--preload",b.value],style:{objectPosition:t.position},crossorigin:t.crossorigin,src:f.value.lazySrc,alt:t.alt,referrerpolicy:t.referrerpolicy,draggable:t.draggable},null)]}),E=()=>i.placeholder?S(Ss,{transition:t.transition,appear:!0},{default:()=>[(u.value==="loading"||u.value==="error"&&!i.error)&&S("div",{class:"v-img__placeholder"},[i.placeholder()])]}):null,R=()=>i.error?S(Ss,{transition:t.transition,appear:!0},{default:()=>[u.value==="error"&&S("div",{class:"v-img__error"},[i.error()])]}):null,O=()=>t.gradient?S("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${t.gradient})`}},null):null,k=ge(!1);{const w=be(g,A=>{A&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{k.value=!0})}),w())})}return Me(()=>{const w=q0.filterProps(t);return In(S(q0,ke({class:["v-img",{"v-img--absolute":t.absolute,"v-img--booting":!k.value},s.value,a.value,t.class],style:[{width:Ee(t.width==="auto"?h.value:t.width)},r.value,t.style]},w,{aspectRatio:g.value,"aria-label":t.alt,role:t.alt?"img":void 0}),{additional:()=>S(Ge,null,[S(C,null,null),S(M,null,null),S(O,null,null),S(E,null,null),S(R,null,null)]),default:i.default}),[[Cr("intersect"),{handler:m,options:t.options},null,{once:!0}]])}),{currentSrc:l,image:c,state:u,naturalWidth:h,naturalHeight:d}}}),ss=ee({border:[Boolean,Number,String]},"border");function rs(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ri();return{borderClasses:I(()=>{const i=ct(t)?t.value:t.border,s=[];if(i===!0||i==="")s.push(`${e}--border`);else if(typeof i=="string"||i===0)for(const r of String(i).split(" "))s.push(`border-${r}`);return s})}}const Z3=[null,"default","comfortable","compact"],Pi=ee({density:{type:String,default:"default",validator:t=>Z3.includes(t)}},"density");function as(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ri();return{densityClasses:I(()=>`${e}--density-${t.density}`)}}const J3=["elevated","flat","tonal","outlined","text","plain"];function wl(t,e){return S(Ge,null,[t&&S("span",{key:"overlay",class:`${e}__overlay`},null),S("span",{key:"underlay",class:`${e}__underlay`},null)])}const Bs=ee({color:String,variant:{type:String,default:"elevated",validator:t=>J3.includes(t)}},"variant");function Ml(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ri();const n=I(()=>{const{variant:r}=Mn(t);return`${e}--variant-${r}`}),{colorClasses:i,colorStyles:s}=kg(I(()=>{const{variant:r,color:a}=Mn(t);return{[["elevated","flat"].includes(r)?"background":"text"]:a}}));return{colorClasses:i,colorStyles:s,variantClasses:n}}const Q3=ee({start:Boolean,end:Boolean,icon:ze,image:String,text:String,...ss(),...Pe(),...Pi(),...jn(),...Sl(),...ut(),...pt(),...Bs({variant:"flat"})},"VAvatar"),Sr=de()({name:"VAvatar",props:Q3(),setup(t,e){let{slots:n}=e;const{themeClasses:i}=Ot(t),{borderClasses:s}=rs(t),{colorClasses:r,colorStyles:a,variantClasses:o}=Ml(t),{densityClasses:l}=as(t),{roundedClasses:c}=Hn(t),{sizeClasses:u,sizeStyles:h}=El(t);return Me(()=>S(t.tag,{class:["v-avatar",{"v-avatar--start":t.start,"v-avatar--end":t.end},i.value,s.value,r.value,l.value,c.value,u.value,o.value,t.class],style:[a.value,h.value,t.style]},{default:()=>[n.default?S(_t,{key:"content-defaults",defaults:{VImg:{cover:!0,src:t.image},VIcon:{icon:t.icon}}},{default:()=>[n.default()]}):t.image?S(ur,{key:"image",src:t.image,alt:"",cover:!0},null):t.icon?S(Tt,{key:"icon",icon:t.icon},null):t.text,wl(!1,"v-avatar")]})),{}}}),e5=ee({appendAvatar:String,appendIcon:ze,prependAvatar:String,prependIcon:ze,subtitle:{type:[String,Number,Boolean],default:void 0},title:{type:[String,Number,Boolean],default:void 0},...Pe(),...Pi()},"VCardItem"),t5=de()({name:"VCardItem",props:e5(),setup(t,e){let{slots:n}=e;return Me(()=>{var c;const i=!!(t.prependAvatar||t.prependIcon),s=!!(i||n.prepend),r=!!(t.appendAvatar||t.appendIcon),a=!!(r||n.append),o=!!(t.title!=null||n.title),l=!!(t.subtitle!=null||n.subtitle);return S("div",{class:["v-card-item",t.class],style:t.style},[s&&S("div",{key:"prepend",class:"v-card-item__prepend"},[n.prepend?S(_t,{key:"prepend-defaults",disabled:!i,defaults:{VAvatar:{density:t.density,image:t.prependAvatar},VIcon:{density:t.density,icon:t.prependIcon}}},n.prepend):S(Ge,null,[t.prependAvatar&&S(Sr,{key:"prepend-avatar",density:t.density,image:t.prependAvatar},null),t.prependIcon&&S(Tt,{key:"prepend-icon",density:t.density,icon:t.prependIcon},null)])]),S("div",{class:"v-card-item__content"},[o&&S(U3,{key:"title"},{default:()=>{var u;return[((u=n.title)==null?void 0:u.call(n))??dn(t.title)]}}),l&&S(W3,{key:"subtitle"},{default:()=>{var u;return[((u=n.subtitle)==null?void 0:u.call(n))??dn(t.subtitle)]}}),(c=n.default)==null?void 0:c.call(n)]),a&&S("div",{key:"append",class:"v-card-item__append"},[n.append?S(_t,{key:"append-defaults",disabled:!r,defaults:{VAvatar:{density:t.density,image:t.appendAvatar},VIcon:{density:t.density,icon:t.appendIcon}}},n.append):S(Ge,null,[t.appendIcon&&S(Tt,{key:"append-icon",density:t.density,icon:t.appendIcon},null),t.appendAvatar&&S(Sr,{key:"append-avatar",density:t.density,image:t.appendAvatar},null)])])])}),{}}}),n5=ee({opacity:[Number,String],...Pe(),...ut()},"VCardText"),i5=de()({name:"VCardText",props:n5(),setup(t,e){let{slots:n}=e;return Me(()=>S(t.tag,{class:["v-card-text",t.class],style:[{"--v-card-text-opacity":t.opacity},t.style]},n)),{}}}),Vs=ee({elevation:{type:[Number,String],validator(t){const e=parseInt(t);return!isNaN(e)&&e>=0&&e<=24}}},"elevation");function $s(t){return{elevationClasses:I(()=>{const n=ct(t)?t.value:t.elevation,i=[];return n==null||i.push(`elevation-${n}`),i})}}function Hx(t,e){const n=le(),i=ge(!1);if(If){const s=new IntersectionObserver(r=>{i.value=!!r.find(a=>a.isIntersecting)},e);bn(()=>{s.disconnect()}),be(n,(r,a)=>{a&&(s.unobserve(a),i.value=!1),r&&s.observe(r)},{flush:"post"})}return{intersectionRef:n,isIntersecting:i}}const K0={center:"center",top:"bottom",bottom:"top",left:"right",right:"left"},Xu=ee({location:String},"location");function qu(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2?arguments[2]:void 0;const{isRtl:i}=si();return{locationStyles:I(()=>{if(!t.location)return{};const{side:r,align:a}=gd(t.location.split(" ").length>1?t.location:`${t.location} center`,i.value);function o(c){return n?n(c):0}const l={};return r!=="center"&&(e?l[K0[r]]=`calc(100% - ${o(r)}px)`:l[r]=0),a!=="center"?e?l[K0[a]]=`calc(100% - ${o(a)}px)`:l[a]=0:(r==="center"?l.top=l.left="50%":l[{top:"left",bottom:"left",left:"top",right:"top"}[r]]="50%",l.transform={top:"translateX(-50%)",bottom:"translateX(-50%)",left:"translateY(-50%)",right:"translateY(-50%)",center:"translate(-50%, -50%)"}[r]),l})}}const s5=ee({absolute:Boolean,active:{type:Boolean,default:!0},bgColor:String,bgOpacity:[Number,String],bufferValue:{type:[Number,String],default:0},bufferColor:String,bufferOpacity:[Number,String],clickable:Boolean,color:String,height:{type:[Number,String],default:4},indeterminate:Boolean,max:{type:[Number,String],default:100},modelValue:{type:[Number,String],default:0},opacity:[Number,String],reverse:Boolean,stream:Boolean,striped:Boolean,roundedBar:Boolean,...Pe(),...Xu({location:"top"}),...jn(),...ut(),...pt()},"VProgressLinear"),r5=de()({name:"VProgressLinear",props:s5(),emits:{"update:modelValue":t=>!0},setup(t,e){var k;let{slots:n}=e;const i=bt(t,"modelValue"),{isRtl:s,rtlClasses:r}=si(),{themeClasses:a}=Ot(t),{locationStyles:o}=qu(t),{textColorClasses:l,textColorStyles:c}=Ji(t,"color"),{backgroundColorClasses:u,backgroundColorStyles:h}=Mi(I(()=>t.bgColor||t.color)),{backgroundColorClasses:d,backgroundColorStyles:f}=Mi(I(()=>t.bufferColor||t.bgColor||t.color)),{backgroundColorClasses:g,backgroundColorStyles:m}=Mi(t,"color"),{roundedClasses:v}=Hn(t),{intersectionRef:y,isIntersecting:_}=Hx(),p=I(()=>parseFloat(t.max)),x=I(()=>parseFloat(t.height)),b=I(()=>Ei(parseFloat(t.bufferValue)/p.value*100,0,100)),C=I(()=>Ei(parseFloat(i.value)/p.value*100,0,100)),M=I(()=>s.value!==t.reverse),E=I(()=>t.indeterminate?"fade-transition":"slide-x-transition"),R=Je&&((k=window.matchMedia)==null?void 0:k.call(window,"(forced-colors: active)").matches);function O(w){if(!y.value)return;const{left:A,right:D,width:X}=y.value.getBoundingClientRect(),G=M.value?X-w.clientX+(D-X):w.clientX-A;i.value=Math.round(G/X*p.value)}return Me(()=>S(t.tag,{ref:y,class:["v-progress-linear",{"v-progress-linear--absolute":t.absolute,"v-progress-linear--active":t.active&&_.value,"v-progress-linear--reverse":M.value,"v-progress-linear--rounded":t.rounded,"v-progress-linear--rounded-bar":t.roundedBar,"v-progress-linear--striped":t.striped},v.value,a.value,r.value,t.class],style:[{bottom:t.location==="bottom"?0:void 0,top:t.location==="top"?0:void 0,height:t.active?Ee(x.value):0,"--v-progress-linear-height":Ee(x.value),...t.absolute?o.value:{}},t.style],role:"progressbar","aria-hidden":t.active?"false":"true","aria-valuemin":"0","aria-valuemax":t.max,"aria-valuenow":t.indeterminate?void 0:Math.min(parseFloat(i.value),p.value),onClick:t.clickable&&O},{default:()=>[t.stream&&S("div",{key:"stream",class:["v-progress-linear__stream",l.value],style:{...c.value,[M.value?"left":"right"]:Ee(-x.value),borderTop:`${Ee(x.value/2)} dotted`,opacity:parseFloat(t.bufferOpacity),top:`calc(50% - ${Ee(x.value/4)})`,width:Ee(100-b.value,"%"),"--v-progress-linear-stream-to":Ee(x.value*(M.value?1:-1))}},null),S("div",{class:["v-progress-linear__background",R?void 0:u.value],style:[h.value,{opacity:parseFloat(t.bgOpacity),width:t.stream?0:void 0}]},null),S("div",{class:["v-progress-linear__buffer",R?void 0:d.value],style:[f.value,{opacity:parseFloat(t.bufferOpacity),width:Ee(b.value,"%")}]},null),S(fr,{name:E.value},{default:()=>[t.indeterminate?S("div",{class:"v-progress-linear__indeterminate"},[["long","short"].map(w=>S("div",{key:w,class:["v-progress-linear__indeterminate",w,R?void 0:g.value],style:m.value},null))]):S("div",{class:["v-progress-linear__determinate",R?void 0:g.value],style:[m.value,{width:Ee(C.value,"%")}]},null)]}),n.default&&S("div",{class:"v-progress-linear__content"},[n.default({value:C.value,buffer:b.value})])]})),{}}}),Dg=ee({loading:[Boolean,String]},"loader");function Ng(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ri();return{loaderClasses:I(()=>({[`${e}--loading`]:t.loading}))}}function Xx(t,e){var i;let{slots:n}=e;return S("div",{class:`${t.name}__loader`},[((i=n.default)==null?void 0:i.call(n,{color:t.color,isActive:t.active}))||S(r5,{absolute:t.absolute,active:t.active,color:t.color,height:"2",indeterminate:!0},null)])}const a5=["static","relative","fixed","absolute","sticky"],Fg=ee({position:{type:String,validator:t=>a5.includes(t)}},"position");function Bg(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ri();return{positionClasses:I(()=>t.position?`${e}--${t.position}`:void 0)}}function o5(){const t=yt("useRoute");return I(()=>{var e;return(e=t==null?void 0:t.proxy)==null?void 0:e.$route})}function l5(){var t,e;return(e=(t=yt("useRouter"))==null?void 0:t.proxy)==null?void 0:e.$router}function Ku(t,e){var h,d;const n=yE("RouterLink"),i=I(()=>!!(t.href||t.to)),s=I(()=>(i==null?void 0:i.value)||Fm(e,"click")||Fm(t,"click"));if(typeof n=="string"||!("useLink"in n)){const f=ye(t,"href");return{isLink:i,isClickable:s,href:f,linkProps:Mt({href:f})}}const r=I(()=>({...t,to:ye(()=>t.to||"")})),a=n.useLink(r.value),o=I(()=>t.to?a:void 0),l=o5(),c=I(()=>{var f,g,m;return o.value?t.exact?l.value?((m=o.value.isExactActive)==null?void 0:m.value)&&ji(o.value.route.value.query,l.value.query):((g=o.value.isExactActive)==null?void 0:g.value)??!1:((f=o.value.isActive)==null?void 0:f.value)??!1:!1}),u=I(()=>{var f;return t.to?(f=o.value)==null?void 0:f.route.value.href:t.href});return{isLink:i,isClickable:s,isActive:c,route:(h=o.value)==null?void 0:h.route,navigate:(d=o.value)==null?void 0:d.navigate,href:u,linkProps:Mt({href:u,"aria-current":I(()=>c.value?"page":void 0)})}}const Yu=ee({href:String,replace:Boolean,to:[String,Object],exact:Boolean},"router");let Xh=!1;function c5(t,e){let n=!1,i,s;Je&&(t!=null&&t.beforeEach)&&(Qt(()=>{window.addEventListener("popstate",r),i=t.beforeEach((a,o,l)=>{Xh?n?e(l):l():setTimeout(()=>n?e(l):l()),Xh=!0}),s=t==null?void 0:t.afterEach(()=>{Xh=!1})}),tn(()=>{window.removeEventListener("popstate",r),i==null||i(),s==null||s()}));function r(a){var o;(o=a.state)!=null&&o.replaced||(n=!0,setTimeout(()=>n=!1))}}const Kd=Symbol("rippleStop"),u5=80;function Y0(t,e){t.style.transform=e,t.style.webkitTransform=e}function Yd(t){return t.constructor.name==="TouchEvent"}function qx(t){return t.constructor.name==="KeyboardEvent"}const h5=function(t,e){var h;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=0,s=0;if(!qx(t)){const d=e.getBoundingClientRect(),f=Yd(t)?t.touches[t.touches.length-1]:t;i=f.clientX-d.left,s=f.clientY-d.top}let r=0,a=.3;(h=e._ripple)!=null&&h.circle?(a=.15,r=e.clientWidth/2,r=n.center?r:r+Math.sqrt((i-r)**2+(s-r)**2)/4):r=Math.sqrt(e.clientWidth**2+e.clientHeight**2)/2;const o=`${(e.clientWidth-r*2)/2}px`,l=`${(e.clientHeight-r*2)/2}px`,c=n.center?o:`${i-r}px`,u=n.center?l:`${s-r}px`;return{radius:r,scale:a,x:c,y:u,centerX:o,centerY:l}},su={show(t,e){var f;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!((f=e==null?void 0:e._ripple)!=null&&f.enabled))return;const i=document.createElement("span"),s=document.createElement("span");i.appendChild(s),i.className="v-ripple__container",n.class&&(i.className+=` ${n.class}`);const{radius:r,scale:a,x:o,y:l,centerX:c,centerY:u}=h5(t,e,n),h=`${r*2}px`;s.className="v-ripple__animation",s.style.width=h,s.style.height=h,e.appendChild(i);const d=window.getComputedStyle(e);d&&d.position==="static"&&(e.style.position="relative",e.dataset.previousPosition="static"),s.classList.add("v-ripple__animation--enter"),s.classList.add("v-ripple__animation--visible"),Y0(s,`translate(${o}, ${l}) scale3d(${a},${a},${a})`),s.dataset.activated=String(performance.now()),requestAnimationFrame(()=>{requestAnimationFrame(()=>{s.classList.remove("v-ripple__animation--enter"),s.classList.add("v-ripple__animation--in"),Y0(s,`translate(${c}, ${u}) scale3d(1,1,1)`)})})},hide(t){var r;if(!((r=t==null?void 0:t._ripple)!=null&&r.enabled))return;const e=t.getElementsByClassName("v-ripple__animation");if(e.length===0)return;const n=e[e.length-1];if(n.dataset.isHiding)return;n.dataset.isHiding="true";const i=performance.now()-Number(n.dataset.activated),s=Math.max(250-i,0);setTimeout(()=>{n.classList.remove("v-ripple__animation--in"),n.classList.add("v-ripple__animation--out"),setTimeout(()=>{var o;t.getElementsByClassName("v-ripple__animation").length===1&&t.dataset.previousPosition&&(t.style.position=t.dataset.previousPosition,delete t.dataset.previousPosition),((o=n.parentNode)==null?void 0:o.parentNode)===t&&t.removeChild(n.parentNode)},300)},s)}};function Kx(t){return typeof t>"u"||!!t}function Yo(t){const e={},n=t.currentTarget;if(!(!(n!=null&&n._ripple)||n._ripple.touched||t[Kd])){if(t[Kd]=!0,Yd(t))n._ripple.touched=!0,n._ripple.isTouch=!0;else if(n._ripple.isTouch)return;if(e.center=n._ripple.centered||qx(t),n._ripple.class&&(e.class=n._ripple.class),Yd(t)){if(n._ripple.showTimerCommit)return;n._ripple.showTimerCommit=()=>{su.show(t,n,e)},n._ripple.showTimer=window.setTimeout(()=>{var i;(i=n==null?void 0:n._ripple)!=null&&i.showTimerCommit&&(n._ripple.showTimerCommit(),n._ripple.showTimerCommit=null)},u5)}else su.show(t,n,e)}}function Z0(t){t[Kd]=!0}function wn(t){const e=t.currentTarget;if(e!=null&&e._ripple){if(window.clearTimeout(e._ripple.showTimer),t.type==="touchend"&&e._ripple.showTimerCommit){e._ripple.showTimerCommit(),e._ripple.showTimerCommit=null,e._ripple.showTimer=window.setTimeout(()=>{wn(t)});return}window.setTimeout(()=>{e._ripple&&(e._ripple.touched=!1)}),su.hide(e)}}function Yx(t){const e=t.currentTarget;e!=null&&e._ripple&&(e._ripple.showTimerCommit&&(e._ripple.showTimerCommit=null),window.clearTimeout(e._ripple.showTimer))}let Zo=!1;function Zx(t){!Zo&&(t.keyCode===Om.enter||t.keyCode===Om.space)&&(Zo=!0,Yo(t))}function Jx(t){Zo=!1,wn(t)}function Qx(t){Zo&&(Zo=!1,wn(t))}function eb(t,e,n){const{value:i,modifiers:s}=e,r=Kx(i);if(r||su.hide(t),t._ripple=t._ripple??{},t._ripple.enabled=r,t._ripple.centered=s.center,t._ripple.circle=s.circle,VC(i)&&i.class&&(t._ripple.class=i.class),r&&!n){if(s.stop){t.addEventListener("touchstart",Z0,{passive:!0}),t.addEventListener("mousedown",Z0);return}t.addEventListener("touchstart",Yo,{passive:!0}),t.addEventListener("touchend",wn,{passive:!0}),t.addEventListener("touchmove",Yx,{passive:!0}),t.addEventListener("touchcancel",wn),t.addEventListener("mousedown",Yo),t.addEventListener("mouseup",wn),t.addEventListener("mouseleave",wn),t.addEventListener("keydown",Zx),t.addEventListener("keyup",Jx),t.addEventListener("blur",Qx),t.addEventListener("dragstart",wn,{passive:!0})}else!r&&n&&tb(t)}function tb(t){t.removeEventListener("mousedown",Yo),t.removeEventListener("touchstart",Yo),t.removeEventListener("touchend",wn),t.removeEventListener("touchmove",Yx),t.removeEventListener("touchcancel",wn),t.removeEventListener("mouseup",wn),t.removeEventListener("mouseleave",wn),t.removeEventListener("keydown",Zx),t.removeEventListener("keyup",Jx),t.removeEventListener("dragstart",wn),t.removeEventListener("blur",Qx)}function d5(t,e){eb(t,e,!1)}function f5(t){delete t._ripple,tb(t)}function g5(t,e){if(e.value===e.oldValue)return;const n=Kx(e.oldValue);eb(t,e,n)}const Tl={mounted:d5,unmounted:f5,updated:g5},m5=ee({appendAvatar:String,appendIcon:ze,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:ze,ripple:{type:[Boolean,Object],default:!0},subtitle:{type:[String,Number,Boolean],default:void 0},text:{type:[String,Number,Boolean],default:void 0},title:{type:[String,Number,Boolean],default:void 0},...ss(),...Pe(),...Pi(),...ai(),...Vs(),...Dg(),...Xu(),...Fg(),...jn(),...Yu(),...ut(),...pt(),...Bs({variant:"elevated"})},"VCard"),qh=de()({name:"VCard",directives:{Ripple:Tl},props:m5(),setup(t,e){let{attrs:n,slots:i}=e;const{themeClasses:s}=Ot(t),{borderClasses:r}=rs(t),{colorClasses:a,colorStyles:o,variantClasses:l}=Ml(t),{densityClasses:c}=as(t),{dimensionStyles:u}=oi(t),{elevationClasses:h}=$s(t),{loaderClasses:d}=Ng(t),{locationStyles:f}=qu(t),{positionClasses:g}=Bg(t),{roundedClasses:m}=Hn(t),v=Ku(t,n),y=I(()=>t.link!==!1&&v.isLink.value),_=I(()=>!t.disabled&&t.link!==!1&&(t.link||v.isClickable.value));return Me(()=>{const p=y.value?"a":t.tag,x=!!(i.title||t.title!=null),b=!!(i.subtitle||t.subtitle!=null),C=x||b,M=!!(i.append||t.appendAvatar||t.appendIcon),E=!!(i.prepend||t.prependAvatar||t.prependIcon),R=!!(i.image||t.image),O=C||E||M,k=!!(i.text||t.text!=null);return In(S(p,ke({class:["v-card",{"v-card--disabled":t.disabled,"v-card--flat":t.flat,"v-card--hover":t.hover&&!(t.disabled||t.flat),"v-card--link":_.value},s.value,r.value,a.value,c.value,h.value,d.value,g.value,m.value,l.value,t.class],style:[o.value,u.value,f.value,t.style],onClick:_.value&&v.navigate,tabindex:t.disabled?-1:void 0},v.linkProps),{default:()=>{var w;return[R&&S("div",{key:"image",class:"v-card__image"},[i.image?S(_t,{key:"image-defaults",disabled:!t.image,defaults:{VImg:{cover:!0,src:t.image}}},i.image):S(ur,{key:"image-img",cover:!0,src:t.image},null)]),S(Xx,{name:"v-card",active:!!t.loading,color:typeof t.loading=="boolean"?void 0:t.loading},{default:i.loader}),O&&S(t5,{key:"item",prependAvatar:t.prependAvatar,prependIcon:t.prependIcon,title:t.title,subtitle:t.subtitle,appendAvatar:t.appendAvatar,appendIcon:t.appendIcon},{default:i.item,prepend:i.prepend,title:i.title,subtitle:i.subtitle,append:i.append}),k&&S(i5,{key:"text"},{default:()=>{var A;return[((A=i.text)==null?void 0:A.call(i))??t.text]}}),(w=i.default)==null?void 0:w.call(i),i.actions&&S(G3,null,{default:i.actions}),wl(_.value,"v-card")]}}),[[Cr("ripple"),_.value&&t.ripple]])}),{}}}),v5=ee({fluid:{type:Boolean,default:!1},...Pe(),...ai(),...ut()},"VContainer"),y5=de()({name:"VContainer",props:v5(),setup(t,e){let{slots:n}=e;const{rtlClasses:i}=si(),{dimensionStyles:s}=oi(t);return Me(()=>S(t.tag,{class:["v-container",{"v-container--fluid":t.fluid},i.value,t.class],style:[s.value,t.style]},n)),{}}}),nb=pu.reduce((t,e)=>(t[e]={type:[Boolean,String,Number],default:!1},t),{}),ib=pu.reduce((t,e)=>{const n="offset"+Qi(e);return t[n]={type:[String,Number],default:null},t},{}),sb=pu.reduce((t,e)=>{const n="order"+Qi(e);return t[n]={type:[String,Number],default:null},t},{}),J0={col:Object.keys(nb),offset:Object.keys(ib),order:Object.keys(sb)};function _5(t,e,n){let i=t;if(!(n==null||n===!1)){if(e){const s=e.replace(t,"");i+=`-${s}`}return t==="col"&&(i="v-"+i),t==="col"&&(n===""||n===!0)||(i+=`-${n}`),i.toLowerCase()}}const p5=["auto","start","end","center","baseline","stretch"],x5=ee({cols:{type:[Boolean,String,Number],default:!1},...nb,offset:{type:[String,Number],default:null},...ib,order:{type:[String,Number],default:null},...sb,alignSelf:{type:String,default:null,validator:t=>p5.includes(t)},...Pe(),...ut()},"VCol"),qs=de()({name:"VCol",props:x5(),setup(t,e){let{slots:n}=e;const i=I(()=>{const s=[];let r;for(r in J0)J0[r].forEach(o=>{const l=t[o],c=_5(r,o,l);c&&s.push(c)});const a=s.some(o=>o.startsWith("v-col-"));return s.push({"v-col":!a||!t.cols,[`v-col-${t.cols}`]:t.cols,[`offset-${t.offset}`]:t.offset,[`order-${t.order}`]:t.order,[`align-self-${t.alignSelf}`]:t.alignSelf}),s});return()=>{var s;return Ds(t.tag,{class:[i.value,t.class],style:t.style},(s=n.default)==null?void 0:s.call(n))}}}),Vg=["start","end","center"],rb=["space-between","space-around","space-evenly"];function $g(t,e){return pu.reduce((n,i)=>{const s=t+Qi(i);return n[s]=e(),n},{})}const b5=[...Vg,"baseline","stretch"],ab=t=>b5.includes(t),ob=$g("align",()=>({type:String,default:null,validator:ab})),S5=[...Vg,...rb],lb=t=>S5.includes(t),cb=$g("justify",()=>({type:String,default:null,validator:lb})),E5=[...Vg,...rb,"stretch"],ub=t=>E5.includes(t),hb=$g("alignContent",()=>({type:String,default:null,validator:ub})),Q0={align:Object.keys(ob),justify:Object.keys(cb),alignContent:Object.keys(hb)},C5={align:"align",justify:"justify",alignContent:"align-content"};function w5(t,e,n){let i=C5[t];if(n!=null){if(e){const s=e.replace(t,"");i+=`-${s}`}return i+=`-${n}`,i.toLowerCase()}}const M5=ee({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:ab},...ob,justify:{type:String,default:null,validator:lb},...cb,alignContent:{type:String,default:null,validator:ub},...hb,...Pe(),...ut()},"VRow"),qa=de()({name:"VRow",props:M5(),setup(t,e){let{slots:n}=e;const i=I(()=>{const s=[];let r;for(r in Q0)Q0[r].forEach(a=>{const o=t[a],l=w5(r,a,o);l&&s.push(l)});return s.push({"v-row--no-gutters":t.noGutters,"v-row--dense":t.dense,[`align-${t.align}`]:t.align,[`justify-${t.justify}`]:t.justify,[`align-content-${t.alignContent}`]:t.alignContent}),s});return()=>{var s;return Ds(t.tag,{class:["v-row",i.value,t.class],style:t.style},(s=n.default)==null?void 0:s.call(n))}}}),T5=ee({disabled:Boolean,group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:String,origin:String},"transition");function An(t,e,n){return de()({name:t,props:T5({mode:n,origin:e}),setup(i,s){let{slots:r}=s;const a={onBeforeEnter(o){i.origin&&(o.style.transformOrigin=i.origin)},onLeave(o){if(i.leaveAbsolute){const{offsetTop:l,offsetLeft:c,offsetWidth:u,offsetHeight:h}=o;o._transitionInitialStyles={position:o.style.position,top:o.style.top,left:o.style.left,width:o.style.width,height:o.style.height},o.style.position="absolute",o.style.top=`${l}px`,o.style.left=`${c}px`,o.style.width=`${u}px`,o.style.height=`${h}px`}i.hideOnLeave&&o.style.setProperty("display","none","important")},onAfterLeave(o){if(i.leaveAbsolute&&(o!=null&&o._transitionInitialStyles)){const{position:l,top:c,left:u,width:h,height:d}=o._transitionInitialStyles;delete o._transitionInitialStyles,o.style.position=l||"",o.style.top=c||"",o.style.left=u||"",o.style.width=h||"",o.style.height=d||""}}};return()=>{const o=i.group?Rf:fr;return Ds(o,{name:i.disabled?"":t,css:!i.disabled,...i.group?void 0:{mode:i.mode},...i.disabled?{}:a},r.default)}}})}function db(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"in-out";return de()({name:t,props:{mode:{type:String,default:n},disabled:Boolean,group:Boolean},setup(i,s){let{slots:r}=s;const a=i.group?Rf:fr;return()=>Ds(a,{name:i.disabled?"":t,css:!i.disabled,...i.disabled?{}:e},r.default)}})}function fb(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const n=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?"width":"height",i=xn(`offset-${n}`);return{onBeforeEnter(a){a._parent=a.parentNode,a._initialStyle={transition:a.style.transition,overflow:a.style.overflow,[n]:a.style[n]}},onEnter(a){const o=a._initialStyle;if(!o)return;a.style.setProperty("transition","none","important"),a.style.overflow="hidden";const l=`${a[i]}px`;a.style[n]="0",a.offsetHeight,a.style.transition=o.transition,t&&a._parent&&a._parent.classList.add(t),requestAnimationFrame(()=>{a.style[n]=l})},onAfterEnter:r,onEnterCancelled:r,onLeave(a){a._initialStyle={transition:"",overflow:a.style.overflow,[n]:a.style[n]},a.style.overflow="hidden",a.style[n]=`${a[i]}px`,a.offsetHeight,requestAnimationFrame(()=>a.style[n]="0")},onAfterLeave:s,onLeaveCancelled:s};function s(a){t&&a._parent&&a._parent.classList.remove(t),r(a)}function r(a){if(!a._initialStyle)return;const o=a._initialStyle[n];a.style.overflow=a._initialStyle.overflow,o!=null&&(a.style[n]=o),delete a._initialStyle}}const R5=ee({target:[Object,Array]},"v-dialog-transition"),gb=de()({name:"VDialogTransition",props:R5(),setup(t,e){let{slots:n}=e;const i={onBeforeEnter(s){s.style.pointerEvents="none",s.style.visibility="hidden"},async onEnter(s,r){var d;await new Promise(f=>requestAnimationFrame(f)),await new Promise(f=>requestAnimationFrame(f)),s.style.visibility="";const{x:a,y:o,sx:l,sy:c,speed:u}=ty(t.target,s),h=Hr(s,[{transform:`translate(${a}px, ${o}px) scale(${l}, ${c})`,opacity:0},{}],{duration:225*u,easing:Sw});(d=ey(s))==null||d.forEach(f=>{Hr(f,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*u,easing:Ac})}),h.finished.then(()=>r())},onAfterEnter(s){s.style.removeProperty("pointer-events")},onBeforeLeave(s){s.style.pointerEvents="none"},async onLeave(s,r){var d;await new Promise(f=>requestAnimationFrame(f));const{x:a,y:o,sx:l,sy:c,speed:u}=ty(t.target,s);Hr(s,[{},{transform:`translate(${a}px, ${o}px) scale(${l}, ${c})`,opacity:0}],{duration:125*u,easing:Ew}).finished.then(()=>r()),(d=ey(s))==null||d.forEach(f=>{Hr(f,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*u,easing:Ac})})},onAfterLeave(s){s.style.removeProperty("pointer-events")}};return()=>t.target?S(fr,ke({name:"dialog-transition"},i,{css:!1}),n):S(fr,{name:"dialog-transition"},n)}});function ey(t){var n;const e=(n=t.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:n.children;return e&&[...e]}function ty(t,e){const n=np(t),i=Pf(e),[s,r]=getComputedStyle(e).transformOrigin.split(" ").map(y=>parseFloat(y)),[a,o]=getComputedStyle(e).getPropertyValue("--v-overlay-anchor-origin").split(" ");let l=n.left+n.width/2;a==="left"||o==="left"?l-=n.width/2:(a==="right"||o==="right")&&(l+=n.width/2);let c=n.top+n.height/2;a==="top"||o==="top"?c-=n.height/2:(a==="bottom"||o==="bottom")&&(c+=n.height/2);const u=n.width/i.width,h=n.height/i.height,d=Math.max(1,u,h),f=u/d||0,g=h/d||0,m=i.width*i.height/(window.innerWidth*window.innerHeight),v=m>.12?Math.min(1.5,(m-.12)*10+1):1;return{x:l-(s+i.left),y:c-(r+i.top),sx:f,sy:g,speed:v}}An("fab-transition","center center","out-in");An("dialog-bottom-transition");An("dialog-top-transition");const ny=An("fade-transition");An("scale-transition");An("scroll-x-transition");An("scroll-x-reverse-transition");An("scroll-y-transition");An("scroll-y-reverse-transition");An("slide-x-transition");An("slide-x-reverse-transition");const mb=An("slide-y-transition");An("slide-y-reverse-transition");const vb=db("expand-transition",fb()),yb=db("expand-x-transition",fb("",!0)),I5=ee({text:String,onClick:_n(),...Pe(),...pt()},"VLabel"),_b=de()({name:"VLabel",props:I5(),setup(t,e){let{slots:n}=e;return Me(()=>{var i;return S("label",{class:["v-label",{"v-label--clickable":!!t.onClick},t.class],style:t.style,onClick:t.onClick},[t.text,(i=n.default)==null?void 0:i.call(n)])}),{}}}),pb=Symbol.for("vuetify:selection-control-group"),xb=ee({color:String,disabled:{type:Boolean,default:null},defaultsTarget:String,error:Boolean,id:String,inline:Boolean,falseIcon:ze,trueIcon:ze,ripple:{type:[Boolean,Object],default:!0},multiple:{type:Boolean,default:null},name:String,readonly:{type:Boolean,default:null},modelValue:null,type:String,valueComparator:{type:Function,default:ji},...Pe(),...Pi(),...pt()},"SelectionControlGroup"),A5=ee({...xb({defaultsTarget:"VSelectionControl"})},"VSelectionControlGroup");de()({name:"VSelectionControlGroup",props:A5(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=bt(t,"modelValue"),s=ks(),r=I(()=>t.id||`v-selection-control-group-${s}`),a=I(()=>t.name||r.value),o=new Set;return nn(pb,{modelValue:i,forceUpdate:()=>{o.forEach(l=>l())},onForceUpdate:l=>{o.add(l),tn(()=>{o.delete(l)})}}),wr({[t.defaultsTarget]:{color:ye(t,"color"),disabled:ye(t,"disabled"),density:ye(t,"density"),error:ye(t,"error"),inline:ye(t,"inline"),modelValue:i,multiple:I(()=>!!t.multiple||t.multiple==null&&Array.isArray(i.value)),name:a,falseIcon:ye(t,"falseIcon"),trueIcon:ye(t,"trueIcon"),readonly:ye(t,"readonly"),ripple:ye(t,"ripple"),type:ye(t,"type"),valueComparator:ye(t,"valueComparator")}}),Me(()=>{var l;return S("div",{class:["v-selection-control-group",{"v-selection-control-group--inline":t.inline},t.class],style:t.style,role:t.type==="radio"?"radiogroup":void 0},[(l=n.default)==null?void 0:l.call(n)])}),{}}});const bb=ee({label:String,baseColor:String,trueValue:null,falseValue:null,value:null,...Pe(),...xb()},"VSelectionControl");function P5(t){const e=rt(pb,void 0),{densityClasses:n}=as(t),i=bt(t,"modelValue"),s=I(()=>t.trueValue!==void 0?t.trueValue:t.value!==void 0?t.value:!0),r=I(()=>t.falseValue!==void 0?t.falseValue:!1),a=I(()=>!!t.multiple||t.multiple==null&&Array.isArray(i.value)),o=I({get(){const f=e?e.modelValue.value:i.value;return a.value?Jn(f).some(g=>t.valueComparator(g,s.value)):t.valueComparator(f,s.value)},set(f){if(t.readonly)return;const g=f?s.value:r.value;let m=g;a.value&&(m=f?[...Jn(i.value),g]:Jn(i.value).filter(v=>!t.valueComparator(v,s.value))),e?e.modelValue.value=m:i.value=m}}),{textColorClasses:l,textColorStyles:c}=Ji(I(()=>{if(!(t.error||t.disabled))return o.value?t.color:t.baseColor})),{backgroundColorClasses:u,backgroundColorStyles:h}=Mi(I(()=>o.value&&!t.error&&!t.disabled?t.color:t.baseColor)),d=I(()=>o.value?t.trueIcon:t.falseIcon);return{group:e,densityClasses:n,trueValue:s,falseValue:r,model:o,textColorClasses:l,textColorStyles:c,backgroundColorClasses:u,backgroundColorStyles:h,icon:d}}const iy=de()({name:"VSelectionControl",directives:{Ripple:Tl},inheritAttrs:!1,props:bb(),emits:{"update:modelValue":t=>!0},setup(t,e){let{attrs:n,slots:i}=e;const{group:s,densityClasses:r,icon:a,model:o,textColorClasses:l,textColorStyles:c,backgroundColorClasses:u,backgroundColorStyles:h,trueValue:d}=P5(t),f=ks(),g=ge(!1),m=ge(!1),v=le(),y=I(()=>t.id||`input-${f}`),_=I(()=>!t.disabled&&!t.readonly);s==null||s.onForceUpdate(()=>{v.value&&(v.value.checked=o.value)});function p(M){_.value&&(g.value=!0,Rc(M.target,":focus-visible")!==!1&&(m.value=!0))}function x(){g.value=!1,m.value=!1}function b(M){M.stopPropagation()}function C(M){if(!_.value){v.value&&(v.value.checked=o.value);return}t.readonly&&s&&Qt(()=>s.forceUpdate()),o.value=M.target.checked}return Me(()=>{var k,w;const M=i.label?i.label({label:t.label,props:{for:y.value}}):t.label,[E,R]=q_(n),O=S("input",ke({ref:v,checked:o.value,disabled:!!t.disabled,id:y.value,onBlur:x,onFocus:p,onInput:C,"aria-disabled":!!t.disabled,"aria-label":t.label,type:t.type,value:d.value,name:t.name,"aria-checked":t.type==="checkbox"?o.value:void 0},R),null);return S("div",ke({class:["v-selection-control",{"v-selection-control--dirty":o.value,"v-selection-control--disabled":t.disabled,"v-selection-control--error":t.error,"v-selection-control--focused":g.value,"v-selection-control--focus-visible":m.value,"v-selection-control--inline":t.inline},r.value,t.class]},E,{style:t.style}),[S("div",{class:["v-selection-control__wrapper",l.value],style:c.value},[(k=i.default)==null?void 0:k.call(i,{backgroundColorClasses:u,backgroundColorStyles:h}),In(S("div",{class:["v-selection-control__input"]},[((w=i.input)==null?void 0:w.call(i,{model:o,textColorClasses:l,textColorStyles:c,backgroundColorClasses:u,backgroundColorStyles:h,inputNode:O,icon:a.value,props:{onFocus:p,onBlur:x,id:y.value}}))??S(Ge,null,[a.value&&S(Tt,{key:"icon",icon:a.value},null),O])]),[[Cr("ripple"),t.ripple&&[!t.disabled&&!t.readonly,null,["center","circle"]]]])]),M&&S(_b,{for:y.value,onClick:b},{default:()=>[M]})])}),{isFocused:g,input:v}}}),L5=ee({indeterminate:Boolean,indeterminateIcon:{type:ze,default:"$checkboxIndeterminate"},...bb({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"VCheckboxBtn"),O5=de()({name:"VCheckboxBtn",props:L5(),emits:{"update:modelValue":t=>!0,"update:indeterminate":t=>!0},setup(t,e){let{slots:n}=e;const i=bt(t,"indeterminate"),s=bt(t,"modelValue");function r(l){i.value&&(i.value=!1)}const a=I(()=>i.value?t.indeterminateIcon:t.falseIcon),o=I(()=>i.value?t.indeterminateIcon:t.trueIcon);return Me(()=>{const l=wa(iy.filterProps(t),["modelValue"]);return S(iy,ke(l,{modelValue:s.value,"onUpdate:modelValue":[c=>s.value=c,r],class:["v-checkbox-btn",t.class],style:t.style,type:"checkbox",falseIcon:a.value,trueIcon:o.value,"aria-checked":i.value?"mixed":void 0}),n)}),{}}});function Sb(t){const{t:e}=Df();function n(i){let{name:s,color:r}=i;const a={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[s],o=t[`onClick:${s}`];function l(u){u.key!=="Enter"&&u.key!==" "||(u.preventDefault(),u.stopPropagation(),Z_(o,new PointerEvent("click",u)))}const c=o&&a?e(`$vuetify.input.${a}`,t.label??""):void 0;return S(Tt,{icon:t[`${s}Icon`],"aria-label":c,onClick:o,onKeydown:l,color:r},null)}return{InputIcon:n}}const k5=ee({active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},...Pe(),...Cl({transition:{component:mb,leaveAbsolute:!0,group:!0}})},"VMessages"),D5=de()({name:"VMessages",props:k5(),setup(t,e){let{slots:n}=e;const i=I(()=>Jn(t.messages)),{textColorClasses:s,textColorStyles:r}=Ji(I(()=>t.color));return Me(()=>S(Ss,{transition:t.transition,tag:"div",class:["v-messages",s.value,t.class],style:[r.value,t.style]},{default:()=>[t.active&&i.value.map((a,o)=>S("div",{class:"v-messages__message",key:`${o}-${i.value}`},[n.message?n.message({message:a}):a]))]})),{}}}),Eb=ee({focused:Boolean,"onUpdate:focused":_n()},"focus");function Cb(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ri();const n=bt(t,"focused"),i=I(()=>({[`${e}--focused`]:n.value}));function s(){n.value=!0}function r(){n.value=!1}return{focusClasses:i,isFocused:n,focus:s,blur:r}}const N5=Symbol.for("vuetify:form");function wb(t){const e=rt(N5,null);return{...e,isReadonly:I(()=>!!((t==null?void 0:t.readonly)??(e==null?void 0:e.isReadonly.value))),isDisabled:I(()=>!!((t==null?void 0:t.disabled)??(e==null?void 0:e.isDisabled.value)))}}const F5=ee({disabled:{type:Boolean,default:null},error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:{type:Boolean,default:null},rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...Eb()},"validation");function B5(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ri(),n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ks();const i=bt(t,"modelValue"),s=I(()=>t.validationValue===void 0?i.value:t.validationValue),r=wb(t),a=le([]),o=ge(!0),l=I(()=>!!(Jn(i.value===""?null:i.value).length||Jn(s.value===""?null:s.value).length)),c=I(()=>{var p;return(p=t.errorMessages)!=null&&p.length?Jn(t.errorMessages).concat(a.value).slice(0,Math.max(0,Number(t.maxErrors))):a.value}),u=I(()=>{var b;let p=(t.validateOn??((b=r.validateOn)==null?void 0:b.value))||"input";p==="lazy"&&(p="input lazy"),p==="eager"&&(p="input eager");const x=new Set((p==null?void 0:p.split(" "))??[]);return{input:x.has("input"),blur:x.has("blur")||x.has("input")||x.has("invalid-input"),invalidInput:x.has("invalid-input"),lazy:x.has("lazy"),eager:x.has("eager")}}),h=I(()=>{var p;return t.error||(p=t.errorMessages)!=null&&p.length?!1:t.rules.length?o.value?a.value.length||u.value.lazy?null:!0:!a.value.length:!0}),d=ge(!1),f=I(()=>({[`${e}--error`]:h.value===!1,[`${e}--dirty`]:l.value,[`${e}--disabled`]:r.isDisabled.value,[`${e}--readonly`]:r.isReadonly.value})),g=yt("validation"),m=I(()=>t.name??Mn(n));nl(()=>{var p;(p=r.register)==null||p.call(r,{id:m.value,vm:g,validate:_,reset:v,resetValidation:y})}),bn(()=>{var p;(p=r.unregister)==null||p.call(r,m.value)}),ii(async()=>{var p;u.value.lazy||await _(!u.value.eager),(p=r.update)==null||p.call(r,m.value,h.value,c.value)}),Rs(()=>u.value.input||u.value.invalidInput&&h.value===!1,()=>{be(s,()=>{if(s.value!=null)_();else if(t.focused){const p=be(()=>t.focused,x=>{x||_(),p()})}})}),Rs(()=>u.value.blur,()=>{be(()=>t.focused,p=>{p||_()})}),be([h,c],()=>{var p;(p=r.update)==null||p.call(r,m.value,h.value,c.value)});async function v(){i.value=null,await Qt(),await y()}async function y(){o.value=!0,u.value.lazy?a.value=[]:await _(!u.value.eager)}async function _(){let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const x=[];d.value=!0;for(const b of t.rules){if(x.length>=Number(t.maxErrors??1))break;const M=await(typeof b=="function"?b:()=>b)(s.value);if(M!==!0){if(M!==!1&&typeof M!="string"){console.warn(`${M} is not a valid value. Rule functions must return boolean true or a string.`);continue}x.push(M||"")}}return a.value=x,d.value=!1,o.value=p,a.value}return{errorMessages:c,isDirty:l,isDisabled:r.isDisabled,isReadonly:r.isReadonly,isPristine:o,isValid:h,isValidating:d,reset:v,resetValidation:y,validate:_,validationClasses:f}}const Mb=ee({id:String,appendIcon:ze,baseColor:String,centerAffix:{type:Boolean,default:!0},color:String,glow:Boolean,iconColor:[Boolean,String],prependIcon:ze,hideDetails:[Boolean,String],hideSpinButtons:Boolean,hint:String,persistentHint:Boolean,messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:t=>["horizontal","vertical"].includes(t)},"onClick:prepend":_n(),"onClick:append":_n(),...Pe(),...Pi(),...yu(ai(),["maxWidth","minWidth","width"]),...pt(),...F5()},"VInput"),sy=de()({name:"VInput",props:{...Mb()},emits:{"update:modelValue":t=>!0},setup(t,e){let{attrs:n,slots:i,emit:s}=e;const{densityClasses:r}=as(t),{dimensionStyles:a}=oi(t),{themeClasses:o}=Ot(t),{rtlClasses:l}=si(),{InputIcon:c}=Sb(t),u=ks(),h=I(()=>t.id||`input-${u}`),d=I(()=>`${h.value}-messages`),{errorMessages:f,isDirty:g,isDisabled:m,isReadonly:v,isPristine:y,isValid:_,isValidating:p,reset:x,resetValidation:b,validate:C,validationClasses:M}=B5(t,"v-input",h),E=I(()=>({id:h,messagesId:d,isDirty:g,isDisabled:m,isReadonly:v,isPristine:y,isValid:_,isValidating:p,reset:x,resetValidation:b,validate:C})),R=I(()=>t.error||t.disabled?void 0:t.focused?t.color:t.baseColor),O=I(()=>{if(t.iconColor)return t.iconColor===!0?R.value:t.iconColor}),k=I(()=>{var w;return(w=t.errorMessages)!=null&&w.length||!y.value&&f.value.length?f.value:t.hint&&(t.persistentHint||t.focused)?t.hint:t.messages});return Me(()=>{var G,H,z,F;const w=!!(i.prepend||t.prependIcon),A=!!(i.append||t.appendIcon),D=k.value.length>0,X=!t.hideDetails||t.hideDetails==="auto"&&(D||!!i.details);return S("div",{class:["v-input",`v-input--${t.direction}`,{"v-input--center-affix":t.centerAffix,"v-input--focused":t.focused,"v-input--glow":t.glow,"v-input--hide-spin-buttons":t.hideSpinButtons},r.value,o.value,l.value,M.value,t.class],style:[a.value,t.style]},[w&&S("div",{key:"prepend",class:"v-input__prepend"},[(G=i.prepend)==null?void 0:G.call(i,E.value),t.prependIcon&&S(c,{key:"prepend-icon",name:"prepend",color:O.value},null)]),i.default&&S("div",{class:"v-input__control"},[(H=i.default)==null?void 0:H.call(i,E.value)]),A&&S("div",{key:"append",class:"v-input__append"},[t.appendIcon&&S(c,{key:"append-icon",name:"append",color:O.value},null),(z=i.append)==null?void 0:z.call(i,E.value)]),X&&S("div",{id:d.value,class:"v-input__details",role:"alert","aria-live":"polite"},[S(D5,{active:D,messages:k.value},{message:i.message}),(F=i.details)==null?void 0:F.call(i,E.value)])])}),{reset:x,resetValidation:b,validate:C,isValid:_,errorMessages:f}}}),Gg=ee({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),Tb=ee({value:null,disabled:Boolean,selectedClass:String},"group-item");function Rb(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const i=yt("useGroupItem");if(!i)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const s=ks();nn(Symbol.for(`${e.description}:id`),s);const r=rt(e,null);if(!r){if(!n)return r;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${e.description}`)}const a=ye(t,"value"),o=I(()=>!!(r.disabled.value||t.disabled));r.register({id:s,value:a,disabled:o},i),bn(()=>{r.unregister(s)});const l=I(()=>r.isSelected(s)),c=I(()=>r.items.value[0].id===s),u=I(()=>r.items.value[r.items.value.length-1].id===s),h=I(()=>l.value&&[r.selectedClass.value,t.selectedClass]);return be(l,d=>{i.emit("group:selected",{value:d})},{flush:"sync"}),{id:s,isSelected:l,isFirst:c,isLast:u,toggle:()=>r.select(s,!l.value),select:d=>r.select(s,d),selectedClass:h,value:a,disabled:o,group:r}}function zg(t,e){let n=!1;const i=Mt([]),s=bt(t,"modelValue",[],d=>d==null?[]:Ib(i,Jn(d)),d=>{const f=$5(i,d);return t.multiple?f:f[0]}),r=yt("useGroup");function a(d,f){const g=d,m=Symbol.for(`${e.description}:id`),y=jr(m,r==null?void 0:r.vnode).indexOf(f);Mn(g.value)==null&&(g.value=y,g.useIndexAsValue=!0),y>-1?i.splice(y,0,g):i.push(g)}function o(d){if(n)return;l();const f=i.findIndex(g=>g.id===d);i.splice(f,1)}function l(){const d=i.find(f=>!f.disabled);d&&t.mandatory==="force"&&!s.value.length&&(s.value=[d.id])}ii(()=>{l()}),bn(()=>{n=!0}),Sf(()=>{for(let d=0;d<i.length;d++)i[d].useIndexAsValue&&(i[d].value=d)});function c(d,f){const g=i.find(m=>m.id===d);if(!(f&&(g!=null&&g.disabled)))if(t.multiple){const m=s.value.slice(),v=m.findIndex(_=>_===d),y=~v;if(f=f??!y,y&&t.mandatory&&m.length<=1||!y&&t.max!=null&&m.length+1>t.max)return;v<0&&f?m.push(d):v>=0&&!f&&m.splice(v,1),s.value=m}else{const m=s.value.includes(d);if(t.mandatory&&m)return;s.value=f??!m?[d]:[]}}function u(d){if(t.multiple,s.value.length){const f=s.value[0],g=i.findIndex(y=>y.id===f);let m=(g+d)%i.length,v=i[m];for(;v.disabled&&m!==g;)m=(m+d)%i.length,v=i[m];if(v.disabled)return;s.value=[i[m].id]}else{const f=i.find(g=>!g.disabled);f&&(s.value=[f.id])}}const h={register:a,unregister:o,selected:s,select:c,disabled:ye(t,"disabled"),prev:()=>u(i.length-1),next:()=>u(1),isSelected:d=>s.value.includes(d),selectedClass:I(()=>t.selectedClass),items:I(()=>i),getItemIndex:d=>V5(i,d)};return nn(e,h),h}function V5(t,e){const n=Ib(t,[e]);return n.length?t.findIndex(i=>i.id===n[0]):-1}function Ib(t,e){const n=[];return e.forEach(i=>{const s=t.find(a=>ji(i,a.value)),r=t[i];(s==null?void 0:s.value)!=null?n.push(s.id):r!=null&&n.push(r.id)}),n}function $5(t,e){const n=[];return e.forEach(i=>{const s=t.findIndex(r=>r.id===i);if(~s){const r=t[s];n.push(r.value!=null?r.value:s)}}),n}function G5(t){let{selectedElement:e,containerElement:n,isRtl:i,isHorizontal:s}=t;const r=Jo(s,n),a=Ab(s,i,n),o=Jo(s,e),l=Pb(s,e),c=o*.4;return a>l?l-c:a+r<l+o?l-r+o+c:a}function z5(t){let{selectedElement:e,containerElement:n,isHorizontal:i}=t;const s=Jo(i,n),r=Pb(i,e),a=Jo(i,e);return r-s/2+a/2}function ry(t,e){const n=t?"scrollWidth":"scrollHeight";return(e==null?void 0:e[n])||0}function W5(t,e){const n=t?"clientWidth":"clientHeight";return(e==null?void 0:e[n])||0}function Ab(t,e,n){if(!n)return 0;const{scrollLeft:i,offsetWidth:s,scrollWidth:r}=n;return t?e?r-s+i:i:n.scrollTop}function Jo(t,e){const n=t?"offsetWidth":"offsetHeight";return(e==null?void 0:e[n])||0}function Pb(t,e){const n=t?"offsetLeft":"offsetTop";return(e==null?void 0:e[n])||0}const U5=Symbol.for("vuetify:v-slide-group"),Lb=ee({centerActive:Boolean,direction:{type:String,default:"horizontal"},symbol:{type:null,default:U5},nextIcon:{type:ze,default:"$next"},prevIcon:{type:ze,default:"$prev"},showArrows:{type:[Boolean,String],validator:t=>typeof t=="boolean"||["always","desktop","mobile"].includes(t)},...Pe(),...bM({mobile:null}),...ut(),...Gg({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),ay=de()({name:"VSlideGroup",props:Lb(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{isRtl:i}=si(),{displayClasses:s,mobile:r}=Nf(t),a=zg(t,t.symbol),o=ge(!1),l=ge(0),c=ge(0),u=ge(0),h=I(()=>t.direction==="horizontal"),{resizeRef:d,contentRect:f}=da(),{resizeRef:g,contentRect:m}=da(),v=CM(),y=I(()=>({container:d.el,duration:200,easing:"easeOutQuart"})),_=I(()=>a.selected.value.length?a.items.value.findIndex(N=>N.id===a.selected.value[0]):-1),p=I(()=>a.selected.value.length?a.items.value.findIndex(N=>N.id===a.selected.value[a.selected.value.length-1]):-1);if(Je){let N=-1;be(()=>[a.selected.value,f.value,m.value,h.value],()=>{cancelAnimationFrame(N),N=requestAnimationFrame(()=>{if(f.value&&m.value){const L=h.value?"width":"height";c.value=f.value[L],u.value=m.value[L],o.value=c.value+1<u.value}if(_.value>=0&&g.el){const L=g.el.children[p.value];b(L,t.centerActive)}})})}const x=ge(!1);function b(N,L){let ne=0;L?ne=z5({containerElement:d.el,isHorizontal:h.value,selectedElement:N}):ne=G5({containerElement:d.el,isHorizontal:h.value,isRtl:i.value,selectedElement:N}),C(ne)}function C(N){if(!Je||!d.el)return;const L=Jo(h.value,d.el),ne=Ab(h.value,i.value,d.el);if(!(ry(h.value,d.el)<=L||Math.abs(N-ne)<16)){if(h.value&&i.value&&d.el){const{scrollWidth:oe,offsetWidth:pe}=d.el;N=oe-pe-N}h.value?v.horizontal(N,y.value):v(N,y.value)}}function M(N){const{scrollTop:L,scrollLeft:ne}=N.target;l.value=h.value?ne:L}function E(N){if(x.value=!0,!(!o.value||!g.el)){for(const L of N.composedPath())for(const ne of g.el.children)if(ne===L){b(ne);return}}}function R(N){x.value=!1}let O=!1;function k(N){var L;!O&&!x.value&&!(N.relatedTarget&&((L=g.el)!=null&&L.contains(N.relatedTarget)))&&X(),O=!1}function w(){O=!0}function A(N){if(!g.el)return;function L(ne){N.preventDefault(),X(ne)}h.value?N.key==="ArrowRight"?L(i.value?"prev":"next"):N.key==="ArrowLeft"&&L(i.value?"next":"prev"):N.key==="ArrowDown"?L("next"):N.key==="ArrowUp"&&L("prev"),N.key==="Home"?L("first"):N.key==="End"&&L("last")}function D(N,L){if(!N)return;let ne=N;do ne=ne==null?void 0:ne[L==="next"?"nextElementSibling":"previousElementSibling"];while(ne!=null&&ne.hasAttribute("disabled"));return ne}function X(N){if(!g.el)return;let L;if(!N)L=Tc(g.el)[0];else if(N==="next"){if(L=D(g.el.querySelector(":focus"),N),!L)return X("first")}else if(N==="prev"){if(L=D(g.el.querySelector(":focus"),N),!L)return X("last")}else N==="first"?(L=g.el.firstElementChild,L!=null&&L.hasAttribute("disabled")&&(L=D(L,"next"))):N==="last"&&(L=g.el.lastElementChild,L!=null&&L.hasAttribute("disabled")&&(L=D(L,"prev")));L&&L.focus({preventScroll:!0})}function G(N){const L=h.value&&i.value?-1:1,ne=(N==="prev"?-L:L)*c.value;let Z=l.value+ne;if(h.value&&i.value&&d.el){const{scrollWidth:oe,offsetWidth:pe}=d.el;Z+=oe-pe}C(Z)}const H=I(()=>({next:a.next,prev:a.prev,select:a.select,isSelected:a.isSelected})),z=I(()=>{switch(t.showArrows){case"always":return!0;case"desktop":return!r.value;case!0:return o.value||Math.abs(l.value)>0;case"mobile":return r.value||o.value||Math.abs(l.value)>0;default:return!r.value&&(o.value||Math.abs(l.value)>0)}}),F=I(()=>Math.abs(l.value)>1),$=I(()=>{if(!d.value)return!1;const N=ry(h.value,d.el),L=W5(h.value,d.el);return N-L-Math.abs(l.value)>1});return Me(()=>S(t.tag,{class:["v-slide-group",{"v-slide-group--vertical":!h.value,"v-slide-group--has-affixes":z.value,"v-slide-group--is-overflowing":o.value},s.value,t.class],style:t.style,tabindex:x.value||a.selected.value.length?-1:0,onFocus:k},{default:()=>{var N,L,ne;return[z.value&&S("div",{key:"prev",class:["v-slide-group__prev",{"v-slide-group__prev--disabled":!F.value}],onMousedown:w,onClick:()=>F.value&&G("prev")},[((N=n.prev)==null?void 0:N.call(n,H.value))??S(ny,null,{default:()=>[S(Tt,{icon:i.value?t.nextIcon:t.prevIcon},null)]})]),S("div",{key:"container",ref:d,class:"v-slide-group__container",onScroll:M},[S("div",{ref:g,class:"v-slide-group__content",onFocusin:E,onFocusout:R,onKeydown:A},[(L=n.default)==null?void 0:L.call(n,H.value)])]),z.value&&S("div",{key:"next",class:["v-slide-group__next",{"v-slide-group__next--disabled":!$.value}],onMousedown:w,onClick:()=>$.value&&G("next")},[((ne=n.next)==null?void 0:ne.call(n,H.value))??S(ny,null,{default:()=>[S(Tt,{icon:i.value?t.prevIcon:t.nextIcon},null)]})])]}})),{selected:a.selected,scrollTo:G,scrollOffset:l,focus:X,hasPrev:F,hasNext:$}}}),Ob=Symbol.for("vuetify:v-chip-group"),j5=ee({baseColor:String,column:Boolean,filter:Boolean,valueComparator:{type:Function,default:ji},...Lb(),...Pe(),...Gg({selectedClass:"v-chip--selected"}),...ut(),...pt(),...Bs({variant:"tonal"})},"VChipGroup");de()({name:"VChipGroup",props:j5(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{themeClasses:i}=Ot(t),{isSelected:s,select:r,next:a,prev:o,selected:l}=zg(t,Ob);return wr({VChip:{baseColor:ye(t,"baseColor"),color:ye(t,"color"),disabled:ye(t,"disabled"),filter:ye(t,"filter"),variant:ye(t,"variant")}}),Me(()=>{const c=ay.filterProps(t);return S(ay,ke(c,{class:["v-chip-group",{"v-chip-group--column":t.column},i.value,t.class],style:t.style}),{default:()=>{var u;return[(u=n.default)==null?void 0:u.call(n,{isSelected:s,select:r,next:a,prev:o,selected:l.value})]}})}),{}}});const H5=ee({activeClass:String,appendAvatar:String,appendIcon:ze,baseColor:String,closable:Boolean,closeIcon:{type:ze,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:ze,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:ze,ripple:{type:[Boolean,Object],default:!0},text:{type:[String,Number,Boolean],default:void 0},modelValue:{type:Boolean,default:!0},onClick:_n(),onClickOnce:_n(),...ss(),...Pe(),...Pi(),...Vs(),...Tb(),...jn(),...Yu(),...Sl(),...ut({tag:"span"}),...pt(),...Bs({variant:"tonal"})},"VChip"),X5=de()({name:"VChip",directives:{Ripple:Tl},props:H5(),emits:{"click:close":t=>!0,"update:modelValue":t=>!0,"group:selected":t=>!0,click:t=>!0},setup(t,e){let{attrs:n,emit:i,slots:s}=e;const{t:r}=Df(),{borderClasses:a}=rs(t),{densityClasses:o}=as(t),{elevationClasses:l}=$s(t),{roundedClasses:c}=Hn(t),{sizeClasses:u}=El(t),{themeClasses:h}=Ot(t),d=bt(t,"modelValue"),f=Rb(t,Ob,!1),g=Ku(t,n),m=I(()=>t.link!==!1&&g.isLink.value),v=I(()=>!t.disabled&&t.link!==!1&&(!!f||t.link||g.isClickable.value)),y=I(()=>({"aria-label":r(t.closeLabel),onClick(E){E.preventDefault(),E.stopPropagation(),d.value=!1,i("click:close",E)}})),_=I(()=>({color:!f||f.isSelected.value?t.color??t.baseColor:t.baseColor,variant:t.variant})),{colorClasses:p,colorStyles:x,variantClasses:b}=Ml(_);function C(E){var R;i("click",E),v.value&&((R=g.navigate)==null||R.call(g,E),f==null||f.toggle())}function M(E){(E.key==="Enter"||E.key===" ")&&(E.preventDefault(),C(E))}return()=>{var X;const E=g.isLink.value?"a":t.tag,R=!!(t.appendIcon||t.appendAvatar),O=!!(R||s.append),k=!!(s.close||t.closable),w=!!(s.filter||t.filter)&&f,A=!!(t.prependIcon||t.prependAvatar),D=!!(A||s.prepend);return d.value&&In(S(E,ke({class:["v-chip",{"v-chip--disabled":t.disabled,"v-chip--label":t.label,"v-chip--link":v.value,"v-chip--filter":w,"v-chip--pill":t.pill,[`${t.activeClass}`]:t.activeClass&&((X=g.isActive)==null?void 0:X.value)},h.value,a.value,p.value,o.value,l.value,c.value,u.value,b.value,f==null?void 0:f.selectedClass.value,t.class],style:[x.value,t.style],disabled:t.disabled||void 0,draggable:t.draggable,tabindex:v.value?0:void 0,onClick:C,onKeydown:v.value&&!m.value&&M},g.linkProps),{default:()=>{var G;return[wl(v.value,"v-chip"),w&&S(yb,{key:"filter"},{default:()=>[In(S("div",{class:"v-chip__filter"},[s.filter?S(_t,{key:"filter-defaults",disabled:!t.filterIcon,defaults:{VIcon:{icon:t.filterIcon}}},s.filter):S(Tt,{key:"filter-icon",icon:t.filterIcon},null)]),[[Ca,f.isSelected.value]])]}),D&&S("div",{key:"prepend",class:"v-chip__prepend"},[s.prepend?S(_t,{key:"prepend-defaults",disabled:!A,defaults:{VAvatar:{image:t.prependAvatar,start:!0},VIcon:{icon:t.prependIcon,start:!0}}},s.prepend):S(Ge,null,[t.prependIcon&&S(Tt,{key:"prepend-icon",icon:t.prependIcon,start:!0},null),t.prependAvatar&&S(Sr,{key:"prepend-avatar",image:t.prependAvatar,start:!0},null)])]),S("div",{class:"v-chip__content","data-no-activator":""},[((G=s.default)==null?void 0:G.call(s,{isSelected:f==null?void 0:f.isSelected.value,selectedClass:f==null?void 0:f.selectedClass.value,select:f==null?void 0:f.select,toggle:f==null?void 0:f.toggle,value:f==null?void 0:f.value.value,disabled:t.disabled}))??dn(t.text)]),O&&S("div",{key:"append",class:"v-chip__append"},[s.append?S(_t,{key:"append-defaults",disabled:!R,defaults:{VAvatar:{end:!0,image:t.appendAvatar},VIcon:{end:!0,icon:t.appendIcon}}},s.append):S(Ge,null,[t.appendIcon&&S(Tt,{key:"append-icon",end:!0,icon:t.appendIcon},null),t.appendAvatar&&S(Sr,{key:"append-avatar",end:!0,image:t.appendAvatar},null)])]),k&&S("button",ke({key:"close",class:"v-chip__close",type:"button","data-testid":"close-chip"},y.value),[s.close?S(_t,{key:"close-defaults",defaults:{VIcon:{icon:t.closeIcon,size:"x-small"}}},s.close):S(Tt,{key:"close-icon",icon:t.closeIcon,size:"x-small"},null)])]}}),[[Cr("ripple"),v.value&&t.ripple,null]])}}}),Zd=Symbol.for("vuetify:list");function kb(){const t=rt(Zd,{hasPrepend:ge(!1),updateHasPrepend:()=>null}),e={hasPrepend:ge(!1),updateHasPrepend:n=>{n&&(e.hasPrepend.value=n)}};return nn(Zd,e),t}function Db(){return rt(Zd,null)}const Wg=t=>{const e={activate:n=>{let{id:i,value:s,activated:r}=n;return i=ve(i),t&&!s&&r.size===1&&r.has(i)||(s?r.add(i):r.delete(i)),r},in:(n,i,s)=>{let r=new Set;if(n!=null)for(const a of Jn(n))r=e.activate({id:a,value:!0,activated:new Set(r),children:i,parents:s});return r},out:n=>Array.from(n)};return e},Nb=t=>{const e=Wg(t);return{activate:i=>{let{activated:s,id:r,...a}=i;r=ve(r);const o=s.has(r)?new Set([r]):new Set;return e.activate({...a,id:r,activated:o})},in:(i,s,r)=>{let a=new Set;if(i!=null){const o=Jn(i);o.length&&(a=e.in(o.slice(0,1),s,r))}return a},out:(i,s,r)=>e.out(i,s,r)}},q5=t=>{const e=Wg(t);return{activate:i=>{let{id:s,activated:r,children:a,...o}=i;return s=ve(s),a.has(s)?r:e.activate({id:s,activated:r,children:a,...o})},in:e.in,out:e.out}},K5=t=>{const e=Nb(t);return{activate:i=>{let{id:s,activated:r,children:a,...o}=i;return s=ve(s),a.has(s)?r:e.activate({id:s,activated:r,children:a,...o})},in:e.in,out:e.out}},Y5={open:t=>{let{id:e,value:n,opened:i,parents:s}=t;if(n){const r=new Set;r.add(e);let a=s.get(e);for(;a!=null;)r.add(a),a=s.get(a);return r}else return i.delete(e),i},select:()=>null},Fb={open:t=>{let{id:e,value:n,opened:i,parents:s}=t;if(n){let r=s.get(e);for(i.add(e);r!=null&&r!==e;)i.add(r),r=s.get(r);return i}else i.delete(e);return i},select:()=>null},Z5={open:Fb.open,select:t=>{let{id:e,value:n,opened:i,parents:s}=t;if(!n)return i;const r=[];let a=s.get(e);for(;a!=null;)r.push(a),a=s.get(a);return new Set(r)}},Ug=t=>{const e={select:n=>{let{id:i,value:s,selected:r}=n;if(i=ve(i),t&&!s){const a=Array.from(r.entries()).reduce((o,l)=>{let[c,u]=l;return u==="on"&&o.push(c),o},[]);if(a.length===1&&a[0]===i)return r}return r.set(i,s?"on":"off"),r},in:(n,i,s)=>{const r=new Map;for(const a of n||[])e.select({id:a,value:!0,selected:r,children:i,parents:s});return r},out:n=>{const i=[];for(const[s,r]of n.entries())r==="on"&&i.push(s);return i}};return e},Bb=t=>{const e=Ug(t);return{select:i=>{let{selected:s,id:r,...a}=i;r=ve(r);const o=s.has(r)?new Map([[r,s.get(r)]]):new Map;return e.select({...a,id:r,selected:o})},in:(i,s,r)=>i!=null&&i.length?e.in(i.slice(0,1),s,r):new Map,out:(i,s,r)=>e.out(i,s,r)}},J5=t=>{const e=Ug(t);return{select:i=>{let{id:s,selected:r,children:a,...o}=i;return s=ve(s),a.has(s)?r:e.select({id:s,selected:r,children:a,...o})},in:e.in,out:e.out}},Q5=t=>{const e=Bb(t);return{select:i=>{let{id:s,selected:r,children:a,...o}=i;return s=ve(s),a.has(s)?r:e.select({id:s,selected:r,children:a,...o})},in:e.in,out:e.out}},Vb=t=>{const e={select:n=>{let{id:i,value:s,selected:r,children:a,parents:o}=n;i=ve(i);const l=new Map(r),c=[i];for(;c.length;){const h=c.shift();r.set(ve(h),s?"on":"off"),a.has(h)&&c.push(...a.get(h))}let u=ve(o.get(i));for(;u;){const h=a.get(u),d=h.every(g=>r.get(ve(g))==="on"),f=h.every(g=>!r.has(ve(g))||r.get(ve(g))==="off");r.set(u,d?"on":f?"off":"indeterminate"),u=ve(o.get(u))}return t&&!s&&Array.from(r.entries()).reduce((d,f)=>{let[g,m]=f;return m==="on"&&d.push(g),d},[]).length===0?l:r},in:(n,i,s)=>{let r=new Map;for(const a of n||[])r=e.select({id:a,value:!0,selected:r,children:i,parents:s});return r},out:(n,i)=>{const s=[];for(const[r,a]of n.entries())a==="on"&&!i.has(r)&&s.push(r);return s}};return e},e6=t=>{const e=Vb(t);return{select:e.select,in:e.in,out:(i,s,r)=>{const a=[];for(const[o,l]of i.entries())if(l==="on"){if(r.has(o)){const c=r.get(o);if(i.get(c)==="on")continue}a.push(o)}return a}}},Qo=Symbol.for("vuetify:nested"),$b={id:ge(),root:{register:()=>null,unregister:()=>null,parents:le(new Map),children:le(new Map),open:()=>null,openOnSelect:()=>null,activate:()=>null,select:()=>null,activatable:le(!1),selectable:le(!1),opened:le(new Set),activated:le(new Set),selected:le(new Map),selectedValues:le([]),getPath:()=>[]}},t6=ee({activatable:Boolean,selectable:Boolean,activeStrategy:[String,Function,Object],selectStrategy:[String,Function,Object],openStrategy:[String,Object],opened:null,activated:null,selected:null,mandatory:Boolean},"nested"),n6=t=>{let e=!1;const n=le(new Map),i=le(new Map),s=bt(t,"opened",t.opened,g=>new Set(g),g=>[...g.values()]),r=I(()=>{if(typeof t.activeStrategy=="object")return t.activeStrategy;if(typeof t.activeStrategy=="function")return t.activeStrategy(t.mandatory);switch(t.activeStrategy){case"leaf":return q5(t.mandatory);case"single-leaf":return K5(t.mandatory);case"independent":return Wg(t.mandatory);case"single-independent":default:return Nb(t.mandatory)}}),a=I(()=>{if(typeof t.selectStrategy=="object")return t.selectStrategy;if(typeof t.selectStrategy=="function")return t.selectStrategy(t.mandatory);switch(t.selectStrategy){case"single-leaf":return Q5(t.mandatory);case"leaf":return J5(t.mandatory);case"independent":return Ug(t.mandatory);case"single-independent":return Bb(t.mandatory);case"trunk":return e6(t.mandatory);case"classic":default:return Vb(t.mandatory)}}),o=I(()=>{if(typeof t.openStrategy=="object")return t.openStrategy;switch(t.openStrategy){case"list":return Z5;case"single":return Y5;case"multiple":default:return Fb}}),l=bt(t,"activated",t.activated,g=>r.value.in(g,n.value,i.value),g=>r.value.out(g,n.value,i.value)),c=bt(t,"selected",t.selected,g=>a.value.in(g,n.value,i.value),g=>a.value.out(g,n.value,i.value));bn(()=>{e=!0});function u(g){const m=[];let v=g;for(;v!=null;)m.unshift(v),v=i.value.get(v);return m}const h=yt("nested"),d=new Set,f={id:ge(),root:{opened:s,activatable:ye(t,"activatable"),selectable:ye(t,"selectable"),activated:l,selected:c,selectedValues:I(()=>{const g=[];for(const[m,v]of c.value.entries())v==="on"&&g.push(m);return g}),register:(g,m,v)=>{if(d.has(g)){u(g).map(String).join(" -> "),u(m).concat(g).map(String).join(" -> ");return}else d.add(g);m&&g!==m&&i.value.set(g,m),v&&n.value.set(g,[]),m!=null&&n.value.set(m,[...n.value.get(m)||[],g])},unregister:g=>{if(e)return;d.delete(g),n.value.delete(g);const m=i.value.get(g);if(m){const v=n.value.get(m)??[];n.value.set(m,v.filter(y=>y!==g))}i.value.delete(g)},open:(g,m,v)=>{h.emit("click:open",{id:g,value:m,path:u(g),event:v});const y=o.value.open({id:g,value:m,opened:new Set(s.value),children:n.value,parents:i.value,event:v});y&&(s.value=y)},openOnSelect:(g,m,v)=>{const y=o.value.select({id:g,value:m,selected:new Map(c.value),opened:new Set(s.value),children:n.value,parents:i.value,event:v});y&&(s.value=y)},select:(g,m,v)=>{h.emit("click:select",{id:g,value:m,path:u(g),event:v});const y=a.value.select({id:g,value:m,selected:new Map(c.value),children:n.value,parents:i.value,event:v});y&&(c.value=y),f.root.openOnSelect(g,m,v)},activate:(g,m,v)=>{if(!t.activatable)return f.root.select(g,!0,v);h.emit("click:activate",{id:g,value:m,path:u(g),event:v});const y=r.value.activate({id:g,value:m,activated:new Set(l.value),children:n.value,parents:i.value,event:v});if(y.size!==l.value.size)l.value=y;else{for(const _ of y)if(!l.value.has(_)){l.value=y;return}for(const _ of l.value)if(!y.has(_)){l.value=y;return}}},children:n,parents:i,getPath:u}};return nn(Qo,f),f.root},Gb=(t,e)=>{const n=rt(Qo,$b),i=Symbol("nested item"),s=I(()=>t.value!==void 0?t.value:i),r={...n,id:s,open:(a,o)=>n.root.open(s.value,a,o),openOnSelect:(a,o)=>n.root.openOnSelect(s.value,a,o),isOpen:I(()=>n.root.opened.value.has(s.value)),parent:I(()=>n.root.parents.value.get(s.value)),activate:(a,o)=>n.root.activate(s.value,a,o),isActivated:I(()=>n.root.activated.value.has(ve(s.value))),select:(a,o)=>n.root.select(s.value,a,o),isSelected:I(()=>n.root.selected.value.get(ve(s.value))==="on"),isIndeterminate:I(()=>n.root.selected.value.get(ve(s.value))==="indeterminate"),isLeaf:I(()=>!n.root.children.value.get(s.value)),isGroupActivator:n.isGroupActivator};return nl(()=>{!n.isGroupActivator&&n.root.register(s.value,n.id.value,e)}),bn(()=>{!n.isGroupActivator&&n.root.unregister(s.value)}),e&&nn(Qo,r),r},i6=()=>{const t=rt(Qo,$b);nn(Qo,{...t,isGroupActivator:!0})};function jg(){const t=ge(!1);return ii(()=>{window.requestAnimationFrame(()=>{t.value=!0})}),{ssrBootStyles:I(()=>t.value?void 0:{transition:"none !important"}),isBooted:el(t)}}const s6=Ma({name:"VListGroupActivator",setup(t,e){let{slots:n}=e;return i6(),()=>{var i;return(i=n.default)==null?void 0:i.call(n)}}}),r6=ee({activeColor:String,baseColor:String,color:String,collapseIcon:{type:ze,default:"$collapse"},expandIcon:{type:ze,default:"$expand"},prependIcon:ze,appendIcon:ze,fluid:Boolean,subgroup:Boolean,title:String,value:null,...Pe(),...ut()},"VListGroup"),oy=de()({name:"VListGroup",props:r6(),setup(t,e){let{slots:n}=e;const{isOpen:i,open:s,id:r}=Gb(ye(t,"value"),!0),a=I(()=>`v-list-group--id-${String(r.value)}`),o=Db(),{isBooted:l}=jg();function c(f){var g;f.stopPropagation(),!["INPUT","TEXTAREA"].includes((g=f.target)==null?void 0:g.tagName)&&s(!i.value,f)}const u=I(()=>({onClick:c,class:"v-list-group__header",id:a.value})),h=I(()=>i.value?t.collapseIcon:t.expandIcon),d=I(()=>({VListItem:{active:i.value,activeColor:t.activeColor,baseColor:t.baseColor,color:t.color,prependIcon:t.prependIcon||t.subgroup&&h.value,appendIcon:t.appendIcon||!t.subgroup&&h.value,title:t.title,value:t.value}}));return Me(()=>S(t.tag,{class:["v-list-group",{"v-list-group--prepend":o==null?void 0:o.hasPrepend.value,"v-list-group--fluid":t.fluid,"v-list-group--subgroup":t.subgroup,"v-list-group--open":i.value},t.class],style:t.style},{default:()=>[n.activator&&S(_t,{defaults:d.value},{default:()=>[S(s6,null,{default:()=>[n.activator({props:u.value,isOpen:i.value})]})]}),S(Ss,{transition:{component:vb},disabled:!l.value},{default:()=>{var f;return[In(S("div",{class:"v-list-group__items",role:"group","aria-labelledby":a.value},[(f=n.default)==null?void 0:f.call(n)]),[[Ca,i.value]])]}})]})),{isOpen:i}}}),a6=ee({opacity:[Number,String],...Pe(),...ut()},"VListItemSubtitle"),o6=de()({name:"VListItemSubtitle",props:a6(),setup(t,e){let{slots:n}=e;return Me(()=>S(t.tag,{class:["v-list-item-subtitle",t.class],style:[{"--v-list-item-subtitle-opacity":t.opacity},t.style]},n)),{}}}),l6=lp("v-list-item-title"),c6=ee({active:{type:Boolean,default:void 0},activeClass:String,activeColor:String,appendAvatar:String,appendIcon:ze,baseColor:String,disabled:Boolean,lines:[Boolean,String],link:{type:Boolean,default:void 0},nav:Boolean,prependAvatar:String,prependIcon:ze,ripple:{type:[Boolean,Object],default:!0},slim:Boolean,subtitle:{type:[String,Number,Boolean],default:void 0},title:{type:[String,Number,Boolean],default:void 0},value:null,onClick:_n(),onClickOnce:_n(),...ss(),...Pe(),...Pi(),...ai(),...Vs(),...jn(),...Yu(),...ut(),...pt(),...Bs({variant:"text"})},"VListItem"),ru=de()({name:"VListItem",directives:{Ripple:Tl},props:c6(),emits:{click:t=>!0},setup(t,e){let{attrs:n,slots:i,emit:s}=e;const r=Ku(t,n),a=I(()=>t.value===void 0?r.href.value:t.value),{activate:o,isActivated:l,select:c,isOpen:u,isSelected:h,isIndeterminate:d,isGroupActivator:f,root:g,parent:m,openOnSelect:v,id:y}=Gb(a,!1),_=Db(),p=I(()=>{var Z;return t.active!==!1&&(t.active||((Z=r.isActive)==null?void 0:Z.value)||(g.activatable.value?l.value:h.value))}),x=I(()=>t.link!==!1&&r.isLink.value),b=I(()=>!!_&&(g.selectable.value||g.activatable.value||t.value!=null)),C=I(()=>!t.disabled&&t.link!==!1&&(t.link||r.isClickable.value||b.value)),M=I(()=>t.rounded||t.nav),E=I(()=>t.color??t.activeColor),R=I(()=>({color:p.value?E.value??t.baseColor:t.baseColor,variant:t.variant}));be(()=>{var Z;return(Z=r.isActive)==null?void 0:Z.value},Z=>{Z&&O()}),nl(()=>{var Z;(Z=r.isActive)!=null&&Z.value&&O()});function O(){m.value!=null&&g.open(m.value,!0),v(!0)}const{themeClasses:k}=Ot(t),{borderClasses:w}=rs(t),{colorClasses:A,colorStyles:D,variantClasses:X}=Ml(R),{densityClasses:G}=as(t),{dimensionStyles:H}=oi(t),{elevationClasses:z}=$s(t),{roundedClasses:F}=Hn(M),$=I(()=>t.lines?`v-list-item--${t.lines}-line`:void 0),N=I(()=>({isActive:p.value,select:c,isOpen:u.value,isSelected:h.value,isIndeterminate:d.value}));function L(Z){var oe,pe;s("click",Z),!["INPUT","TEXTAREA"].includes((oe=Z.target)==null?void 0:oe.tagName)&&C.value&&((pe=r.navigate)==null||pe.call(r,Z),!f&&(g.activatable.value?o(!l.value,Z):(g.selectable.value||t.value!=null)&&c(!h.value,Z)))}function ne(Z){const oe=Z.target;["INPUT","TEXTAREA"].includes(oe.tagName)||(Z.key==="Enter"||Z.key===" ")&&(Z.preventDefault(),Z.target.dispatchEvent(new MouseEvent("click",Z)))}return Me(()=>{const Z=x.value?"a":t.tag,oe=i.title||t.title!=null,pe=i.subtitle||t.subtitle!=null,ae=!!(t.appendAvatar||t.appendIcon),ce=!!(ae||i.append),Ne=!!(t.prependAvatar||t.prependIcon),Re=!!(Ne||i.prepend);return _==null||_.updateHasPrepend(Re),t.activeColor&&iw("active-color",["color","base-color"]),In(S(Z,ke({class:["v-list-item",{"v-list-item--active":p.value,"v-list-item--disabled":t.disabled,"v-list-item--link":C.value,"v-list-item--nav":t.nav,"v-list-item--prepend":!Re&&(_==null?void 0:_.hasPrepend.value),"v-list-item--slim":t.slim,[`${t.activeClass}`]:t.activeClass&&p.value},k.value,w.value,A.value,G.value,z.value,$.value,F.value,X.value,t.class],style:[D.value,H.value,t.style],tabindex:C.value?_?-2:0:void 0,"aria-selected":b.value?g.activatable.value?l.value:g.selectable.value?h.value:p.value:void 0,onClick:L,onKeydown:C.value&&!x.value&&ne},r.linkProps),{default:()=>{var sn;return[wl(C.value||p.value,"v-list-item"),Re&&S("div",{key:"prepend",class:"v-list-item__prepend"},[i.prepend?S(_t,{key:"prepend-defaults",disabled:!Ne,defaults:{VAvatar:{density:t.density,image:t.prependAvatar},VIcon:{density:t.density,icon:t.prependIcon},VListItemAction:{start:!0}}},{default:()=>{var T;return[(T=i.prepend)==null?void 0:T.call(i,N.value)]}}):S(Ge,null,[t.prependAvatar&&S(Sr,{key:"prepend-avatar",density:t.density,image:t.prependAvatar},null),t.prependIcon&&S(Tt,{key:"prepend-icon",density:t.density,icon:t.prependIcon},null)]),S("div",{class:"v-list-item__spacer"},null)]),S("div",{class:"v-list-item__content","data-no-activator":""},[oe&&S(l6,{key:"title"},{default:()=>{var T;return[((T=i.title)==null?void 0:T.call(i,{title:t.title}))??dn(t.title)]}}),pe&&S(o6,{key:"subtitle"},{default:()=>{var T;return[((T=i.subtitle)==null?void 0:T.call(i,{subtitle:t.subtitle}))??dn(t.subtitle)]}}),(sn=i.default)==null?void 0:sn.call(i,N.value)]),ce&&S("div",{key:"append",class:"v-list-item__append"},[i.append?S(_t,{key:"append-defaults",disabled:!ae,defaults:{VAvatar:{density:t.density,image:t.appendAvatar},VIcon:{density:t.density,icon:t.appendIcon},VListItemAction:{end:!0}}},{default:()=>{var T;return[(T=i.append)==null?void 0:T.call(i,N.value)]}}):S(Ge,null,[t.appendIcon&&S(Tt,{key:"append-icon",density:t.density,icon:t.appendIcon},null),t.appendAvatar&&S(Sr,{key:"append-avatar",density:t.density,image:t.appendAvatar},null)]),S("div",{class:"v-list-item__spacer"},null)])]}}),[[Cr("ripple"),C.value&&t.ripple]])}),{activate:o,isActivated:l,isGroupActivator:f,isSelected:h,list:_,select:c,root:g,id:y,link:r}}}),u6=ee({color:String,inset:Boolean,sticky:Boolean,title:String,...Pe(),...ut()},"VListSubheader"),h6=de()({name:"VListSubheader",props:u6(),setup(t,e){let{slots:n}=e;const{textColorClasses:i,textColorStyles:s}=Ji(ye(t,"color"));return Me(()=>{const r=!!(n.default||t.title);return S(t.tag,{class:["v-list-subheader",{"v-list-subheader--inset":t.inset,"v-list-subheader--sticky":t.sticky},i.value,t.class],style:[{textColorStyles:s},t.style]},{default:()=>{var a;return[r&&S("div",{class:"v-list-subheader__text"},[((a=n.default)==null?void 0:a.call(n))??t.title])]}})}),{}}}),d6=ee({color:String,inset:Boolean,length:[Number,String],opacity:[Number,String],thickness:[Number,String],vertical:Boolean,...Pe(),...pt()},"VDivider"),f6=de()({name:"VDivider",props:d6(),setup(t,e){let{attrs:n,slots:i}=e;const{themeClasses:s}=Ot(t),{textColorClasses:r,textColorStyles:a}=Ji(ye(t,"color")),o=I(()=>{const l={};return t.length&&(l[t.vertical?"height":"width"]=Ee(t.length)),t.thickness&&(l[t.vertical?"borderRightWidth":"borderTopWidth"]=Ee(t.thickness)),l});return Me(()=>{const l=S("hr",{class:[{"v-divider":!0,"v-divider--inset":t.inset,"v-divider--vertical":t.vertical},s.value,r.value,t.class],style:[o.value,a.value,{"--v-border-opacity":t.opacity},t.style],"aria-orientation":!n.role||n.role==="separator"?t.vertical?"vertical":"horizontal":void 0,role:`${n.role||"separator"}`},null);return i.default?S("div",{class:["v-divider__wrapper",{"v-divider__wrapper--vertical":t.vertical,"v-divider__wrapper--inset":t.inset}]},[l,S("div",{class:"v-divider__content"},[i.default()]),l]):l}),{}}}),g6=ee({items:Array,returnObject:Boolean},"VListChildren"),zb=de()({name:"VListChildren",props:g6(),setup(t,e){let{slots:n}=e;return kb(),()=>{var i,s;return((i=n.default)==null?void 0:i.call(n))??((s=t.items)==null?void 0:s.map(r=>{var d,f;let{children:a,props:o,type:l,raw:c}=r;if(l==="divider")return((d=n.divider)==null?void 0:d.call(n,{props:o}))??S(f6,o,null);if(l==="subheader")return((f=n.subheader)==null?void 0:f.call(n,{props:o}))??S(h6,o,null);const u={subtitle:n.subtitle?g=>{var m;return(m=n.subtitle)==null?void 0:m.call(n,{...g,item:c})}:void 0,prepend:n.prepend?g=>{var m;return(m=n.prepend)==null?void 0:m.call(n,{...g,item:c})}:void 0,append:n.append?g=>{var m;return(m=n.append)==null?void 0:m.call(n,{...g,item:c})}:void 0,title:n.title?g=>{var m;return(m=n.title)==null?void 0:m.call(n,{...g,item:c})}:void 0},h=oy.filterProps(o);return a?S(oy,ke({value:o==null?void 0:o.value},h),{activator:g=>{let{props:m}=g;const v={...o,...m,value:t.returnObject?c:o.value};return n.header?n.header({props:v}):S(ru,v,u)},default:()=>S(zb,{items:a,returnObject:t.returnObject},n)}):n.item?n.item({props:o}):S(ru,ke(o,{value:t.returnObject?c:o.value}),u)}))}}}),Wb=ee({items:{type:Array,default:()=>[]},itemTitle:{type:[String,Array,Function],default:"title"},itemValue:{type:[String,Array,Function],default:"value"},itemChildren:{type:[Boolean,String,Array,Function],default:"children"},itemProps:{type:[Boolean,String,Array,Function],default:"props"},returnObject:Boolean,valueComparator:Function},"list-items");function Jd(t,e){const n=mi(e,t.itemTitle,e),i=mi(e,t.itemValue,n),s=mi(e,t.itemChildren),r=t.itemProps===!0?typeof e=="object"&&e!=null&&!Array.isArray(e)?"children"in e?wa(e,["children"]):e:void 0:mi(e,t.itemProps),a={title:n,value:i,...r};return{title:String(a.title??""),value:a.value,props:a,children:Array.isArray(s)?Ub(t,s):void 0,raw:e}}function Ub(t,e){const n=yu(t,["itemTitle","itemValue","itemChildren","itemProps","returnObject","valueComparator"]),i=[];for(const s of e)i.push(Jd(n,s));return i}function m6(t){const e=I(()=>Ub(t,t.items)),n=I(()=>e.value.some(o=>o.value===null)),i=ge(new Map),s=ge([]);Wn(()=>{const o=e.value,l=new Map,c=[];for(let u=0;u<o.length;u++){const h=o[u];if(ep(h.value)||h.value===null){let d=l.get(h.value);d||(d=[],l.set(h.value,d)),d.push(h)}else c.push(h)}i.value=l,s.value=c});function r(o){const l=i.value,c=e.value,u=s.value,h=n.value,d=t.returnObject,f=!!t.valueComparator,g=t.valueComparator||ji,m=yu(t,["itemTitle","itemValue","itemChildren","itemProps","returnObject","valueComparator"]),v=[];e:for(const y of o){if(!h&&y===null)continue;if(d&&typeof y=="string"){v.push(Jd(m,y));continue}const _=l.get(y);if(f||!_){for(const p of f?c:u)if(g(y,p.value)){v.push(p);continue e}v.push(Jd(m,y));continue}v.push(..._)}return v}function a(o){return t.returnObject?o.map(l=>{let{raw:c}=l;return c}):o.map(l=>{let{value:c}=l;return c})}return{items:e,transformIn:r,transformOut:a}}function v6(t,e){const n=mi(e,t.itemType,"item"),i=ep(e)?e:mi(e,t.itemTitle),s=mi(e,t.itemValue,void 0),r=mi(e,t.itemChildren),a=t.itemProps===!0?wa(e,["children"]):mi(e,t.itemProps),o={title:i,value:s,...a};return{type:n,title:o.title,value:o.value,props:o,children:n==="item"&&r?jb(t,r):void 0,raw:e}}function jb(t,e){const n=[];for(const i of e)n.push(v6(t,i));return n}function y6(t){return{items:I(()=>jb(t,t.items))}}const _6=ee({baseColor:String,activeColor:String,activeClass:String,bgColor:String,disabled:Boolean,expandIcon:ze,collapseIcon:ze,lines:{type:[Boolean,String],default:"one"},slim:Boolean,nav:Boolean,"onClick:open":_n(),"onClick:select":_n(),"onUpdate:opened":_n(),...t6({selectStrategy:"single-leaf",openStrategy:"list"}),...ss(),...Pe(),...Pi(),...ai(),...Vs(),itemType:{type:String,default:"type"},...Wb(),...jn(),...ut(),...pt(),...Bs({variant:"text"})},"VList"),p6=de()({name:"VList",props:_6(),emits:{"update:selected":t=>!0,"update:activated":t=>!0,"update:opened":t=>!0,"click:open":t=>!0,"click:activate":t=>!0,"click:select":t=>!0},setup(t,e){let{slots:n}=e;const{items:i}=y6(t),{themeClasses:s}=Ot(t),{backgroundColorClasses:r,backgroundColorStyles:a}=Mi(ye(t,"bgColor")),{borderClasses:o}=rs(t),{densityClasses:l}=as(t),{dimensionStyles:c}=oi(t),{elevationClasses:u}=$s(t),{roundedClasses:h}=Hn(t),{children:d,open:f,parents:g,select:m,getPath:v}=n6(t),y=I(()=>t.lines?`v-list--${t.lines}-line`:void 0),_=ye(t,"activeColor"),p=ye(t,"baseColor"),x=ye(t,"color");kb(),wr({VListGroup:{activeColor:_,baseColor:p,color:x,expandIcon:ye(t,"expandIcon"),collapseIcon:ye(t,"collapseIcon")},VListItem:{activeClass:ye(t,"activeClass"),activeColor:_,baseColor:p,color:x,density:ye(t,"density"),disabled:ye(t,"disabled"),lines:ye(t,"lines"),nav:ye(t,"nav"),slim:ye(t,"slim"),variant:ye(t,"variant")}});const b=ge(!1),C=le();function M(A){b.value=!0}function E(A){b.value=!1}function R(A){var D;!b.value&&!(A.relatedTarget&&((D=C.value)!=null&&D.contains(A.relatedTarget)))&&w()}function O(A){const D=A.target;if(!(!C.value||["INPUT","TEXTAREA"].includes(D.tagName))){if(A.key==="ArrowDown")w("next");else if(A.key==="ArrowUp")w("prev");else if(A.key==="Home")w("first");else if(A.key==="End")w("last");else return;A.preventDefault()}}function k(A){b.value=!0}function w(A){if(C.value)return mo(C.value,A)}return Me(()=>S(t.tag,{ref:C,class:["v-list",{"v-list--disabled":t.disabled,"v-list--nav":t.nav,"v-list--slim":t.slim},s.value,r.value,o.value,l.value,u.value,y.value,h.value,t.class],style:[a.value,c.value,t.style],tabindex:t.disabled?-1:0,role:"listbox","aria-activedescendant":void 0,onFocusin:M,onFocusout:E,onFocus:R,onKeydown:O,onMousedown:k},{default:()=>[S(zb,{items:i.value,returnObject:t.returnObject},n)]})),{open:f,select:m,focus:w,children:d,parents:g,getPath:v}}});function Kh(t,e){return{x:t.x+e.x,y:t.y+e.y}}function x6(t,e){return{x:t.x-e.x,y:t.y-e.y}}function ly(t,e){if(t.side==="top"||t.side==="bottom"){const{side:n,align:i}=t,s=i==="left"?0:i==="center"?e.width/2:i==="right"?e.width:i,r=n==="top"?0:n==="bottom"?e.height:n;return Kh({x:s,y:r},e)}else if(t.side==="left"||t.side==="right"){const{side:n,align:i}=t,s=n==="left"?0:n==="right"?e.width:n,r=i==="top"?0:i==="center"?e.height/2:i==="bottom"?e.height:i;return Kh({x:s,y:r},e)}return Kh({x:e.width/2,y:e.height/2},e)}const Hb={static:E6,connected:w6},b6=ee({locationStrategy:{type:[String,Function],default:"static",validator:t=>typeof t=="function"||t in Hb},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]},"VOverlay-location-strategies");function S6(t,e){const n=le({}),i=le();Je&&Rs(()=>!!(e.isActive.value&&t.locationStrategy),r=>{var a,o;be(()=>t.locationStrategy,r),tn(()=>{window.removeEventListener("resize",s),i.value=void 0}),window.addEventListener("resize",s,{passive:!0}),typeof t.locationStrategy=="function"?i.value=(a=t.locationStrategy(e,t,n))==null?void 0:a.updateLocation:i.value=(o=Hb[t.locationStrategy](e,t,n))==null?void 0:o.updateLocation});function s(r){var a;(a=i.value)==null||a.call(i,r)}return{contentStyles:n,updateLocation:i}}function E6(){}function C6(t,e){const n=Pf(t);return e?n.x+=parseFloat(t.style.right||0):n.x-=parseFloat(t.style.left||0),n.y-=parseFloat(t.style.top||0),n}function w6(t,e,n){(Array.isArray(t.target.value)||ww(t.target.value))&&Object.assign(n.value,{position:"fixed",top:0,[t.isRtl.value?"right":"left"]:0});const{preferredAnchor:s,preferredOrigin:r}=Af(()=>{const g=gd(e.location,t.isRtl.value),m=e.origin==="overlap"?g:e.origin==="auto"?dh(g):gd(e.origin,t.isRtl.value);return g.side===m.side&&g.align===fh(m).align?{preferredAnchor:$m(g),preferredOrigin:$m(m)}:{preferredAnchor:g,preferredOrigin:m}}),[a,o,l,c]=["minWidth","minHeight","maxWidth","maxHeight"].map(g=>I(()=>{const m=parseFloat(e[g]);return isNaN(m)?1/0:m})),u=I(()=>{if(Array.isArray(e.offset))return e.offset;if(typeof e.offset=="string"){const g=e.offset.split(" ").map(parseFloat);return g.length<2&&g.push(0),g}return typeof e.offset=="number"?[e.offset,0]:[0,0]});let h=!1;const d=new ResizeObserver(()=>{h&&f()});be([t.target,t.contentEl],(g,m)=>{let[v,y]=g,[_,p]=m;_&&!Array.isArray(_)&&d.unobserve(_),v&&!Array.isArray(v)&&d.observe(v),p&&d.unobserve(p),y&&d.observe(y)},{immediate:!0}),tn(()=>{d.disconnect()});function f(){if(h=!1,requestAnimationFrame(()=>h=!0),!t.target.value||!t.contentEl.value)return;const g=np(t.target.value),m=C6(t.contentEl.value,t.isRtl.value),v=Pc(t.contentEl.value),y=12;v.length||(v.push(document.documentElement),t.contentEl.value.style.top&&t.contentEl.value.style.left||(m.x-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),m.y-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const _=v.reduce((k,w)=>{const A=w.getBoundingClientRect(),D=new ar({x:w===document.documentElement?0:A.x,y:w===document.documentElement?0:A.y,width:w.clientWidth,height:w.clientHeight});return k?new ar({x:Math.max(k.left,D.left),y:Math.max(k.top,D.top),width:Math.min(k.right,D.right)-Math.max(k.left,D.left),height:Math.min(k.bottom,D.bottom)-Math.max(k.top,D.top)}):D},void 0);_.x+=y,_.y+=y,_.width-=y*2,_.height-=y*2;let p={anchor:s.value,origin:r.value};function x(k){const w=new ar(m),A=ly(k.anchor,g),D=ly(k.origin,w);let{x:X,y:G}=x6(A,D);switch(k.anchor.side){case"top":G-=u.value[0];break;case"bottom":G+=u.value[0];break;case"left":X-=u.value[0];break;case"right":X+=u.value[0];break}switch(k.anchor.align){case"top":G-=u.value[1];break;case"bottom":G+=u.value[1];break;case"left":X-=u.value[1];break;case"right":X+=u.value[1];break}return w.x+=X,w.y+=G,w.width=Math.min(w.width,l.value),w.height=Math.min(w.height,c.value),{overflows:zm(w,_),x:X,y:G}}let b=0,C=0;const M={x:0,y:0},E={x:!1,y:!1};let R=-1;for(;!(R++>10);){const{x:k,y:w,overflows:A}=x(p);b+=k,C+=w,m.x+=k,m.y+=w;{const D=Gm(p.anchor),X=A.x.before||A.x.after,G=A.y.before||A.y.after;let H=!1;if(["x","y"].forEach(z=>{if(z==="x"&&X&&!E.x||z==="y"&&G&&!E.y){const F={anchor:{...p.anchor},origin:{...p.origin}},$=z==="x"?D==="y"?fh:dh:D==="y"?dh:fh;F.anchor=$(F.anchor),F.origin=$(F.origin);const{overflows:N}=x(F);(N[z].before<=A[z].before&&N[z].after<=A[z].after||N[z].before+N[z].after<(A[z].before+A[z].after)/2)&&(p=F,H=E[z]=!0)}}),H)continue}A.x.before&&(b+=A.x.before,m.x+=A.x.before),A.x.after&&(b-=A.x.after,m.x-=A.x.after),A.y.before&&(C+=A.y.before,m.y+=A.y.before),A.y.after&&(C-=A.y.after,m.y-=A.y.after);{const D=zm(m,_);M.x=_.width-D.x.before-D.x.after,M.y=_.height-D.y.before-D.y.after,b+=D.x.before,m.x+=D.x.before,C+=D.y.before,m.y+=D.y.before}break}const O=Gm(p.anchor);return Object.assign(n.value,{"--v-overlay-anchor-origin":`${p.anchor.side} ${p.anchor.align}`,transformOrigin:`${p.origin.side} ${p.origin.align}`,top:Ee(Yh(C)),left:t.isRtl.value?void 0:Ee(Yh(b)),right:t.isRtl.value?Ee(Yh(-b)):void 0,minWidth:Ee(O==="y"?Math.min(a.value,g.width):a.value),maxWidth:Ee(cy(Ei(M.x,a.value===1/0?0:a.value,l.value))),maxHeight:Ee(cy(Ei(M.y,o.value===1/0?0:o.value,c.value)))}),{available:M,contentBox:m}}return be(()=>[s.value,r.value,e.offset,e.minWidth,e.minHeight,e.maxWidth,e.maxHeight],()=>f()),Qt(()=>{const g=f();if(!g)return;const{available:m,contentBox:v}=g;v.height>m.y&&requestAnimationFrame(()=>{f(),requestAnimationFrame(()=>{f()})})}),{updateLocation:f}}function Yh(t){return Math.round(t*devicePixelRatio)/devicePixelRatio}function cy(t){return Math.ceil(t*devicePixelRatio)/devicePixelRatio}let Qd=!0;const au=[];function M6(t){!Qd||au.length?(au.push(t),ef()):(Qd=!1,t(),ef())}let uy=-1;function ef(){cancelAnimationFrame(uy),uy=requestAnimationFrame(()=>{const t=au.shift();t&&t(),au.length?ef():Qd=!0})}const vc={none:null,close:I6,block:A6,reposition:P6},T6=ee({scrollStrategy:{type:[String,Function],default:"block",validator:t=>typeof t=="function"||t in vc}},"VOverlay-scroll-strategies");function R6(t,e){if(!Je)return;let n;Wn(async()=>{n==null||n.stop(),e.isActive.value&&t.scrollStrategy&&(n=Co(),await new Promise(i=>setTimeout(i)),n.active&&n.run(()=>{var i;typeof t.scrollStrategy=="function"?t.scrollStrategy(e,t,n):(i=vc[t.scrollStrategy])==null||i.call(vc,e,t,n)}))}),tn(()=>{n==null||n.stop()})}function I6(t){function e(n){t.isActive.value=!1}Xb(t.targetEl.value??t.contentEl.value,e)}function A6(t,e){var a;const n=(a=t.root.value)==null?void 0:a.offsetParent,i=[...new Set([...Pc(t.targetEl.value,e.contained?n:void 0),...Pc(t.contentEl.value,e.contained?n:void 0)])].filter(o=>!o.classList.contains("v-overlay-scroll-blocked")),s=window.innerWidth-document.documentElement.offsetWidth,r=(o=>kf(o)&&o)(n||document.documentElement);r&&t.root.value.classList.add("v-overlay--scroll-blocked"),i.forEach((o,l)=>{o.style.setProperty("--v-body-scroll-x",Ee(-o.scrollLeft)),o.style.setProperty("--v-body-scroll-y",Ee(-o.scrollTop)),o!==document.documentElement&&o.style.setProperty("--v-scrollbar-offset",Ee(s)),o.classList.add("v-overlay-scroll-blocked")}),tn(()=>{i.forEach((o,l)=>{const c=parseFloat(o.style.getPropertyValue("--v-body-scroll-x")),u=parseFloat(o.style.getPropertyValue("--v-body-scroll-y")),h=o.style.scrollBehavior;o.style.scrollBehavior="auto",o.style.removeProperty("--v-body-scroll-x"),o.style.removeProperty("--v-body-scroll-y"),o.style.removeProperty("--v-scrollbar-offset"),o.classList.remove("v-overlay-scroll-blocked"),o.scrollLeft=-c,o.scrollTop=-u,o.style.scrollBehavior=h}),r&&t.root.value.classList.remove("v-overlay--scroll-blocked")})}function P6(t,e,n){let i=!1,s=-1,r=-1;function a(o){M6(()=>{var u,h;const l=performance.now();(h=(u=t.updateLocation).value)==null||h.call(u,o),i=(performance.now()-l)/(1e3/60)>2})}r=(typeof requestIdleCallback>"u"?o=>o():requestIdleCallback)(()=>{n.run(()=>{Xb(t.targetEl.value??t.contentEl.value,o=>{i?(cancelAnimationFrame(s),s=requestAnimationFrame(()=>{s=requestAnimationFrame(()=>{a(o)})})):a(o)})})}),tn(()=>{typeof cancelIdleCallback<"u"&&cancelIdleCallback(r),cancelAnimationFrame(s)})}function Xb(t,e){const n=[document,...Pc(t)];n.forEach(i=>{i.addEventListener("scroll",e,{passive:!0})}),tn(()=>{n.forEach(i=>{i.removeEventListener("scroll",e)})})}const tf=Symbol.for("vuetify:v-menu"),L6=ee({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function O6(t,e){let n=()=>{};function i(a){n==null||n();const o=Number(a?t.openDelay:t.closeDelay);return new Promise(l=>{n=WC(o,()=>{e==null||e(a),l(a)})})}function s(){return i(!0)}function r(){return i(!1)}return{clearDelay:n,runOpenDelay:s,runCloseDelay:r}}const k6=ee({target:[String,Object],activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...L6()},"VOverlay-activator");function D6(t,e){let{isActive:n,isTop:i,contentEl:s}=e;const r=yt("useActivator"),a=le();let o=!1,l=!1,c=!0;const u=I(()=>t.openOnFocus||t.openOnFocus==null&&t.openOnHover),h=I(()=>t.openOnClick||t.openOnClick==null&&!t.openOnHover&&!u.value),{runOpenDelay:d,runCloseDelay:f}=O6(t,E=>{E===(t.openOnHover&&o||u.value&&l)&&!(t.openOnHover&&n.value&&!i.value)&&(n.value!==E&&(c=!0),n.value=E)}),g=le(),m={onClick:E=>{E.stopPropagation(),a.value=E.currentTarget||E.target,n.value||(g.value=[E.clientX,E.clientY]),n.value=!n.value},onMouseenter:E=>{var R;(R=E.sourceCapabilities)!=null&&R.firesTouchEvents||(o=!0,a.value=E.currentTarget||E.target,d())},onMouseleave:E=>{o=!1,f()},onFocus:E=>{Rc(E.target,":focus-visible")!==!1&&(l=!0,E.stopPropagation(),a.value=E.currentTarget||E.target,d())},onBlur:E=>{l=!1,E.stopPropagation(),f()}},v=I(()=>{const E={};return h.value&&(E.onClick=m.onClick),t.openOnHover&&(E.onMouseenter=m.onMouseenter,E.onMouseleave=m.onMouseleave),u.value&&(E.onFocus=m.onFocus,E.onBlur=m.onBlur),E}),y=I(()=>{const E={};if(t.openOnHover&&(E.onMouseenter=()=>{o=!0,d()},E.onMouseleave=()=>{o=!1,f()}),u.value&&(E.onFocusin=()=>{l=!0,d()},E.onFocusout=()=>{l=!1,f()}),t.closeOnContentClick){const R=rt(tf,null);E.onClick=()=>{n.value=!1,R==null||R.closeParents()}}return E}),_=I(()=>{const E={};return t.openOnHover&&(E.onMouseenter=()=>{c&&(o=!0,c=!1,d())},E.onMouseleave=()=>{o=!1,f()}),E});be(i,E=>{var R;E&&(t.openOnHover&&!o&&(!u.value||!l)||u.value&&!l&&(!t.openOnHover||!o))&&!((R=s.value)!=null&&R.contains(document.activeElement))&&(n.value=!1)}),be(n,E=>{E||setTimeout(()=>{g.value=void 0})},{flush:"post"});const p=fd();Wn(()=>{p.value&&Qt(()=>{a.value=p.el})});const x=fd(),b=I(()=>t.target==="cursor"&&g.value?g.value:x.value?x.el:qb(t.target,r)||a.value),C=I(()=>Array.isArray(b.value)?void 0:b.value);let M;return be(()=>!!t.activator,E=>{E&&Je?(M=Co(),M.run(()=>{N6(t,r,{activatorEl:a,activatorEvents:v})})):M&&M.stop()},{flush:"post",immediate:!0}),tn(()=>{M==null||M.stop()}),{activatorEl:a,activatorRef:p,target:b,targetEl:C,targetRef:x,activatorEvents:v,contentEvents:y,scrimEvents:_}}function N6(t,e,n){let{activatorEl:i,activatorEvents:s}=n;be(()=>t.activator,(l,c)=>{if(c&&l!==c){const u=o(c);u&&a(u)}l&&Qt(()=>r())},{immediate:!0}),be(()=>t.activatorProps,()=>{r()}),tn(()=>{a()});function r(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:o(),c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.activatorProps;l&&HC(l,ke(s.value,c))}function a(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:o(),c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.activatorProps;l&&XC(l,ke(s.value,c))}function o(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:t.activator;const c=qb(l,e);return i.value=(c==null?void 0:c.nodeType)===Node.ELEMENT_NODE?c:void 0,i.value}}function qb(t,e){var i,s;if(!t)return;let n;if(t==="parent"){let r=(s=(i=e==null?void 0:e.proxy)==null?void 0:i.$el)==null?void 0:s.parentNode;for(;r!=null&&r.hasAttribute("data-no-activator");)r=r.parentNode;n=r}else typeof t=="string"?n=document.querySelector(t):"$el"in t?n=t.$el:n=t;return n}function F6(){if(!Je)return ge(!1);const{ssr:t}=Nf();if(t){const e=ge(!1);return ii(()=>{e.value=!0}),e}else return ge(!0)}const B6=ee({eager:Boolean},"lazy");function V6(t,e){const n=ge(!1),i=I(()=>n.value||t.eager||e.value);be(e,()=>n.value=!0);function s(){t.eager||(n.value=!1)}return{isBooted:n,hasContent:i,onAfterLeave:s}}function Kb(){const e=yt("useScopeId").vnode.scopeId;return{scopeId:e?{[e]:""}:void 0}}const hy=Symbol.for("vuetify:stack"),Ka=Mt([]);function $6(t,e,n){const i=yt("useStack"),s=!n,r=rt(hy,void 0),a=Mt({activeChildren:new Set});nn(hy,a);const o=ge(Number(e.value));Rs(t,()=>{var h;const u=(h=Ka.at(-1))==null?void 0:h[1];o.value=u?u+10:Number(e.value),s&&Ka.push([i.uid,o.value]),r==null||r.activeChildren.add(i.uid),tn(()=>{if(s){const d=ve(Ka).findIndex(f=>f[0]===i.uid);Ka.splice(d,1)}r==null||r.activeChildren.delete(i.uid)})});const l=ge(!0);s&&Wn(()=>{var h;const u=((h=Ka.at(-1))==null?void 0:h[0])===i.uid;setTimeout(()=>l.value=u)});const c=I(()=>!a.activeChildren.size);return{globalTop:el(l),localTop:c,stackStyles:I(()=>({zIndex:o.value}))}}function G6(t){return{teleportTarget:I(()=>{const n=t();if(n===!0||!Je)return;const i=n===!1?document.body:typeof n=="string"?document.querySelector(n):n;if(i==null)return;let s=[...i.children].find(r=>r.matches(".v-overlay-container"));return s||(s=document.createElement("div"),s.className="v-overlay-container",i.appendChild(s)),s})}}function z6(){return!0}function Yb(t,e,n){if(!t||Zb(t,n)===!1)return!1;const i=cp(e);if(typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&i.host===t.target)return!1;const s=(typeof n.value=="object"&&n.value.include||(()=>[]))();return s.push(e),!s.some(r=>r==null?void 0:r.contains(t.target))}function Zb(t,e){return(typeof e.value=="object"&&e.value.closeConditional||z6)(t)}function W6(t,e,n){const i=typeof n.value=="function"?n.value:n.value.handler;t.shadowTarget=t.target,e._clickOutside.lastMousedownWasOutside&&Yb(t,e,n)&&setTimeout(()=>{Zb(t,n)&&i&&i(t)},0)}function dy(t,e){const n=cp(t);e(document),typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&e(n)}const U6={mounted(t,e){const n=s=>W6(s,t,e),i=s=>{t._clickOutside.lastMousedownWasOutside=Yb(s,t,e)};dy(t,s=>{s.addEventListener("click",n,!0),s.addEventListener("mousedown",i,!0)}),t._clickOutside||(t._clickOutside={lastMousedownWasOutside:!1}),t._clickOutside[e.instance.$.uid]={onClick:n,onMousedown:i}},beforeUnmount(t,e){t._clickOutside&&(dy(t,n=>{var r;if(!n||!((r=t._clickOutside)!=null&&r[e.instance.$.uid]))return;const{onClick:i,onMousedown:s}=t._clickOutside[e.instance.$.uid];n.removeEventListener("click",i,!0),n.removeEventListener("mousedown",s,!0)}),delete t._clickOutside[e.instance.$.uid])}};function j6(t){const{modelValue:e,color:n,...i}=t;return S(fr,{name:"fade-transition",appear:!0},{default:()=>[t.modelValue&&S("div",ke({class:["v-overlay__scrim",t.color.backgroundColorClasses.value],style:t.color.backgroundColorStyles.value},i),null)]})}const Jb=ee({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,opacity:[Number,String],noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[Boolean,String],default:!0},zIndex:{type:[Number,String],default:2e3},...k6(),...Pe(),...ai(),...B6(),...b6(),...T6(),...pt(),...Cl()},"VOverlay"),fy=de()({name:"VOverlay",directives:{ClickOutside:U6},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...Jb()},emits:{"click:outside":t=>!0,"update:modelValue":t=>!0,keydown:t=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(t,e){let{slots:n,attrs:i,emit:s}=e;const r=yt("VOverlay"),a=le(),o=le(),l=le(),c=bt(t,"modelValue"),u=I({get:()=>c.value,set:ae=>{ae&&t.disabled||(c.value=ae)}}),{themeClasses:h}=Ot(t),{rtlClasses:d,isRtl:f}=si(),{hasContent:g,onAfterLeave:m}=V6(t,u),v=Mi(I(()=>typeof t.scrim=="string"?t.scrim:null)),{globalTop:y,localTop:_,stackStyles:p}=$6(u,ye(t,"zIndex"),t._disableGlobalStack),{activatorEl:x,activatorRef:b,target:C,targetEl:M,targetRef:E,activatorEvents:R,contentEvents:O,scrimEvents:k}=D6(t,{isActive:u,isTop:_,contentEl:l}),{teleportTarget:w}=G6(()=>{var Ne,Re,sn;const ae=t.attach||t.contained;if(ae)return ae;const ce=((Ne=x==null?void 0:x.value)==null?void 0:Ne.getRootNode())||((sn=(Re=r.proxy)==null?void 0:Re.$el)==null?void 0:sn.getRootNode());return ce instanceof ShadowRoot?ce:!1}),{dimensionStyles:A}=oi(t),D=F6(),{scopeId:X}=Kb();be(()=>t.disabled,ae=>{ae&&(u.value=!1)});const{contentStyles:G,updateLocation:H}=S6(t,{isRtl:f,contentEl:l,target:C,isActive:u});R6(t,{root:a,contentEl:l,targetEl:M,isActive:u,updateLocation:H});function z(ae){s("click:outside",ae),t.persistent?Z():u.value=!1}function F(ae){return u.value&&y.value&&(!t.scrim||ae.target===o.value||ae instanceof MouseEvent&&ae.shadowTarget===o.value)}Je&&be(u,ae=>{ae?window.addEventListener("keydown",$):window.removeEventListener("keydown",$)},{immediate:!0}),bn(()=>{Je&&window.removeEventListener("keydown",$)});function $(ae){var ce,Ne,Re;ae.key==="Escape"&&y.value&&((ce=l.value)!=null&&ce.contains(document.activeElement)||s("keydown",ae),t.persistent?Z():(u.value=!1,(Ne=l.value)!=null&&Ne.contains(document.activeElement)&&((Re=x.value)==null||Re.focus())))}function N(ae){ae.key==="Escape"&&!y.value||s("keydown",ae)}const L=l5();Rs(()=>t.closeOnBack,()=>{c5(L,ae=>{y.value&&u.value?(ae(!1),t.persistent?Z():u.value=!1):ae()})});const ne=le();be(()=>u.value&&(t.absolute||t.contained)&&w.value==null,ae=>{if(ae){const ce=up(a.value);ce&&ce!==document.scrollingElement&&(ne.value=ce.scrollTop)}});function Z(){t.noClickAnimation||l.value&&Hr(l.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:Ac})}function oe(){s("afterEnter")}function pe(){m(),s("afterLeave")}return Me(()=>{var ae;return S(Ge,null,[(ae=n.activator)==null?void 0:ae.call(n,{isActive:u.value,targetRef:E,props:ke({ref:b},R.value,t.activatorProps)}),D.value&&g.value&&S(aE,{disabled:!w.value,to:w.value},{default:()=>[S("div",ke({class:["v-overlay",{"v-overlay--absolute":t.absolute||t.contained,"v-overlay--active":u.value,"v-overlay--contained":t.contained},h.value,d.value,t.class],style:[p.value,{"--v-overlay-opacity":t.opacity,top:Ee(ne.value)},t.style],ref:a,onKeydown:N},X,i),[S(j6,ke({color:v,modelValue:u.value&&!!t.scrim,ref:o},k.value),null),S(Ss,{appear:!0,persisted:!0,transition:t.transition,target:C.value,onAfterEnter:oe,onAfterLeave:pe},{default:()=>{var ce;return[In(S("div",ke({ref:l,class:["v-overlay__content",t.contentClass],style:[A.value,G.value]},O.value,t.contentProps),[(ce=n.default)==null?void 0:ce.call(n,{isActive:u})]),[[Ca,u.value],[Cr("click-outside"),{handler:z,closeConditional:F,include:()=>[x.value]}]])]}})])]})])}),{activatorEl:x,scrimEl:o,target:C,animateClick:Z,contentEl:l,globalTop:y,localTop:_,updateLocation:H}}}),Zh=Symbol("Forwarded refs");function Jh(t,e){let n=t;for(;n;){const i=Reflect.getOwnPropertyDescriptor(n,e);if(i)return i;n=Object.getPrototypeOf(n)}}function Hg(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return t[Zh]=n,new Proxy(t,{get(s,r){if(Reflect.has(s,r))return Reflect.get(s,r);if(!(typeof r=="symbol"||r.startsWith("$")||r.startsWith("__"))){for(const a of n)if(a.value&&Reflect.has(a.value,r)){const o=Reflect.get(a.value,r);return typeof o=="function"?o.bind(a.value):o}}},has(s,r){if(Reflect.has(s,r))return!0;if(typeof r=="symbol"||r.startsWith("$")||r.startsWith("__"))return!1;for(const a of n)if(a.value&&Reflect.has(a.value,r))return!0;return!1},set(s,r,a){if(Reflect.has(s,r))return Reflect.set(s,r,a);if(typeof r=="symbol"||r.startsWith("$")||r.startsWith("__"))return!1;for(const o of n)if(o.value&&Reflect.has(o.value,r))return Reflect.set(o.value,r,a);return!1},getOwnPropertyDescriptor(s,r){var o;const a=Reflect.getOwnPropertyDescriptor(s,r);if(a)return a;if(!(typeof r=="symbol"||r.startsWith("$")||r.startsWith("__"))){for(const l of n){if(!l.value)continue;const c=Jh(l.value,r)??("_"in l.value?Jh((o=l.value._)==null?void 0:o.setupState,r):void 0);if(c)return c}for(const l of n){const c=l.value&&l.value[Zh];if(!c)continue;const u=c.slice();for(;u.length;){const h=u.shift(),d=Jh(h.value,r);if(d)return d;const f=h.value&&h.value[Zh];f&&u.push(...f)}}}}})}const H6=ee({id:String,submenu:Boolean,...wa(Jb({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",location:void 0,openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:gb}}),["absolute"])},"VMenu"),X6=de()({name:"VMenu",props:H6(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=bt(t,"modelValue"),{scopeId:s}=Kb(),{isRtl:r}=si(),a=ks(),o=I(()=>t.id||`v-menu-${a}`),l=le(),c=rt(tf,null),u=ge(new Set);nn(tf,{register(){u.value.add(a)},unregister(){u.value.delete(a)},closeParents(v){setTimeout(()=>{var y;!u.value.size&&!t.persistent&&(v==null||(y=l.value)!=null&&y.contentEl&&!UC(v,l.value.contentEl))&&(i.value=!1,c==null||c.closeParents())},40)}}),bn(()=>{c==null||c.unregister(),document.removeEventListener("focusin",h)}),bf(()=>i.value=!1);async function h(v){var p,x,b;const y=v.relatedTarget,_=v.target;await Qt(),i.value&&y!==_&&((p=l.value)!=null&&p.contentEl)&&((x=l.value)!=null&&x.globalTop)&&![document,l.value.contentEl].includes(_)&&!l.value.contentEl.contains(_)&&((b=Tc(l.value.contentEl)[0])==null||b.focus())}be(i,v=>{v?(c==null||c.register(),Je&&document.addEventListener("focusin",h,{once:!0})):(c==null||c.unregister(),Je&&document.removeEventListener("focusin",h))},{immediate:!0});function d(v){c==null||c.closeParents(v)}function f(v){var y,_,p,x,b;if(!t.disabled)if(v.key==="Tab"||v.key==="Enter"&&!t.closeOnContentClick){if(v.key==="Enter"&&(v.target instanceof HTMLTextAreaElement||v.target instanceof HTMLInputElement&&v.target.closest("form")))return;v.key==="Enter"&&v.preventDefault(),J_(Tc((y=l.value)==null?void 0:y.contentEl,!1),v.shiftKey?"prev":"next",M=>M.tabIndex>=0)||(i.value=!1,(p=(_=l.value)==null?void 0:_.activatorEl)==null||p.focus())}else t.submenu&&v.key===(r.value?"ArrowRight":"ArrowLeft")&&(i.value=!1,(b=(x=l.value)==null?void 0:x.activatorEl)==null||b.focus())}function g(v){var _;if(t.disabled)return;const y=(_=l.value)==null?void 0:_.contentEl;y&&i.value?v.key==="ArrowDown"?(v.preventDefault(),v.stopImmediatePropagation(),mo(y,"next")):v.key==="ArrowUp"?(v.preventDefault(),v.stopImmediatePropagation(),mo(y,"prev")):t.submenu&&(v.key===(r.value?"ArrowRight":"ArrowLeft")?i.value=!1:v.key===(r.value?"ArrowLeft":"ArrowRight")&&(v.preventDefault(),mo(y,"first"))):(t.submenu?v.key===(r.value?"ArrowLeft":"ArrowRight"):["ArrowDown","ArrowUp"].includes(v.key))&&(i.value=!0,v.preventDefault(),setTimeout(()=>setTimeout(()=>g(v))))}const m=I(()=>ke({"aria-haspopup":"menu","aria-expanded":String(i.value),"aria-controls":o.value,onKeydown:g},t.activatorProps));return Me(()=>{const v=fy.filterProps(t);return S(fy,ke({ref:l,id:o.value,class:["v-menu",t.class],style:t.style},v,{modelValue:i.value,"onUpdate:modelValue":y=>i.value=y,absolute:!0,activatorProps:m.value,location:t.location??(t.submenu?"end":"bottom"),"onClick:outside":d,onKeydown:f},s),{activator:n.activator,default:function(){for(var y=arguments.length,_=new Array(y),p=0;p<y;p++)_[p]=arguments[p];return S(_t,{root:"VMenu"},{default:()=>{var x;return[(x=n.default)==null?void 0:x.call(n,..._)]}})}})}),Hg({id:o,openChildren:u},l)}}),q6=ee({active:Boolean,disabled:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...Pe(),...Cl({transition:{component:mb}})},"VCounter"),K6=de()({name:"VCounter",functional:!0,props:q6(),setup(t,e){let{slots:n}=e;const i=I(()=>t.max?`${t.value} / ${t.max}`:String(t.value));return Me(()=>S(Ss,{transition:t.transition},{default:()=>[In(S("div",{class:["v-counter",{"text-error":t.max&&!t.disabled&&parseFloat(t.value)>parseFloat(t.max)},t.class],style:t.style},[n.default?n.default({counter:i.value,max:t.max,value:t.value}):i.value]),[[Ca,t.active]])]})),{}}}),Y6=ee({floating:Boolean,...Pe()},"VFieldLabel"),tc=de()({name:"VFieldLabel",props:Y6(),setup(t,e){let{slots:n}=e;return Me(()=>S(_b,{class:["v-field-label",{"v-field-label--floating":t.floating},t.class],style:t.style,"aria-hidden":t.floating||void 0},n)),{}}}),Z6=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],Qb=ee({appendInnerIcon:ze,bgColor:String,clearable:Boolean,clearIcon:{type:ze,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},glow:Boolean,error:Boolean,flat:Boolean,iconColor:[Boolean,String],label:String,persistentClear:Boolean,prependInnerIcon:ze,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:t=>Z6.includes(t)},"onClick:clear":_n(),"onClick:appendInner":_n(),"onClick:prependInner":_n(),...Pe(),...Dg(),...jn(),...pt()},"VField"),gy=de()({name:"VField",inheritAttrs:!1,props:{id:String,...Eb(),...Qb()},emits:{"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{attrs:n,emit:i,slots:s}=e;const{themeClasses:r}=Ot(t),{loaderClasses:a}=Ng(t),{focusClasses:o,isFocused:l,focus:c,blur:u}=Cb(t),{InputIcon:h}=Sb(t),{roundedClasses:d}=Hn(t),{rtlClasses:f}=si(),g=I(()=>t.dirty||t.active),m=I(()=>!!(t.label||s.label)),v=I(()=>!t.singleLine&&m.value),y=ks(),_=I(()=>t.id||`input-${y}`),p=I(()=>`${_.value}-messages`),x=le(),b=le(),C=le(),M=I(()=>["plain","underlined"].includes(t.variant)),E=I(()=>t.error||t.disabled?void 0:g.value&&l.value?t.color:t.baseColor),R=I(()=>{if(t.iconColor)return t.iconColor===!0?E.value:t.iconColor}),{backgroundColorClasses:O,backgroundColorStyles:k}=Mi(ye(t,"bgColor")),{textColorClasses:w,textColorStyles:A}=Ji(E);be(g,G=>{if(v.value){const H=x.value.$el,z=b.value.$el;requestAnimationFrame(()=>{const F=Pf(H),$=z.getBoundingClientRect(),N=$.x-F.x,L=$.y-F.y-(F.height/2-$.height/2),ne=$.width/.75,Z=Math.abs(ne-F.width)>1?{maxWidth:Ee(ne)}:void 0,oe=getComputedStyle(H),pe=getComputedStyle(z),ae=parseFloat(oe.transitionDuration)*1e3||150,ce=parseFloat(pe.getPropertyValue("--v-field-label-scale")),Ne=pe.getPropertyValue("color");H.style.visibility="visible",z.style.visibility="hidden",Hr(H,{transform:`translate(${N}px, ${L}px) scale(${ce})`,color:Ne,...Z},{duration:ae,easing:Ac,direction:G?"normal":"reverse"}).finished.then(()=>{H.style.removeProperty("visibility"),z.style.removeProperty("visibility")})})}},{flush:"post"});const D=I(()=>({isActive:g,isFocused:l,controlRef:C,blur:u,focus:c}));function X(G){G.target!==document.activeElement&&G.preventDefault()}return Me(()=>{var N,L,ne;const G=t.variant==="outlined",H=!!(s["prepend-inner"]||t.prependInnerIcon),z=!!(t.clearable||s.clear)&&!t.disabled,F=!!(s["append-inner"]||t.appendInnerIcon||z),$=()=>s.label?s.label({...D.value,label:t.label,props:{for:_.value}}):t.label;return S("div",ke({class:["v-field",{"v-field--active":g.value,"v-field--appended":F,"v-field--center-affix":t.centerAffix??!M.value,"v-field--disabled":t.disabled,"v-field--dirty":t.dirty,"v-field--error":t.error,"v-field--glow":t.glow,"v-field--flat":t.flat,"v-field--has-background":!!t.bgColor,"v-field--persistent-clear":t.persistentClear,"v-field--prepended":H,"v-field--reverse":t.reverse,"v-field--single-line":t.singleLine,"v-field--no-label":!$(),[`v-field--variant-${t.variant}`]:!0},r.value,O.value,o.value,a.value,d.value,f.value,t.class],style:[k.value,t.style],onClick:X},n),[S("div",{class:"v-field__overlay"},null),S(Xx,{name:"v-field",active:!!t.loading,color:t.error?"error":typeof t.loading=="string"?t.loading:t.color},{default:s.loader}),H&&S("div",{key:"prepend",class:"v-field__prepend-inner"},[t.prependInnerIcon&&S(h,{key:"prepend-icon",name:"prependInner",color:R.value},null),(N=s["prepend-inner"])==null?void 0:N.call(s,D.value)]),S("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(t.variant)&&v.value&&S(tc,{key:"floating-label",ref:b,class:[w.value],floating:!0,for:_.value,style:A.value},{default:()=>[$()]}),m.value&&S(tc,{key:"label",ref:x,for:_.value},{default:()=>[$()]}),((L=s.default)==null?void 0:L.call(s,{...D.value,props:{id:_.value,class:"v-field__input","aria-describedby":p.value},focus:c,blur:u}))??S("div",{id:_.value,class:"v-field__input","aria-describedby":p.value},null)]),z&&S(yb,{key:"clear"},{default:()=>[In(S("div",{class:"v-field__clearable",onMousedown:Z=>{Z.preventDefault(),Z.stopPropagation()}},[S(_t,{defaults:{VIcon:{icon:t.clearIcon}}},{default:()=>[s.clear?s.clear({...D.value,props:{onFocus:c,onBlur:u,onClick:t["onClick:clear"]}}):S(h,{name:"clear",onFocus:c,onBlur:u},null)]})]),[[Ca,t.dirty]])]}),F&&S("div",{key:"append",class:"v-field__append-inner"},[(ne=s["append-inner"])==null?void 0:ne.call(s,D.value),t.appendInnerIcon&&S(h,{key:"append-icon",name:"appendInner",color:R.value},null)]),S("div",{class:["v-field__outline",w.value],style:A.value},[G&&S(Ge,null,[S("div",{class:"v-field__outline__start"},null),v.value&&S("div",{class:"v-field__outline__notch"},[S(tc,{ref:b,floating:!0,for:_.value},{default:()=>[$()]})]),S("div",{class:"v-field__outline__end"},null)]),M.value&&v.value&&S(tc,{ref:b,floating:!0,for:_.value},{default:()=>[$()]})])])}),{controlRef:C}}}),J6=["color","file","time","date","datetime-local","week","month"],eS=ee({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...Mb(),...Qb()},"VTextField"),my=de()({name:"VTextField",directives:{Intersect:jx},inheritAttrs:!1,props:eS(),emits:{"click:control":t=>!0,"mousedown:control":t=>!0,"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{attrs:n,emit:i,slots:s}=e;const r=bt(t,"modelValue"),{isFocused:a,focus:o,blur:l}=Cb(t),c=I(()=>typeof t.counterValue=="function"?t.counterValue(r.value):typeof t.counterValue=="number"?t.counterValue:(r.value??"").toString().length),u=I(()=>{if(n.maxlength)return n.maxlength;if(!(!t.counter||typeof t.counter!="number"&&typeof t.counter!="string"))return t.counter}),h=I(()=>["plain","underlined"].includes(t.variant));function d(C,M){var E,R;!t.autofocus||!C||(R=(E=M[0].target)==null?void 0:E.focus)==null||R.call(E)}const f=le(),g=le(),m=le(),v=I(()=>J6.includes(t.type)||t.persistentPlaceholder||a.value||t.active);function y(){var C;m.value!==document.activeElement&&((C=m.value)==null||C.focus()),a.value||o()}function _(C){i("mousedown:control",C),C.target!==m.value&&(y(),C.preventDefault())}function p(C){y(),i("click:control",C)}function x(C){C.stopPropagation(),y(),Qt(()=>{r.value=null,Z_(t["onClick:clear"],C)})}function b(C){var E;const M=C.target;if(r.value=M.value,(E=t.modelModifiers)!=null&&E.trim&&["text","search","password","tel","url"].includes(t.type)){const R=[M.selectionStart,M.selectionEnd];Qt(()=>{M.selectionStart=R[0],M.selectionEnd=R[1]})}}return Me(()=>{const C=!!(s.counter||t.counter!==!1&&t.counter!=null),M=!!(C||s.details),[E,R]=q_(n),{modelValue:O,...k}=sy.filterProps(t),w=gy.filterProps(t);return S(sy,ke({ref:f,modelValue:r.value,"onUpdate:modelValue":A=>r.value=A,class:["v-text-field",{"v-text-field--prefixed":t.prefix,"v-text-field--suffixed":t.suffix,"v-input--plain-underlined":h.value},t.class],style:t.style},E,k,{centerAffix:!h.value,focused:a.value}),{...s,default:A=>{let{id:D,isDisabled:X,isDirty:G,isReadonly:H,isValid:z}=A;return S(gy,ke({ref:g,onMousedown:_,onClick:p,"onClick:clear":x,"onClick:prependInner":t["onClick:prependInner"],"onClick:appendInner":t["onClick:appendInner"],role:t.role},w,{id:D.value,active:v.value||G.value,dirty:G.value||t.dirty,disabled:X.value,focused:a.value,error:z.value===!1}),{...s,default:F=>{let{props:{class:$,...N}}=F;const L=In(S("input",ke({ref:m,value:r.value,onInput:b,autofocus:t.autofocus,readonly:H.value,disabled:X.value,name:t.name,placeholder:t.placeholder,size:1,type:t.type,onFocus:y,onBlur:l},N,R),null),[[Cr("intersect"),{handler:d},null,{once:!0}]]);return S(Ge,null,[t.prefix&&S("span",{class:"v-text-field__prefix"},[S("span",{class:"v-text-field__prefix__text"},[t.prefix])]),s.default?S("div",{class:$,"data-no-activator":""},[s.default(),L]):Ki(L,{class:$}),t.suffix&&S("span",{class:"v-text-field__suffix"},[S("span",{class:"v-text-field__suffix__text"},[t.suffix])])])}})},details:M?A=>{var D;return S(Ge,null,[(D=s.details)==null?void 0:D.call(s,A),C&&S(Ge,null,[S("span",null,null),S(K6,{active:t.persistentCounter||a.value,value:c.value,max:u.value,disabled:t.disabled},s.counter)])])}:void 0})}),Hg({},f,g,m)}}),Q6=ee({renderless:Boolean,...Pe()},"VVirtualScrollItem"),e4=de()({name:"VVirtualScrollItem",inheritAttrs:!1,props:Q6(),emits:{"update:height":t=>!0},setup(t,e){let{attrs:n,emit:i,slots:s}=e;const{resizeRef:r,contentRect:a}=da(void 0,"border");be(()=>{var o;return(o=a.value)==null?void 0:o.height},o=>{o!=null&&i("update:height",o)}),Me(()=>{var o,l;return t.renderless?S(Ge,null,[(o=s.default)==null?void 0:o.call(s,{itemRef:r})]):S("div",ke({ref:r,class:["v-virtual-scroll__item",t.class],style:t.style},n),[(l=s.default)==null?void 0:l.call(s)])})}}),t4=-1,n4=1,Qh=100,i4=ee({itemHeight:{type:[Number,String],default:null},itemKey:{type:[String,Array,Function],default:null},height:[Number,String]},"virtual");function s4(t,e){const n=Nf(),i=ge(0);Wn(()=>{i.value=parseFloat(t.itemHeight||0)});const s=ge(0),r=ge(Math.ceil((parseInt(t.height)||n.height.value)/(i.value||16))||1),a=ge(0),o=ge(0),l=le(),c=le();let u=0;const{resizeRef:h,contentRect:d}=da();Wn(()=>{h.value=l.value});const f=I(()=>{var $;return l.value===document.documentElement?n.height.value:(($=d.value)==null?void 0:$.height)||parseInt(t.height)||0}),g=I(()=>!!(l.value&&c.value&&f.value&&i.value));let m=Array.from({length:e.value.length}),v=Array.from({length:e.value.length});const y=ge(0);let _=-1;function p($){return m[$]||i.value}const x=GC(()=>{const $=performance.now();v[0]=0;const N=e.value.length;for(let L=1;L<=N-1;L++)v[L]=(v[L-1]||0)+p(L-1);y.value=Math.max(y.value,performance.now()-$)},y),b=be(g,$=>{$&&(b(),u=c.value.offsetTop,x.immediate(),G(),~_&&Qt(()=>{Je&&window.requestAnimationFrame(()=>{z(_),_=-1})}))});tn(()=>{x.clear()});function C($,N){const L=m[$],ne=i.value;i.value=ne?Math.min(i.value,N):N,(L!==N||ne!==i.value)&&(m[$]=N,x())}function M($){return $=Ei($,0,e.value.length-1),v[$]||0}function E($){return r4(v,$)}let R=0,O=0,k=0;be(f,($,N)=>{N&&(G(),$<N&&requestAnimationFrame(()=>{O=0,G()}))});let w=-1;function A(){if(!l.value||!c.value)return;const $=l.value.scrollTop,N=performance.now();N-k>500?(O=Math.sign($-R),u=c.value.offsetTop):O=$-R,R=$,k=N,window.clearTimeout(w),w=window.setTimeout(D,500),G()}function D(){!l.value||!c.value||(O=0,k=0,window.clearTimeout(w),G())}let X=-1;function G(){cancelAnimationFrame(X),X=requestAnimationFrame(H)}function H(){if(!l.value||!f.value)return;const $=R-u,N=Math.sign(O),L=Math.max(0,$-Qh),ne=Ei(E(L),0,e.value.length),Z=$+f.value+Qh,oe=Ei(E(Z)+1,ne+1,e.value.length);if((N!==t4||ne<s.value)&&(N!==n4||oe>r.value)){const pe=M(s.value)-M(ne),ae=M(oe)-M(r.value);Math.max(pe,ae)>Qh?(s.value=ne,r.value=oe):(ne<=0&&(s.value=ne),oe>=e.value.length&&(r.value=oe))}a.value=M(s.value),o.value=M(e.value.length)-M(r.value)}function z($){const N=M($);!l.value||$&&!N?_=$:l.value.scrollTop=N}const F=I(()=>e.value.slice(s.value,r.value).map(($,N)=>{const L=N+s.value;return{raw:$,index:L,key:mi($,t.itemKey,L)}}));return be(e,()=>{m=Array.from({length:e.value.length}),v=Array.from({length:e.value.length}),x.immediate(),G()},{deep:1}),{calculateVisibleItems:G,containerRef:l,markerRef:c,computedItems:F,paddingTop:a,paddingBottom:o,scrollToIndex:z,handleScroll:A,handleScrollend:D,handleItemResize:C}}function r4(t,e){let n=t.length-1,i=0,s=0,r=null,a=-1;if(t[n]<e)return n;for(;i<=n;)if(s=i+n>>1,r=t[s],r>e)n=s-1;else if(r<e)a=s,i=s+1;else return r===e?s:i;return a}const a4=ee({items:{type:Array,default:()=>[]},renderless:Boolean,...i4(),...Pe(),...ai()},"VVirtualScroll"),o4=de()({name:"VVirtualScroll",props:a4(),setup(t,e){let{slots:n}=e;const i=yt("VVirtualScroll"),{dimensionStyles:s}=oi(t),{calculateVisibleItems:r,containerRef:a,markerRef:o,handleScroll:l,handleScrollend:c,handleItemResize:u,scrollToIndex:h,paddingTop:d,paddingBottom:f,computedItems:g}=s4(t,ye(t,"items"));return Rs(()=>t.renderless,()=>{function m(){var _,p;const y=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"addEventListener":"removeEventListener";a.value===document.documentElement?(document[y]("scroll",l,{passive:!0}),document[y]("scrollend",c)):((_=a.value)==null||_[y]("scroll",l,{passive:!0}),(p=a.value)==null||p[y]("scrollend",c))}ii(()=>{a.value=up(i.vnode.el,!0),m(!0)}),tn(m)}),Me(()=>{const m=g.value.map(v=>S(e4,{key:v.key,renderless:t.renderless,"onUpdate:height":y=>u(v.index,y)},{default:y=>{var _;return(_=n.default)==null?void 0:_.call(n,{item:v.raw,index:v.index,...y})}}));return t.renderless?S(Ge,null,[S("div",{ref:o,class:"v-virtual-scroll__spacer",style:{paddingTop:Ee(d.value)}},null),m,S("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:Ee(f.value)}},null)]):S("div",{ref:a,class:["v-virtual-scroll",t.class],onScrollPassive:l,onScrollend:c,style:[s.value,t.style]},[S("div",{ref:o,class:"v-virtual-scroll__container",style:{paddingTop:Ee(d.value),paddingBottom:Ee(f.value)}},[m])])}),{calculateVisibleItems:r,scrollToIndex:h}}});function l4(t,e){const n=ge(!1);let i;function s(o){cancelAnimationFrame(i),n.value=!0,i=requestAnimationFrame(()=>{i=requestAnimationFrame(()=>{n.value=!1})})}async function r(){await new Promise(o=>requestAnimationFrame(o)),await new Promise(o=>requestAnimationFrame(o)),await new Promise(o=>requestAnimationFrame(o)),await new Promise(o=>{if(n.value){const l=be(n,()=>{l(),o()})}else o()})}async function a(o){var u,h;if(o.key==="Tab"&&((u=e.value)==null||u.focus()),!["PageDown","PageUp","Home","End"].includes(o.key))return;const l=(h=t.value)==null?void 0:h.$el;if(!l)return;(o.key==="Home"||o.key==="End")&&l.scrollTo({top:o.key==="Home"?0:l.scrollHeight,behavior:"smooth"}),await r();const c=l.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(o.key==="PageDown"||o.key==="Home"){const d=l.getBoundingClientRect().top;for(const f of c)if(f.getBoundingClientRect().top>=d){f.focus();break}}else{const d=l.getBoundingClientRect().bottom;for(const f of[...c].reverse())if(f.getBoundingClientRect().bottom<=d){f.focus();break}}}return{onScrollPassive:s,onKeydown:a}}const c4=ee({chips:Boolean,closableChips:Boolean,closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"},eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:ze,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,...Wb({itemChildren:!1})},"Select"),u4=ee({...c4(),...wa(eS({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...Cl({transition:{component:gb}})},"VSelect"),h4=de()({name:"VSelect",props:u4(),emits:{"update:focused":t=>!0,"update:modelValue":t=>!0,"update:menu":t=>!0},setup(t,e){let{slots:n}=e;const{t:i}=Df(),s=le(),r=le(),a=le(),o=bt(t,"menu"),l=I({get:()=>o.value,set:F=>{var $;o.value&&!F&&(($=r.value)!=null&&$.openChildren.size)||(o.value=F)}}),{items:c,transformIn:u,transformOut:h}=m6(t),d=bt(t,"modelValue",[],F=>u(F===null?[null]:Jn(F)),F=>{const $=h(F);return t.multiple?$:$[0]??null}),f=I(()=>typeof t.counterValue=="function"?t.counterValue(d.value):typeof t.counterValue=="number"?t.counterValue:d.value.length),g=wb(t),m=I(()=>d.value.map(F=>F.value)),v=ge(!1),y=I(()=>l.value?t.closeText:t.openText);let _="",p;const x=I(()=>t.hideSelected?c.value.filter(F=>!d.value.some($=>(t.valueComparator||ji)($,F))):c.value),b=I(()=>t.hideNoData&&!x.value.length||g.isReadonly.value||g.isDisabled.value),C=I(()=>{var F;return{...t.menuProps,activatorProps:{...((F=t.menuProps)==null?void 0:F.activatorProps)||{},"aria-haspopup":"listbox"}}}),M=le(),E=l4(M,s);function R(F){t.openOnClear&&(l.value=!0)}function O(){b.value||(l.value=!l.value)}function k(F){Bm(F)&&w(F)}function w(F){var ne,Z;if(!F.key||g.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(F.key)&&F.preventDefault(),["Enter","ArrowDown"," "].includes(F.key)&&(l.value=!0),["Escape","Tab"].includes(F.key)&&(l.value=!1),F.key==="Home"?(ne=M.value)==null||ne.focus("first"):F.key==="End"&&((Z=M.value)==null||Z.focus("last"));const $=1e3;if(!Bm(F))return;const N=performance.now();N-p>$&&(_=""),_+=F.key.toLowerCase(),p=N;const L=c.value.find(oe=>oe.title.toLowerCase().startsWith(_));if(L!==void 0){d.value=[L];const oe=x.value.indexOf(L);Je&&window.requestAnimationFrame(()=>{var pe;oe>=0&&((pe=a.value)==null||pe.scrollToIndex(oe))})}}function A(F){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!F.props.disabled)if(t.multiple){const N=d.value.findIndex(ne=>(t.valueComparator||ji)(ne.value,F.value)),L=$??!~N;if(~N){const ne=L?[...d.value,F]:[...d.value];ne.splice(N,1),d.value=ne}else L&&(d.value=[...d.value,F])}else{const N=$!==!1;d.value=N?[F]:[],Qt(()=>{l.value=!1})}}function D(F){var $;($=M.value)!=null&&$.$el.contains(F.relatedTarget)||(l.value=!1)}function X(){var F;t.eager&&((F=a.value)==null||F.calculateVisibleItems())}function G(){var F;v.value&&((F=s.value)==null||F.focus())}function H(F){v.value=!0}function z(F){if(F==null)d.value=[];else if(Rc(s.value,":autofill")||Rc(s.value,":-webkit-autofill")){const $=c.value.find(N=>N.title===F);$&&A($)}else s.value&&(s.value.value="")}return be(l,()=>{if(!t.hideSelected&&l.value&&d.value.length){const F=x.value.findIndex($=>d.value.some(N=>(t.valueComparator||ji)(N.value,$.value)));Je&&window.requestAnimationFrame(()=>{var $;F>=0&&(($=a.value)==null||$.scrollToIndex(F))})}}),be(()=>t.items,(F,$)=>{l.value||v.value&&!$.length&&F.length&&(l.value=!0)}),Me(()=>{const F=!!(t.chips||n.chip),$=!!(!t.hideNoData||x.value.length||n["prepend-item"]||n["append-item"]||n["no-data"]),N=d.value.length>0,L=my.filterProps(t),ne=N||!v.value&&t.label&&!t.persistentPlaceholder?void 0:t.placeholder;return S(my,ke({ref:s},L,{modelValue:d.value.map(Z=>Z.props.value).join(", "),"onUpdate:modelValue":z,focused:v.value,"onUpdate:focused":Z=>v.value=Z,validationValue:d.externalValue,counterValue:f.value,dirty:N,class:["v-select",{"v-select--active-menu":l.value,"v-select--chips":!!t.chips,[`v-select--${t.multiple?"multiple":"single"}`]:!0,"v-select--selected":d.value.length,"v-select--selection-slot":!!n.selection},t.class],style:t.style,inputmode:"none",placeholder:ne,"onClick:clear":R,"onMousedown:control":O,onBlur:D,onKeydown:w,"aria-label":i(y.value),title:i(y.value)}),{...n,default:()=>S(Ge,null,[S(X6,ke({ref:r,modelValue:l.value,"onUpdate:modelValue":Z=>l.value=Z,activator:"parent",contentClass:"v-select__content",disabled:b.value,eager:t.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:t.transition,onAfterEnter:X,onAfterLeave:G},C.value),{default:()=>[$&&S(p6,ke({ref:M,selected:m.value,selectStrategy:t.multiple?"independent":"single-independent",onMousedown:Z=>Z.preventDefault(),onKeydown:k,onFocusin:H,tabindex:"-1","aria-live":"polite",color:t.itemColor??t.color},E,t.listProps),{default:()=>{var Z,oe,pe;return[(Z=n["prepend-item"])==null?void 0:Z.call(n),!x.value.length&&!t.hideNoData&&(((oe=n["no-data"])==null?void 0:oe.call(n))??S(ru,{key:"no-data",title:i(t.noDataText)},null)),S(o4,{ref:a,renderless:!0,items:x.value,itemKey:"value"},{default:ae=>{var T;let{item:ce,index:Ne,itemRef:Re}=ae;const sn=ke(ce.props,{ref:Re,key:ce.value,onClick:()=>A(ce,null)});return((T=n.item)==null?void 0:T.call(n,{item:ce,index:Ne,props:sn}))??S(ru,ke(sn,{role:"option"}),{prepend:P=>{let{isSelected:B}=P;return S(Ge,null,[t.multiple&&!t.hideSelected?S(O5,{key:ce.value,modelValue:B,ripple:!1,tabindex:"-1"},null):void 0,ce.props.prependAvatar&&S(Sr,{image:ce.props.prependAvatar},null),ce.props.prependIcon&&S(Tt,{icon:ce.props.prependIcon},null)])}})}}),(pe=n["append-item"])==null?void 0:pe.call(n)]}})]}),d.value.map((Z,oe)=>{function pe(Re){Re.stopPropagation(),Re.preventDefault(),A(Z,!1)}const ae={"onClick:close":pe,onKeydown(Re){Re.key!=="Enter"&&Re.key!==" "||(Re.preventDefault(),Re.stopPropagation(),pe(Re))},onMousedown(Re){Re.preventDefault(),Re.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},ce=F?!!n.chip:!!n.selection,Ne=ce?Q_(F?n.chip({item:Z,index:oe,props:ae}):n.selection({item:Z,index:oe})):void 0;if(!(ce&&!Ne))return S("div",{key:Z.value,class:"v-select__selection"},[F?n.chip?S(_t,{key:"chip-defaults",defaults:{VChip:{closable:t.closableChips,size:"small",text:Z.title}}},{default:()=>[Ne]}):S(X5,ke({key:"chip",closable:t.closableChips,size:"small",text:Z.title,disabled:Z.props.disabled},ae),null):Ne??S("span",{class:"v-select__selection-text"},[Z.title,t.multiple&&oe<d.value.length-1&&S("span",{class:"v-select__selection-comma"},[Mf(",")])])])})]),"append-inner":function(){var ae;for(var Z=arguments.length,oe=new Array(Z),pe=0;pe<Z;pe++)oe[pe]=arguments[pe];return S(Ge,null,[(ae=n["append-inner"])==null?void 0:ae.call(n,...oe),t.menuIcon?S(Tt,{class:"v-select__menu-icon",icon:t.menuIcon},null):void 0])}})}),Hg({isFocused:v,menu:l,select:A},s)}}),d4=ee({color:String,...ss(),...Pe(),...ai(),...Vs(),...Xu(),...Fg(),...jn(),...ut(),...pt()},"VSheet"),vy=de()({name:"VSheet",props:d4(),setup(t,e){let{slots:n}=e;const{themeClasses:i}=Ot(t),{backgroundColorClasses:s,backgroundColorStyles:r}=Mi(ye(t,"color")),{borderClasses:a}=rs(t),{dimensionStyles:o}=oi(t),{elevationClasses:l}=$s(t),{locationStyles:c}=qu(t),{positionClasses:u}=Bg(t),{roundedClasses:h}=Hn(t);return Me(()=>S(t.tag,{class:["v-sheet",i.value,s.value,a.value,l.value,u.value,h.value,t.class],style:[r.value,o.value,c.value,t.style]},n)),{}}}),f4={class:"text-right ma-0 pa-0"},g4={class:"ma-0 pa-0"},yy="MapLausanne.vue",_y="GoelandPointLayer",m4="GoelandBBoxLayer",py=6,v4="fonds_geo_osm_bdcad_couleur",y4="https://tilesmn95.lausanne.ch/tiles/1.0.0",_4=xf({__name:"MapLausanne",setup(t){const e=Vf(`${yy}`,4,4),n=[2537612,1152611],i=le(""),s=le(""),r=le(""),a=le(py),o=le(n),l=le(v4),c=le("click on the map to display the wmts tiles"),u=le(null),h=le([]),d=Mt([]),f=le(""),g=le("2021");be(()=>f.value,(v,y)=>{if(e.t(` watch layerSelected old: ${y}, new val: ${v}`),v!==void 0&&v!==y)for(const _ in h.value)_===f.value&&(e.l(`${_} - ${h.value[_].WMTSDimensionYear}`,h.value[_]),g.value=`${h.value[_].WMTSDimensionYear}`)}),I(()=>`${l}`);const m=I(()=>{const v=o.value[0].toFixed(2),y=o.value[1].toFixed(2);return`[ ${v}, ${y} ]`});return ii(async()=>{const v=` mounted ${yy} `;e.t(v);try{h.value=await $3()||[],e.l("arrLayersInfo:",h.value);for(const _ in h.value)if(Object.prototype.hasOwnProperty.call(h.value,_)){const p=h.value[_];d.push(`${p.Name}`)}f.value=d[0];const y=await N3(u.value,o.value,a.value,_y,l.value);if(y!==null){e.l(" map createLausanneMap returned a valid map"),y.getView().setCenter(o.value),y.getView().setZoom(a.value);const _={strokeColor:"red",strokeWidth:2,fillColor:"rgba(255, 0, 250, 0.1)",vertexFillColor:"yellow",vertexRadius:3};y.on("click",async p=>{const x=+Number(p.coordinate[0]).toFixed(2),b=+Number(p.coordinate[1]).toFixed(2),C=` Event map click at [${x},${b}]`;e.l(C),c.value=C,o.value=[x,b],y.getView().setCenter(o.value);const M=Number(a.value);k3(y,_y,[x,b]);const E=await V3(f.value,M,x,b);if(e.l("getTileByXY response:",E),E!==null){const R=F3(f.value,g.value,E.zoom,E.row,E.col);i.value=`${y4}${R}`;const O=B3(f.value,g.value,E.zoom,E.row,E.col);r.value=`${Bf}${O}`,s.value=E.wms_url,c.value=`tileUrl:${R}, wmtsProxyTileUrl:${O}`,D3(y,m4,E.bbox,!0,_)}}),y.on("moveend",()=>{e.t(" Event map moveend ");const p=y.getView().getCenter()||n,x=y.getView().getZoom()||py;e.l(`real zoom: ${x}`);const b=Math.round(x);o.value=p,a.value=b,y.getView().setZoom(b);const C=`map view changed to [${p[0].toFixed(2)},${p[1].toFixed(2)}] zoom:${b}`;e.l(C)})}}catch(y){const _=`event [map-error] map initialization error: ${y}`;e.e(_),c.value=_}}),(v,y)=>(A_(),P_(y5,{class:"fluid"},{default:ot(()=>[S(qa,{class:"ma-0 pa-0"},{default:ot(()=>[S(qs,{cols:"12",class:"ma-0 pa-0"},{default:ot(()=>[sc("div",{class:"map",ref_key:"divMap",ref:u},null,512)]),_:1})]),_:1}),S(qa,{class:"ma-0 pa-0"},{default:ot(()=>[S(qs,{cols:"12",class:"ma-0 pa-0"},{default:ot(()=>[S(vy,{color:"primary-darken-1",border:"",class:"no-margin"},{default:ot(()=>[sc("p",f4," layerSelected:["+dn(f.value)+"], year:["+dn(g.value)+"] - "+dn(m.value)+", zoom:"+dn(a.value)+"  ",1)]),_:1})]),_:1})]),_:1}),S(qa,{class:"ma-0 pa-0"},{default:ot(()=>[S(qs,{cols:"12",class:"ma-0 pa-0"},{default:ot(()=>[S(h4,{modelValue:f.value,"onUpdate:modelValue":y[0]||(y[0]=_=>f.value=_),items:d,density:"compact"},null,8,["modelValue","items"])]),_:1})]),_:1}),S(qa,{class:"ma-0 pa-0"},{default:ot(()=>[S(qs,{cols:"12",class:"ma-0 pa-0"},{default:ot(()=>[S(vy,{color:"primary-lighten-1",border:"",class:"no-margin"},{default:ot(()=>[sc("p",g4,dn(c.value),1)]),_:1})]),_:1})]),_:1}),S(qa,{justify:"space-evenly","align-items":"center",class:"ma-1 pa-0"},{default:ot(()=>[S(qs,{align:"center",cols:"4",class:"ma-0 pa-0"},{default:ot(()=>[S(qh,{title:"original wmts tile"},{default:ot(()=>[S(ur,{src:i.value,width:"256px"},null,8,["src"])]),_:1})]),_:1}),S(qs,{align:"center",cols:"4",class:"ma-0 pa-0"},{default:ot(()=>[S(qh,{title:"wms image"},{default:ot(()=>[S(ur,{src:s.value,width:"256px"},null,8,["src"])]),_:1})]),_:1}),S(qs,{align:"center",cols:"4",class:"ma-0 pa-0"},{default:ot(()=>[S(qh,{title:"proxy wmts tile"},{default:ot(()=>[S(ur,{src:r.value,width:"256px"},null,8,["src"])]),_:1})]),_:1})]),_:1})]),_:1}))}}),p4=ee({...Pe(),...kM({fullHeight:!0}),...pt()},"VApp"),x4=de()({name:"VApp",props:p4(),setup(t,e){let{slots:n}=e;const i=Ot(t),{layoutClasses:s,getLayoutItem:r,items:a,layoutRef:o}=VM(t),{rtlClasses:l}=si();return Me(()=>{var c;return S("div",{ref:o,class:["v-application",i.themeClasses.value,s.value,l.value,t.class],style:[t.style]},[S("div",{class:"v-application__wrap"},[(c=n.default)==null?void 0:c.call(n)])])}),{getLayoutItem:r,items:a,theme:i}}}),tS=ee({text:String,...Pe(),...ut()},"VToolbarTitle"),nS=de()({name:"VToolbarTitle",props:tS(),setup(t,e){let{slots:n}=e;return Me(()=>{const i=!!(n.default||n.text||t.text);return S(t.tag,{class:["v-toolbar-title",t.class],style:t.style},{default:()=>{var s;return[i&&S("div",{class:"v-toolbar-title__placeholder"},[n.text?n.text():t.text,(s=n.default)==null?void 0:s.call(n)])]}})}),{}}}),b4=[null,"prominent","default","comfortable","compact"],iS=ee({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:t=>b4.includes(t)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...ss(),...Pe(),...Vs(),...jn(),...ut({tag:"header"}),...pt()},"VToolbar"),xy=de()({name:"VToolbar",props:iS(),setup(t,e){var f;let{slots:n}=e;const{backgroundColorClasses:i,backgroundColorStyles:s}=Mi(ye(t,"color")),{borderClasses:r}=rs(t),{elevationClasses:a}=$s(t),{roundedClasses:o}=Hn(t),{themeClasses:l}=Ot(t),{rtlClasses:c}=si(),u=ge(!!(t.extended||(f=n.extension)!=null&&f.call(n))),h=I(()=>parseInt(Number(t.height)+(t.density==="prominent"?Number(t.height):0)-(t.density==="comfortable"?8:0)-(t.density==="compact"?16:0),10)),d=I(()=>u.value?parseInt(Number(t.extensionHeight)+(t.density==="prominent"?Number(t.extensionHeight):0)-(t.density==="comfortable"?4:0)-(t.density==="compact"?8:0),10):0);return wr({VBtn:{variant:"text"}}),Me(()=>{var y;const g=!!(t.title||n.title),m=!!(n.image||t.image),v=(y=n.extension)==null?void 0:y.call(n);return u.value=!!(t.extended||v),S(t.tag,{class:["v-toolbar",{"v-toolbar--absolute":t.absolute,"v-toolbar--collapse":t.collapse,"v-toolbar--flat":t.flat,"v-toolbar--floating":t.floating,[`v-toolbar--density-${t.density}`]:!0},i.value,r.value,a.value,o.value,l.value,c.value,t.class],style:[s.value,t.style]},{default:()=>[m&&S("div",{key:"image",class:"v-toolbar__image"},[n.image?S(_t,{key:"image-defaults",disabled:!t.image,defaults:{VImg:{cover:!0,src:t.image}}},n.image):S(ur,{key:"image-img",cover:!0,src:t.image},null)]),S(_t,{defaults:{VTabs:{height:Ee(h.value)}}},{default:()=>{var _,p,x;return[S("div",{class:"v-toolbar__content",style:{height:Ee(h.value)}},[n.prepend&&S("div",{class:"v-toolbar__prepend"},[(_=n.prepend)==null?void 0:_.call(n)]),g&&S(nS,{key:"title",text:t.title},{text:n.title}),(p=n.default)==null?void 0:p.call(n),n.append&&S("div",{class:"v-toolbar__append"},[(x=n.append)==null?void 0:x.call(n)])])]}}),S(_t,{defaults:{VTabs:{height:Ee(d.value)}}},{default:()=>[S(vb,null,{default:()=>[u.value&&S("div",{class:"v-toolbar__extension",style:{height:Ee(d.value)}},[v])]})]})]})}),{contentHeight:h,extensionHeight:d}}}),S4=ee({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function E4(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:n}=e;let i=0,s=0;const r=le(null),a=ge(0),o=ge(0),l=ge(0),c=ge(!1),u=ge(!1),h=I(()=>Number(t.scrollThreshold)),d=I(()=>Ei((h.value-a.value)/h.value||0)),f=()=>{const g=r.value;if(!g||n&&!n.value)return;i=a.value,a.value="window"in g?g.pageYOffset:g.scrollTop;const m=g instanceof Window?document.documentElement.scrollHeight:g.scrollHeight;if(s!==m){s=m;return}u.value=a.value<i,l.value=Math.abs(a.value-h.value)};return be(u,()=>{o.value=o.value||a.value}),be(c,()=>{o.value=0}),ii(()=>{be(()=>t.scrollTarget,g=>{var v;const m=g?document.querySelector(g):window;m&&m!==r.value&&((v=r.value)==null||v.removeEventListener("scroll",f),r.value=m,r.value.addEventListener("scroll",f,{passive:!0}))},{immediate:!0})}),bn(()=>{var g;(g=r.value)==null||g.removeEventListener("scroll",f)}),n&&be(n,f,{immediate:!0}),{scrollThreshold:h,currentScroll:a,currentThreshold:l,isScrollActive:c,scrollRatio:d,isScrollingUp:u,savedScroll:o}}const C4=ee({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:t=>["top","bottom"].includes(t)},...iS(),...DM(),...S4(),height:{type:[Number,String],default:64}},"VAppBar"),w4=de()({name:"VAppBar",props:C4(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=le(),s=bt(t,"modelValue"),r=I(()=>{var p;const _=new Set(((p=t.scrollBehavior)==null?void 0:p.split(" "))??[]);return{hide:_.has("hide"),fullyHide:_.has("fully-hide"),inverted:_.has("inverted"),collapse:_.has("collapse"),elevate:_.has("elevate"),fadeImage:_.has("fade-image")}}),a=I(()=>{const _=r.value;return _.hide||_.fullyHide||_.inverted||_.collapse||_.elevate||_.fadeImage||!s.value}),{currentScroll:o,scrollThreshold:l,isScrollingUp:c,scrollRatio:u}=E4(t,{canScroll:a}),h=I(()=>r.value.hide||r.value.fullyHide),d=I(()=>t.collapse||r.value.collapse&&(r.value.inverted?u.value>0:u.value===0)),f=I(()=>t.flat||r.value.fullyHide&&!s.value||r.value.elevate&&(r.value.inverted?o.value>0:o.value===0)),g=I(()=>r.value.fadeImage?r.value.inverted?1-u.value:u.value:void 0),m=I(()=>{var x,b;if(r.value.hide&&r.value.inverted)return 0;const _=((x=i.value)==null?void 0:x.contentHeight)??0,p=((b=i.value)==null?void 0:b.extensionHeight)??0;return h.value?o.value<l.value||r.value.fullyHide?_+p:_:_+p});Rs(I(()=>!!t.scrollBehavior),()=>{Wn(()=>{h.value?r.value.inverted?s.value=o.value>l.value:s.value=c.value||o.value<l.value:s.value=!0})});const{ssrBootStyles:v}=jg(),{layoutItemStyles:y}=FM({id:t.name,order:I(()=>parseInt(t.order,10)),position:ye(t,"location"),layoutSize:m,elementSize:ge(void 0),active:s,absolute:ye(t,"absolute")});return Me(()=>{const _=xy.filterProps(t);return S(xy,ke({ref:i,class:["v-app-bar",{"v-app-bar--bottom":t.location==="bottom"},t.class],style:[{...y.value,"--v-toolbar-image-opacity":g.value,height:void 0,...v.value},t.style]},_,{collapse:d.value,flat:f.value}),n)}),{}}}),sS=ee({baseColor:String,divided:Boolean,...ss(),...Pe(),...Pi(),...Vs(),...jn(),...ut(),...pt(),...Bs()},"VBtnGroup"),by=de()({name:"VBtnGroup",props:sS(),setup(t,e){let{slots:n}=e;const{themeClasses:i}=Ot(t),{densityClasses:s}=as(t),{borderClasses:r}=rs(t),{elevationClasses:a}=$s(t),{roundedClasses:o}=Hn(t);wr({VBtn:{height:"auto",baseColor:ye(t,"baseColor"),color:ye(t,"color"),density:ye(t,"density"),flat:!0,variant:ye(t,"variant")}}),Me(()=>S(t.tag,{class:["v-btn-group",{"v-btn-group--divided":t.divided},i.value,r.value,s.value,a.value,o.value,t.class],style:t.style},n))}}),rS=Symbol.for("vuetify:v-btn-toggle"),M4=ee({...sS(),...Gg()},"VBtnToggle");de()({name:"VBtnToggle",props:M4(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{isSelected:i,next:s,prev:r,select:a,selected:o}=zg(t,rS);return Me(()=>{const l=by.filterProps(t);return S(by,ke({class:["v-btn-toggle",t.class]},l,{style:t.style}),{default:()=>{var c;return[(c=n.default)==null?void 0:c.call(n,{isSelected:i,next:s,prev:r,select:a,selected:o})]}})}),{next:s,prev:r,select:a}}});const T4=ee({bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...Pe(),...Sl(),...ut({tag:"div"}),...pt()},"VProgressCircular"),R4=de()({name:"VProgressCircular",props:T4(),setup(t,e){let{slots:n}=e;const i=20,s=2*Math.PI*i,r=le(),{themeClasses:a}=Ot(t),{sizeClasses:o,sizeStyles:l}=El(t),{textColorClasses:c,textColorStyles:u}=Ji(ye(t,"color")),{textColorClasses:h,textColorStyles:d}=Ji(ye(t,"bgColor")),{intersectionRef:f,isIntersecting:g}=Hx(),{resizeRef:m,contentRect:v}=da(),y=I(()=>Math.max(0,Math.min(100,parseFloat(t.modelValue)))),_=I(()=>Number(t.width)),p=I(()=>l.value?Number(t.size):v.value?v.value.width:Math.max(_.value,32)),x=I(()=>i/(1-_.value/p.value)*2),b=I(()=>_.value/p.value*x.value),C=I(()=>Ee((100-y.value)/100*s));return Wn(()=>{f.value=r.value,m.value=r.value}),Me(()=>S(t.tag,{ref:r,class:["v-progress-circular",{"v-progress-circular--indeterminate":!!t.indeterminate,"v-progress-circular--visible":g.value,"v-progress-circular--disable-shrink":t.indeterminate==="disable-shrink"},a.value,o.value,c.value,t.class],style:[l.value,u.value,t.style],role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":t.indeterminate?void 0:y.value},{default:()=>[S("svg",{style:{transform:`rotate(calc(-90deg + ${Number(t.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${x.value} ${x.value}`},[S("circle",{class:["v-progress-circular__underlay",h.value],style:d.value,fill:"transparent",cx:"50%",cy:"50%",r:i,"stroke-width":b.value,"stroke-dasharray":s,"stroke-dashoffset":0},null),S("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r:i,"stroke-width":b.value,"stroke-dasharray":s,"stroke-dashoffset":C.value},null)]),n.default&&S("div",{class:"v-progress-circular__content"},[n.default({value:y.value})])]})),{}}});function I4(t,e){be(()=>{var n;return(n=t.isActive)==null?void 0:n.value},n=>{t.isLink.value&&n&&e&&Qt(()=>{e(!0)})},{immediate:!0})}const aS=ee({active:{type:Boolean,default:void 0},activeColor:String,baseColor:String,symbol:{type:null,default:rS},flat:Boolean,icon:[Boolean,String,Function,Object],prependIcon:ze,appendIcon:ze,block:Boolean,readonly:Boolean,slim:Boolean,stacked:Boolean,ripple:{type:[Boolean,Object],default:!0},text:{type:[String,Number,Boolean],default:void 0},...ss(),...Pe(),...Pi(),...ai(),...Vs(),...Tb(),...Dg(),...Xu(),...Fg(),...jn(),...Yu(),...Sl(),...ut({tag:"button"}),...pt(),...Bs({variant:"elevated"})},"VBtn"),A4=de()({name:"VBtn",props:aS(),emits:{"group:selected":t=>!0},setup(t,e){let{attrs:n,slots:i}=e;const{themeClasses:s}=Ot(t),{borderClasses:r}=rs(t),{densityClasses:a}=as(t),{dimensionStyles:o}=oi(t),{elevationClasses:l}=$s(t),{loaderClasses:c}=Ng(t),{locationStyles:u}=qu(t),{positionClasses:h}=Bg(t),{roundedClasses:d}=Hn(t),{sizeClasses:f,sizeStyles:g}=El(t),m=Rb(t,t.symbol,!1),v=Ku(t,n),y=I(()=>{var k;return t.active!==void 0?t.active:v.isLink.value?(k=v.isActive)==null?void 0:k.value:m==null?void 0:m.isSelected.value}),_=I(()=>y.value?t.activeColor??t.color:t.color),p=I(()=>{var w,A;return{color:(m==null?void 0:m.isSelected.value)&&(!v.isLink.value||((w=v.isActive)==null?void 0:w.value))||!m||((A=v.isActive)==null?void 0:A.value)?_.value??t.baseColor:t.baseColor,variant:t.variant}}),{colorClasses:x,colorStyles:b,variantClasses:C}=Ml(p),M=I(()=>(m==null?void 0:m.disabled.value)||t.disabled),E=I(()=>t.variant==="elevated"&&!(t.disabled||t.flat||t.border)),R=I(()=>{if(!(t.value===void 0||typeof t.value=="symbol"))return Object(t.value)===t.value?JSON.stringify(t.value,null,0):t.value});function O(k){var w;M.value||v.isLink.value&&(k.metaKey||k.ctrlKey||k.shiftKey||k.button!==0||n.target==="_blank")||((w=v.navigate)==null||w.call(v,k),m==null||m.toggle())}return I4(v,m==null?void 0:m.select),Me(()=>{const k=v.isLink.value?"a":t.tag,w=!!(t.prependIcon||i.prepend),A=!!(t.appendIcon||i.append),D=!!(t.icon&&t.icon!==!0);return In(S(k,ke({type:k==="a"?void 0:"button",class:["v-btn",m==null?void 0:m.selectedClass.value,{"v-btn--active":y.value,"v-btn--block":t.block,"v-btn--disabled":M.value,"v-btn--elevated":E.value,"v-btn--flat":t.flat,"v-btn--icon":!!t.icon,"v-btn--loading":t.loading,"v-btn--readonly":t.readonly,"v-btn--slim":t.slim,"v-btn--stacked":t.stacked},s.value,r.value,x.value,a.value,l.value,c.value,h.value,d.value,f.value,C.value,t.class],style:[b.value,o.value,u.value,g.value,t.style],"aria-busy":t.loading?!0:void 0,disabled:M.value||void 0,tabindex:t.loading||t.readonly?-1:void 0,onClick:O,value:R.value},v.linkProps),{default:()=>{var X;return[wl(!0,"v-btn"),!t.icon&&w&&S("span",{key:"prepend",class:"v-btn__prepend"},[i.prepend?S(_t,{key:"prepend-defaults",disabled:!t.prependIcon,defaults:{VIcon:{icon:t.prependIcon}}},i.prepend):S(Tt,{key:"prepend-icon",icon:t.prependIcon},null)]),S("span",{class:"v-btn__content","data-no-activator":""},[!i.default&&D?S(Tt,{key:"content-icon",icon:t.icon},null):S(_t,{key:"content-defaults",disabled:!D,defaults:{VIcon:{icon:t.icon}}},{default:()=>{var G;return[((G=i.default)==null?void 0:G.call(i))??dn(t.text)]}})]),!t.icon&&A&&S("span",{key:"append",class:"v-btn__append"},[i.append?S(_t,{key:"append-defaults",disabled:!t.appendIcon,defaults:{VIcon:{icon:t.appendIcon}}},i.append):S(Tt,{key:"append-icon",icon:t.appendIcon},null)]),!!t.loading&&S("span",{key:"loader",class:"v-btn__loader"},[((X=i.loader)==null?void 0:X.call(i))??S(R4,{color:typeof t.loading=="boolean"?void 0:t.loading,indeterminate:!0,width:"2"},null)])]}}),[[Tl,!M.value&&t.ripple,"",{center:!!t.icon}]])}),{group:m}}}),P4=ee({...aS({icon:"$menu",variant:"text"})},"VAppBarNavIcon"),L4=de()({name:"VAppBarNavIcon",props:P4(),setup(t,e){let{slots:n}=e;return Me(()=>S(A4,ke(t,{class:["v-app-bar-nav-icon"]}),n)),{}}}),O4=de()({name:"VAppBarTitle",props:tS(),setup(t,e){let{slots:n}=e;return Me(()=>S(nS,ke(t,{class:"v-app-bar-title"}),n)),{}}}),k4=ee({scrollable:Boolean,...Pe(),...ai(),...ut({tag:"main"})},"VMain"),D4=de()({name:"VMain",props:k4(),setup(t,e){let{slots:n}=e;const{dimensionStyles:i}=oi(t),{mainStyles:s}=NM(),{ssrBootStyles:r}=jg();return Me(()=>S(t.tag,{class:["v-main",{"v-main--scrollable":t.scrollable},t.class],style:[s.value,r.value,i.value,t.style]},{default:()=>{var a,o;return[t.scrollable?S("div",{class:"v-main__scroller"},[(a=n.default)==null?void 0:a.call(n)]):(o=n.default)==null?void 0:o.call(n)]}})),{}}}),N4=xf({__name:"App",setup(t){const e=Vf(`${Vl} v${hv}`,4,4);return ii(async()=>{const n=` mounted ${Vl}:App.vue`;document.title=Vl,e.t(n)}),(n,i)=>(A_(),P_(x4,null,{default:ot(()=>[S(w4,{elevation:6,density:"compact",color:"primary"},{prepend:ot(()=>[S(L4)]),default:ot(()=>[S(ur,{class:"align-start",src:WM,alt:"logo","max-width":"24px"}),S(O4,null,{default:ot(()=>[Mf(dn(Mn(Vl))+", v"+dn(Mn(hv)),1)]),_:1})]),_:1}),S(D4,null,{default:ot(()=>[S(_4)]),_:1})]),_:1}))}}),oS=DC(N4);zM(oS);oS.mount("#app")});export default F4();
